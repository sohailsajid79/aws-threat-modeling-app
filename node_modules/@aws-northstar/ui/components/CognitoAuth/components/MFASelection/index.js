import { jsx as _jsx } from "react/jsx-runtime";
import MFASelectionView from '../MFASelectionView';
import { useCallback } from 'react';
const MFASelection = ({ cognitoUser, resetView, challengeName, challengeParams, onMFARequired, }) => {
    const handleMFASetup = useCallback(async (data) => {
        return new Promise((resolve, reject) => {
            cognitoUser.sendMFASelectionAnswer(data.mfaMethod, {
                onSuccess() {
                    resolve({});
                    resetView();
                },
                onFailure(err) {
                    console.error('Cognito sendMFASelectionAnswer Failure', err);
                    reject(err);
                },
                mfaRequired(challengeName, challengeParams) {
                    onMFARequired(cognitoUser, challengeName, challengeParams);
                    resolve({});
                },
                totpRequired(challengeName, challengeParams) {
                    onMFARequired(cognitoUser, challengeName, challengeParams);
                    resolve({});
                },
            });
        });
    }, [cognitoUser, onMFARequired, resetView]);
    return (_jsx(MFASelectionView, { challengeName: challengeName, challengeParams: challengeParams, onConfirm: handleMFASetup, onBackToSignIn: resetView }));
};
export default MFASelection;
