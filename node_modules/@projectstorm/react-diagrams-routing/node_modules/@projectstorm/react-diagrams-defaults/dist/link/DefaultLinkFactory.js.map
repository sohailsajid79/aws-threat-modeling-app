{"version":3,"file":"DefaultLinkFactory.js","sourceRoot":"","sources":["../../src/link/DefaultLinkFactory.tsx"],"names":[],"mappings":"AAAA,OAAO,KAAK,KAAK,MAAM,OAAO,CAAC;AAC/B,OAAO,EAAE,gBAAgB,EAAE,MAAM,oBAAoB,CAAC;AACtD,OAAO,EAAE,iBAAiB,EAAE,MAAM,qBAAqB,CAAC;AACxD,OAAO,MAAM,MAAM,iBAAiB,CAAC;AACrC,OAAO,EAAE,oBAAoB,EAAE,MAAM,iCAAiC,CAAC;AAEvE,OAAO,EAAE,GAAG,EAAE,SAAS,EAAE,MAAM,gBAAgB,CAAC;AAEhD,IAAU,CAAC,CAoBV;AApBD,WAAU,CAAC;IACG,WAAS,GAAG,SAAS,CAAA;;;;;;;EAOjC,CAAC;IAEF,MAAM,QAAQ,GAAG,GAAG,CAAA;;eAEN,EAAA,SAAS;EACtB,CAAC;IAEW,MAAI,GAAG,MAAM,CAAC,IAAI,CAAuB;IACnD,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,QAAQ,IAAI,QAAQ;;;EAG/B,CAAC;AACH,CAAC,EApBS,CAAC,KAAD,CAAC,QAoBV;AAED,MAAM,OAAO,kBAAqE,SAAQ,oBAGzF;IACA,YAAY,IAAI,GAAG,SAAS;QAC3B,KAAK,CAAC,IAAI,CAAC,CAAC;IACb,CAAC;IAED,mBAAmB,CAAC,KAAK;QACxB,OAAO,oBAAC,iBAAiB,IAAC,IAAI,EAAE,KAAK,CAAC,KAAK,EAAE,aAAa,EAAE,IAAI,CAAC,MAAM,GAAI,CAAC;IAC7E,CAAC;IAED,aAAa,CAAC,KAAK;QAClB,OAAO,IAAI,gBAAgB,EAAU,CAAC;IACvC,CAAC;IAED,mBAAmB,CAAC,KAAW,EAAE,QAAiB,EAAE,IAAY;QAC/D,OAAO,CACN,oBAAC,CAAC,CAAC,IAAI,IACN,QAAQ,EAAE,QAAQ,EAClB,MAAM,EAAE,QAAQ,CAAC,CAAC,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC,aAAa,CAAC,CAAC,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC,KAAK,EAC9E,WAAW,EAAE,KAAK,CAAC,UAAU,EAAE,CAAC,KAAK,EACrC,CAAC,EAAE,IAAI,GACN,CACF,CAAC;IACH,CAAC;CACD","sourcesContent":["import * as React from 'react';\nimport { DefaultLinkModel } from './DefaultLinkModel';\nimport { DefaultLinkWidget } from './DefaultLinkWidget';\nimport styled from '@emotion/styled';\nimport { AbstractReactFactory } from '@projectstorm/react-canvas-core';\nimport { DiagramEngine } from '@projectstorm/react-diagrams-core';\nimport { css, keyframes } from '@emotion/react';\n\nnamespace S {\n\texport const Keyframes = keyframes`\n\t\tfrom {\n\t\t\tstroke-dashoffset: 24;\n\t\t}\n\t\tto {\n\t\t\tstroke-dashoffset: 0;\n\t\t}\n\t`;\n\n\tconst selected = css`\n\t\tstroke-dasharray: 10, 2;\n\t\tanimation: ${Keyframes} 1s linear infinite;\n\t`;\n\n\texport const Path = styled.path<{ selected: boolean }>`\n\t\t${(p) => p.selected && selected};\n\t\tfill: none;\n\t\tpointer-events: auto;\n\t`;\n}\n\nexport class DefaultLinkFactory<Link extends DefaultLinkModel = DefaultLinkModel> extends AbstractReactFactory<\n\tLink,\n\tDiagramEngine\n> {\n\tconstructor(type = 'default') {\n\t\tsuper(type);\n\t}\n\n\tgenerateReactWidget(event): JSX.Element {\n\t\treturn <DefaultLinkWidget link={event.model} diagramEngine={this.engine} />;\n\t}\n\n\tgenerateModel(event): Link {\n\t\treturn new DefaultLinkModel() as Link;\n\t}\n\n\tgenerateLinkSegment(model: Link, selected: boolean, path: string) {\n\t\treturn (\n\t\t\t<S.Path\n\t\t\t\tselected={selected}\n\t\t\t\tstroke={selected ? model.getOptions().selectedColor : model.getOptions().color}\n\t\t\t\tstrokeWidth={model.getOptions().width}\n\t\t\t\td={path}\n\t\t\t/>\n\t\t);\n\t}\n}\n"]}