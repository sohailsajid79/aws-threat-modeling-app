{"version":3,"file":"events.js","sourceRoot":"","sources":["../../../../src/board/utils/events.ts"],"names":[],"mappings":"AAAA,qEAAqE;AACrE,sCAAsC;AAGtC,OAAO,EAAE,iBAAiB,EAAE,MAAM,6BAA6B,CAAC;AAChE,OAAO,EAAE,cAAc,EAAE,MAAM,6BAA6B,CAAC;AAG7D,MAAM,UAAU,sBAAsB,CACpC,KAAoC,EACpC,WAAwB;;IAExB,MAAM,YAAY,GAAG,MAAA,MAAA,WAAW,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,IAAI,KAAK,QAAQ,CAAC,0CAAE,MAAM,mCAAI,IAAI,CAAC;IAC9F,MAAM,UAAU,GAAG,MAAA,MAAA,WAAW,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,IAAI,KAAK,MAAM,CAAC,0CAAE,MAAM,mCAAI,IAAI,CAAC;IAC1F,MAAM,YAAY,GAAG,MAAA,MAAA,WAAW,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,IAAI,KAAK,QAAQ,CAAC,0CAAE,MAAM,mCAAI,IAAI,CAAC;IAC9F,MAAM,YAAY,GAAG,MAAA,MAAA,WAAW,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,IAAI,KAAK,QAAQ,CAAC,0CAAE,MAAM,mCAAI,IAAI,CAAC;IAE9F,MAAM,QAAQ,GAAG,cAAc,CAAC,KAAK,EAAE,WAAW,CAAC,IAAI,EAAE,YAAY,aAAZ,YAAY,cAAZ,YAAY,GAAI,YAAY,CAAC,CAAC;IAEvF,OAAO,iBAAiB,CAAC;QACvB,KAAK,EAAE,QAAQ;QACf,SAAS,EAAE,QAAQ,CAAC,IAAI,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,KAAK,YAAY,CAAC;QACxD,WAAW,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,KAAK,YAAY,CAAC;QACvD,WAAW,EAAE,QAAQ,CAAC,IAAI,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,KAAK,YAAY,CAAC;QAC1D,SAAS,EAAE,CAAC,YAAY,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,KAAK,UAAU,CAAC,CAAC,CAAC,CAAC,SAAS;KACnF,CAAC,CAAC;AACL,CAAC","sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { LayoutShift } from \"../../internal/layout-engine/interfaces\";\nimport { createCustomEvent } from \"../../internal/utils/events\";\nimport { transformItems } from \"../../internal/utils/layout\";\nimport { BoardProps } from \"../interfaces\";\n\nexport function createItemsChangeEvent<D>(\n  items: readonly BoardProps.Item<D>[],\n  layoutShift: LayoutShift,\n): CustomEvent<BoardProps.ItemsChangeDetail<D>> {\n  const insertTarget = layoutShift.moves.find((move) => move.type === \"INSERT\")?.itemId ?? null;\n  const moveTarget = layoutShift.moves.find((move) => move.type === \"MOVE\")?.itemId ?? null;\n  const removeTarget = layoutShift.moves.find((move) => move.type === \"REMOVE\")?.itemId ?? null;\n  const resizeTarget = layoutShift.moves.find((move) => move.type === \"RESIZE\")?.itemId ?? null;\n\n  const newItems = transformItems(items, layoutShift.next, resizeTarget ?? insertTarget);\n\n  return createCustomEvent({\n    items: newItems,\n    addedItem: newItems.find((it) => it.id === insertTarget),\n    removedItem: items.find((it) => it.id === removeTarget),\n    resizedItem: newItems.find((it) => it.id === resizeTarget),\n    movedItem: !insertTarget ? newItems.find((it) => it.id === moveTarget) : undefined,\n  });\n}\n"]}