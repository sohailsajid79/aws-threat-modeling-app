{"version":3,"file":"create-transforms.js","sourceRoot":"","sources":["../../../../src/board/utils/create-transforms.ts"],"names":[],"mappings":"AAMA;;GAEG;AACH,MAAM,UAAU,gBAAgB,CAAC,IAAgB,EAAE,KAA+B,EAAE,WAAwB;IAC1G,MAAM,UAAU,GAA8B,EAAE,CAAC;IAEjD,KAAK,MAAM,IAAI,IAAI,KAAK,EAAE;QACxB,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,EAAE,KAAK,IAAI,CAAC,MAAM,CAAC,CAAC;QAEhE,IAAI,IAAI,CAAC,IAAI,KAAK,QAAQ,EAAE;YAC1B,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,EAAE,IAAI,EAAE,QAAQ,EAAE,CAAC;SAC9C;aAAM,IAAI,IAAI,EAAE;YACf,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG;gBACpB,IAAI,EAAE,MAAM;gBACZ,CAAC,EAAE,WAAW,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;gBAC5C,CAAC,EAAE,WAAW,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;gBAC5C,KAAK,EAAE,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC;gBACvC,MAAM,EAAE,WAAW,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC;aAC3C,CAAC;SACH;KACF;IAED,OAAO,UAAU,CAAC;AACpB,CAAC","sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { GridContext } from \"../../internal/grid/interfaces\";\nimport { GridLayout, ItemId, Transform } from \"../../internal/interfaces\";\nimport { CommittedMove } from \"../../internal/layout-engine/interfaces\";\n\n/**\n * Creates a mapping of between items and transforms to be applied while in transition.\n */\nexport function createTransforms(grid: GridLayout, moves: readonly CommittedMove[], gridContext: GridContext) {\n  const transforms: Record<ItemId, Transform> = {};\n\n  for (const move of moves) {\n    const item = grid.items.find((prev) => prev.id === move.itemId);\n\n    if (move.type === \"REMOVE\") {\n      transforms[move.itemId] = { type: \"remove\" };\n    } else if (item) {\n      transforms[item.id] = {\n        type: \"move\",\n        x: gridContext.getColOffset(move.x - item.x),\n        y: gridContext.getRowOffset(move.y - item.y),\n        width: gridContext.getWidth(move.width),\n        height: gridContext.getHeight(move.height),\n      };\n    }\n  }\n\n  return transforms;\n}\n"]}