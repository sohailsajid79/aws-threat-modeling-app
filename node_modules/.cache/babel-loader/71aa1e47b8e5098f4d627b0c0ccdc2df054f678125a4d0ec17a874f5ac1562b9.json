{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useContext, useEffect, useRef } from 'react';\nimport { ActiveDrawersContext } from '../../../app-layout/utils/visibility-context';\nexport function RuntimeContentWrapper({\n  mountContent,\n  unmountContent,\n  id\n}) {\n  const ref = useRef(null);\n  const visibilityChangeCallback = useRef(null);\n  const activeDrawersIds = useContext(ActiveDrawersContext);\n  const isVisible = !!id && activeDrawersIds.includes(id);\n  useEffect(() => {\n    const container = ref.current;\n    mountContent(container, {\n      onVisibilityChange: cb => {\n        visibilityChangeCallback.current = cb;\n      }\n    });\n    return () => {\n      unmountContent(container);\n      visibilityChangeCallback.current = null;\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  useEffect(() => {\n    var _a;\n    (_a = visibilityChangeCallback.current) === null || _a === void 0 ? void 0 : _a.call(visibilityChangeCallback, isVisible);\n  }, [isVisible]);\n  return React.createElement(\"div\", {\n    ref: ref\n  });\n}","map":{"version":3,"names":["React","useContext","useEffect","useRef","ActiveDrawersContext","RuntimeContentWrapper","mountContent","unmountContent","id","ref","visibilityChangeCallback","activeDrawersIds","isVisible","includes","container","current","onVisibilityChange","cb","_a","call","createElement"],"sources":["/Users/sohailsajid/Desktop/threat-modeling-app/node_modules/src/internal/plugins/helpers/runtime-content-wrapper.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useContext, useEffect, useRef } from 'react';\n\nimport { ActiveDrawersContext } from '../../../app-layout/utils/visibility-context';\nimport { MountContentContext } from '../controllers/drawers';\n\ntype VisibilityCallback = (isVisible: boolean) => void;\n\ninterface RuntimeContentWrapperProps {\n  mountContent: (container: HTMLElement, mountContent: MountContentContext) => void;\n  unmountContent: (container: HTMLElement) => void;\n  id?: string;\n}\n\nexport function RuntimeContentWrapper({ mountContent, unmountContent, id }: RuntimeContentWrapperProps) {\n  const ref = useRef<HTMLDivElement>(null);\n  const visibilityChangeCallback = useRef<VisibilityCallback | null>(null);\n  const activeDrawersIds = useContext(ActiveDrawersContext);\n  const isVisible = !!id && activeDrawersIds.includes(id);\n\n  useEffect(() => {\n    const container = ref.current!;\n    mountContent(container, {\n      onVisibilityChange: cb => {\n        visibilityChangeCallback.current = cb;\n      },\n    });\n    return () => {\n      unmountContent(container);\n      visibilityChangeCallback.current = null;\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    visibilityChangeCallback.current?.(isVisible);\n  }, [isVisible]);\n\n  return <div ref={ref}></div>;\n}\n"],"mappings":"AAAA;AACA;AACA,OAAOA,KAAK,IAAIC,UAAU,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAE5D,SAASC,oBAAoB,QAAQ,8CAA8C;AAWnF,OAAM,SAAUC,qBAAqBA,CAAC;EAAEC,YAAY;EAAEC,cAAc;EAAEC;AAAE,CAA8B;EACpG,MAAMC,GAAG,GAAGN,MAAM,CAAiB,IAAI,CAAC;EACxC,MAAMO,wBAAwB,GAAGP,MAAM,CAA4B,IAAI,CAAC;EACxE,MAAMQ,gBAAgB,GAAGV,UAAU,CAACG,oBAAoB,CAAC;EACzD,MAAMQ,SAAS,GAAG,CAAC,CAACJ,EAAE,IAAIG,gBAAgB,CAACE,QAAQ,CAACL,EAAE,CAAC;EAEvDN,SAAS,CAAC,MAAK;IACb,MAAMY,SAAS,GAAGL,GAAG,CAACM,OAAQ;IAC9BT,YAAY,CAACQ,SAAS,EAAE;MACtBE,kBAAkB,EAAEC,EAAE,IAAG;QACvBP,wBAAwB,CAACK,OAAO,GAAGE,EAAE;MACvC;KACD,CAAC;IACF,OAAO,MAAK;MACVV,cAAc,CAACO,SAAS,CAAC;MACzBJ,wBAAwB,CAACK,OAAO,GAAG,IAAI;IACzC,CAAC;IACD;EACF,CAAC,EAAE,EAAE,CAAC;EAENb,SAAS,CAAC,MAAK;;IACb,CAAAgB,EAAA,GAAAR,wBAAwB,CAACK,OAAO,cAAAG,EAAA,uBAAAA,EAAA,CAAAC,IAAA,CAAAT,wBAAA,EAAGE,SAAS,CAAC;EAC/C,CAAC,EAAE,CAACA,SAAS,CAAC,CAAC;EAEf,OAAOZ,KAAA,CAAAoB,aAAA;IAAKX,GAAG,EAAEA;EAAG,EAAQ;AAC9B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}