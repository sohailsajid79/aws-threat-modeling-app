{"ast":null,"code":"import _typeof from \"@babel/runtime/helpers/typeof\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nvar _excluded = [\"value\", \"blur\", \"change\", \"focus\"],\n  _excluded2 = [\"name\", \"resolveProps\", \"skipRegistration\"],\n  _excluded3 = [\"initializeOnMount\", \"component\", \"render\", \"validate\", \"useWarnings\", \"clearOnUnmount\", \"dataType\", \"FieldProps\"],\n  _excluded4 = [\"initialValue\", \"clearedValue\"];\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { useEffect, useContext, useRef, useReducer, useState } from 'react';\nimport { useField } from 'react-final-form';\nimport enhancedOnChange from './enhanced-on-change';\nimport RendererContext from '../renderer-context';\nimport convertInitialValue from './convert-initial-value';\nimport assignSpecialType from './assign-special-type';\nimport componentTypes from '../component-types';\nimport { prepareArrayValidator, getValidate } from './validator-helpers';\nimport composeValidators from '../compose-validators';\nimport isEqual from 'lodash/isEqual';\nimport get from 'lodash/get';\nvar calculateInitialValue = function calculateInitialValue(props) {\n  if (Object.prototype.hasOwnProperty.call(props, 'initialValue') && props.dataType) {\n    return convertInitialValue(props.initialValue, props.dataType);\n  }\n};\nvar calculateArrayValidator = function calculateArrayValidator(props, validate, component, validatorMapper) {\n  if ((validate || props.dataType) && componentTypes.FIELD_ARRAY === component) {\n    return prepareArrayValidator(getValidate(validate, props.dataType, validatorMapper));\n  }\n};\nvar calculateValidate = function calculateValidate(props, validate, component, validatorMapper, setWarning, useWarnings) {\n  if ((validate || props.dataType) && componentTypes.FIELD_ARRAY !== component) {\n    var validateFn = composeValidators(getValidate(validate, props.dataType, validatorMapper));\n    if (useWarnings) {\n      return /*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var result,\n          _args = arguments;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                setWarning(undefined);\n                _context.next = 3;\n                return validateFn.apply(void 0, _args);\n              case 3:\n                result = _context.sent;\n                if (!((result === null || result === void 0 ? void 0 : result.type) === 'warning')) {\n                  _context.next = 7;\n                  break;\n                }\n                setWarning(result.error);\n                return _context.abrupt(\"return\");\n              case 7:\n                return _context.abrupt(\"return\", result);\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n    }\n    return validateFn;\n  }\n};\nvar init = function init(_ref2) {\n  var props = _ref2.props,\n    validate = _ref2.validate,\n    component = _ref2.component,\n    validatorMapper = _ref2.validatorMapper,\n    setWarning = _ref2.setWarning,\n    useWarnings = _ref2.useWarnings;\n  return {\n    initialValue: calculateInitialValue(props),\n    arrayValidator: calculateArrayValidator(props, validate, component, validatorMapper),\n    validate: calculateValidate(props, validate, component, validatorMapper, setWarning, useWarnings),\n    type: assignSpecialType(component)\n  };\n};\nvar reducer = function reducer(state, _ref3) {\n  var type = _ref3.type,\n    specialType = _ref3.specialType,\n    validate = _ref3.validate,\n    arrayValidator = _ref3.arrayValidator,\n    initialValue = _ref3.initialValue;\n  switch (type) {\n    case 'setType':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        type: specialType\n      });\n    case 'setValidators':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        validate: validate,\n        arrayValidator: arrayValidator\n      });\n    case 'setInitialValue':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        initialValue: initialValue\n      });\n    default:\n      return state;\n  }\n};\nvar createFieldProps = function createFieldProps(name, formOptions) {\n  var _ref4 = formOptions.getFieldState(name) || {},\n    value = _ref4.value,\n    blur = _ref4.blur,\n    change = _ref4.change,\n    focus = _ref4.focus,\n    meta = _objectWithoutProperties(_ref4, _excluded);\n  return {\n    meta: meta,\n    input: {\n      name: name,\n      value: value\n    }\n  };\n};\nvar useFieldApi = function useFieldApi(_ref5) {\n  var name = _ref5.name,\n    resolveProps = _ref5.resolveProps,\n    _ref5$skipRegistratio = _ref5.skipRegistration,\n    skipRegistration = _ref5$skipRegistratio === void 0 ? false : _ref5$skipRegistratio,\n    props = _objectWithoutProperties(_ref5, _excluded2);\n  var _useContext = useContext(RendererContext),\n    validatorMapper = _useContext.validatorMapper,\n    formOptions = _useContext.formOptions;\n  var _useState = useState(),\n    _useState2 = _slicedToArray(_useState, 2),\n    warning = _useState2[0],\n    setWarning = _useState2[1]; // if there is field initial value, we have to check form initialValues\n  // initialValues should have higher priority\n\n  var formInitialValue = Object.prototype.hasOwnProperty.call(props, 'initialValue') ? get(formOptions.initialValues, name) : undefined;\n  var resolvedProps = resolveProps ? resolveProps(props, createFieldProps(name, formOptions), formOptions) || {} : {};\n  var combinedProps = _objectSpread(_objectSpread({}, props), resolvedProps);\n  var initializeOnMount = combinedProps.initializeOnMount,\n    component = combinedProps.component,\n    render = combinedProps.render,\n    validate = combinedProps.validate,\n    useWarnings = combinedProps.useWarnings,\n    clearOnUnmount = combinedProps.clearOnUnmount,\n    dataType = combinedProps.dataType,\n    FieldProps = combinedProps.FieldProps,\n    rest = _objectWithoutProperties(combinedProps, _excluded3);\n  var _useReducer = useReducer(reducer, {\n      props: combinedProps,\n      validate: validate,\n      component: component,\n      validatorMapper: validatorMapper,\n      setWarning: setWarning,\n      useWarnings: useWarnings\n    }, init),\n    _useReducer2 = _slicedToArray(_useReducer, 2),\n    _useReducer2$ = _useReducer2[0],\n    type = _useReducer2$.type,\n    initialValue = _useReducer2$.initialValue,\n    stateValidate = _useReducer2$.validate,\n    arrayValidator = _useReducer2$.arrayValidator,\n    dispatch = _useReducer2[1];\n  var mounted = useRef(false);\n  var enhancedProps = _objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({\n    dataType: dataType,\n    type: combinedProps.type\n  }, Object.prototype.hasOwnProperty.call(combinedProps, 'initialValue') ? {\n    initialValue: combinedProps.initialValue\n  } : {}), Object.prototype.hasOwnProperty.call(combinedProps, 'value') ? {\n    value: combinedProps.value\n  } : {}), FieldProps), type ? {\n    type: type\n  } : {}), initialValue ? {\n    initialValue: initialValue\n  } : {}), stateValidate ? {\n    validate: stateValidate\n  } : {});\n  var field = useField(name, _objectSpread(_objectSpread({}, enhancedProps), typeof formInitialValue !== 'undefined' && {\n    initialValue: formInitialValue\n  }));\n  /** Reinitilize type */\n\n  useEffect(function () {\n    if (mounted.current) {\n      var specialType = assignSpecialType(component);\n      if (specialType !== type) {\n        dispatch({\n          type: 'setType',\n          specialType: specialType\n        });\n      }\n    }\n  }, [component]);\n  /** Reinitilize array validator/validate */\n\n  useEffect(function () {\n    if (mounted.current) {\n      dispatch({\n        type: 'setValidators',\n        validate: calculateValidate(enhancedProps, validate, component, validatorMapper, setWarning, useWarnings),\n        arrayValidator: calculateArrayValidator(enhancedProps, validate, component, validatorMapper)\n      });\n    }\n    /**\n     * We have to stringify the validate array in order to preven infinite looping when validate was passed directly to useFieldApi\n     * const x = useFieldApu({name: 'foo', validate: [{type: 'bar'}]}) will trigger infinite looping witouth the serialize.\n     * Using stringify is acceptable here since the array is usually very small.\n     * If we notice performance hit, we can implement custom hook with a deep equal functionality.\n     */\n  }, [validate ? JSON.stringify(validate) : false, component, dataType]);\n  /** Re-convert initialValue when changed */\n\n  useEffect(function () {\n    if (mounted.current) {\n      var newInitialValue = calculateInitialValue(enhancedProps);\n      if (!isEqual(initialValue, newInitialValue)) {\n        dispatch({\n          type: 'setInitialValue',\n          initialValue: newInitialValue\n        });\n      }\n    }\n  }, [enhancedProps.initialValue, dataType]);\n  useEffect(function () {\n    /**\n     * Re initialize field when mounted to the Form\n     * This affects conditional fields\n     */\n    if (initializeOnMount) {\n      var value = Object.prototype.hasOwnProperty.call(enhancedProps, 'initialValue') ? enhancedProps.initialValue : formOptions.getFieldState(name).initial;\n      field.input.onChange(value);\n    }\n  }, [initializeOnMount, enhancedProps.initialValue, field.meta.initial, dataType]);\n  /**\n   * Prepare deleted value of field\n   */\n\n  var fieldClearedValue = Object.prototype.hasOwnProperty.call(rest, 'clearedValue') ? rest.clearedValue : formOptions.clearedValue;\n  useEffect(function () {\n    if (!skipRegistration) {\n      formOptions.internalRegisterField(name);\n    }\n    mounted.current = true;\n    if (field.input.type === 'file') {\n      formOptions.registerInputFile(field.input.name);\n    }\n    return function () {\n      mounted.current = false;\n      /**\n       * Delete the value from form state when field is inmounted\n       */\n\n      if ((formOptions.clearOnUnmount || clearOnUnmount) && clearOnUnmount !== false) {\n        field.input.onChange(fieldClearedValue);\n      }\n      if (field.input.type === 'file') {\n        formOptions.unRegisterInputFile(field.input.name);\n      }\n      if (!skipRegistration) {\n        formOptions.internalUnRegisterField(name);\n      }\n    };\n  },\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  []);\n  var _initialValue = rest.initialValue,\n    clearedValue = rest.clearedValue,\n    cleanProps = _objectWithoutProperties(rest, _excluded4);\n  /**\n   * construct component props necessary that would live in field provider\n   */\n\n  return _objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({}, cleanProps), field), arrayValidator && {\n    arrayValidator: arrayValidator\n  }), useWarnings && {\n    meta: _objectSpread(_objectSpread({}, field.meta), {}, {\n      warning: warning\n    })\n  }), {}, {\n    input: _objectSpread(_objectSpread({}, field.input), {}, {\n      value: field.input.type === 'file' && _typeof(field.input.value) === 'object' ? field.input.value.inputValue : field.input.value,\n      onChange: function onChange() {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n        enhancedOnChange.apply(void 0, [_objectSpread(_objectSpread({}, field.meta), {}, {\n          dataType: dataType,\n          onChange: field.input.onChange,\n          clearedValue: fieldClearedValue\n        })].concat(args));\n      }\n    })\n  });\n};\nexport default useFieldApi;","map":{"version":3,"names":["_typeof","_slicedToArray","_objectWithoutProperties","_defineProperty","_asyncToGenerator","_excluded","_excluded2","_excluded3","_excluded4","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","_regeneratorRuntime","useEffect","useContext","useRef","useReducer","useState","useField","enhancedOnChange","RendererContext","convertInitialValue","assignSpecialType","componentTypes","prepareArrayValidator","getValidate","composeValidators","isEqual","get","calculateInitialValue","props","prototype","hasOwnProperty","call","dataType","initialValue","calculateArrayValidator","validate","component","validatorMapper","FIELD_ARRAY","calculateValidate","setWarning","useWarnings","validateFn","mark","_callee","result","_args","wrap","_callee$","_context","prev","next","undefined","sent","type","error","abrupt","stop","init","_ref2","arrayValidator","reducer","state","_ref3","specialType","createFieldProps","name","formOptions","_ref4","getFieldState","value","blur","change","focus","meta","input","useFieldApi","_ref5","resolveProps","_ref5$skipRegistratio","skipRegistration","_useContext","_useState","_useState2","warning","formInitialValue","initialValues","resolvedProps","combinedProps","initializeOnMount","render","clearOnUnmount","FieldProps","rest","_useReducer","_useReducer2","_useReducer2$","stateValidate","dispatch","mounted","enhancedProps","field","current","JSON","stringify","newInitialValue","initial","onChange","fieldClearedValue","clearedValue","internalRegisterField","registerInputFile","unRegisterInputFile","internalUnRegisterField","_initialValue","cleanProps","inputValue","_len","args","Array","_key","concat"],"sources":["/Users/sohailsajid/Desktop/threat-modeling-app/node_modules/@data-driven-forms/react-form-renderer/esm/use-field-api/use-field-api.js"],"sourcesContent":["import _typeof from \"@babel/runtime/helpers/typeof\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nvar _excluded = [\"value\", \"blur\", \"change\", \"focus\"],\n    _excluded2 = [\"name\", \"resolveProps\", \"skipRegistration\"],\n    _excluded3 = [\"initializeOnMount\", \"component\", \"render\", \"validate\", \"useWarnings\", \"clearOnUnmount\", \"dataType\", \"FieldProps\"],\n    _excluded4 = [\"initialValue\", \"clearedValue\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { useEffect, useContext, useRef, useReducer, useState } from 'react';\nimport { useField } from 'react-final-form';\nimport enhancedOnChange from './enhanced-on-change';\nimport RendererContext from '../renderer-context';\nimport convertInitialValue from './convert-initial-value';\nimport assignSpecialType from './assign-special-type';\nimport componentTypes from '../component-types';\nimport { prepareArrayValidator, getValidate } from './validator-helpers';\nimport composeValidators from '../compose-validators';\nimport isEqual from 'lodash/isEqual';\nimport get from 'lodash/get';\n\nvar calculateInitialValue = function calculateInitialValue(props) {\n  if (Object.prototype.hasOwnProperty.call(props, 'initialValue') && props.dataType) {\n    return convertInitialValue(props.initialValue, props.dataType);\n  }\n};\n\nvar calculateArrayValidator = function calculateArrayValidator(props, validate, component, validatorMapper) {\n  if ((validate || props.dataType) && componentTypes.FIELD_ARRAY === component) {\n    return prepareArrayValidator(getValidate(validate, props.dataType, validatorMapper));\n  }\n};\n\nvar calculateValidate = function calculateValidate(props, validate, component, validatorMapper, setWarning, useWarnings) {\n  if ((validate || props.dataType) && componentTypes.FIELD_ARRAY !== component) {\n    var validateFn = composeValidators(getValidate(validate, props.dataType, validatorMapper));\n\n    if (useWarnings) {\n      return /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var result,\n            _args = arguments;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                setWarning(undefined);\n                _context.next = 3;\n                return validateFn.apply(void 0, _args);\n\n              case 3:\n                result = _context.sent;\n\n                if (!((result === null || result === void 0 ? void 0 : result.type) === 'warning')) {\n                  _context.next = 7;\n                  break;\n                }\n\n                setWarning(result.error);\n                return _context.abrupt(\"return\");\n\n              case 7:\n                return _context.abrupt(\"return\", result);\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n    }\n\n    return validateFn;\n  }\n};\n\nvar init = function init(_ref2) {\n  var props = _ref2.props,\n      validate = _ref2.validate,\n      component = _ref2.component,\n      validatorMapper = _ref2.validatorMapper,\n      setWarning = _ref2.setWarning,\n      useWarnings = _ref2.useWarnings;\n  return {\n    initialValue: calculateInitialValue(props),\n    arrayValidator: calculateArrayValidator(props, validate, component, validatorMapper),\n    validate: calculateValidate(props, validate, component, validatorMapper, setWarning, useWarnings),\n    type: assignSpecialType(component)\n  };\n};\n\nvar reducer = function reducer(state, _ref3) {\n  var type = _ref3.type,\n      specialType = _ref3.specialType,\n      validate = _ref3.validate,\n      arrayValidator = _ref3.arrayValidator,\n      initialValue = _ref3.initialValue;\n\n  switch (type) {\n    case 'setType':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        type: specialType\n      });\n\n    case 'setValidators':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        validate: validate,\n        arrayValidator: arrayValidator\n      });\n\n    case 'setInitialValue':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        initialValue: initialValue\n      });\n\n    default:\n      return state;\n  }\n};\n\nvar createFieldProps = function createFieldProps(name, formOptions) {\n  var _ref4 = formOptions.getFieldState(name) || {},\n      value = _ref4.value,\n      blur = _ref4.blur,\n      change = _ref4.change,\n      focus = _ref4.focus,\n      meta = _objectWithoutProperties(_ref4, _excluded);\n\n  return {\n    meta: meta,\n    input: {\n      name: name,\n      value: value\n    }\n  };\n};\n\nvar useFieldApi = function useFieldApi(_ref5) {\n  var name = _ref5.name,\n      resolveProps = _ref5.resolveProps,\n      _ref5$skipRegistratio = _ref5.skipRegistration,\n      skipRegistration = _ref5$skipRegistratio === void 0 ? false : _ref5$skipRegistratio,\n      props = _objectWithoutProperties(_ref5, _excluded2);\n\n  var _useContext = useContext(RendererContext),\n      validatorMapper = _useContext.validatorMapper,\n      formOptions = _useContext.formOptions;\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      warning = _useState2[0],\n      setWarning = _useState2[1]; // if there is field initial value, we have to check form initialValues\n  // initialValues should have higher priority\n\n\n  var formInitialValue = Object.prototype.hasOwnProperty.call(props, 'initialValue') ? get(formOptions.initialValues, name) : undefined;\n  var resolvedProps = resolveProps ? resolveProps(props, createFieldProps(name, formOptions), formOptions) || {} : {};\n\n  var combinedProps = _objectSpread(_objectSpread({}, props), resolvedProps);\n\n  var initializeOnMount = combinedProps.initializeOnMount,\n      component = combinedProps.component,\n      render = combinedProps.render,\n      validate = combinedProps.validate,\n      useWarnings = combinedProps.useWarnings,\n      clearOnUnmount = combinedProps.clearOnUnmount,\n      dataType = combinedProps.dataType,\n      FieldProps = combinedProps.FieldProps,\n      rest = _objectWithoutProperties(combinedProps, _excluded3);\n\n  var _useReducer = useReducer(reducer, {\n    props: combinedProps,\n    validate: validate,\n    component: component,\n    validatorMapper: validatorMapper,\n    setWarning: setWarning,\n    useWarnings: useWarnings\n  }, init),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      _useReducer2$ = _useReducer2[0],\n      type = _useReducer2$.type,\n      initialValue = _useReducer2$.initialValue,\n      stateValidate = _useReducer2$.validate,\n      arrayValidator = _useReducer2$.arrayValidator,\n      dispatch = _useReducer2[1];\n\n  var mounted = useRef(false);\n\n  var enhancedProps = _objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({\n    dataType: dataType,\n    type: combinedProps.type\n  }, Object.prototype.hasOwnProperty.call(combinedProps, 'initialValue') ? {\n    initialValue: combinedProps.initialValue\n  } : {}), Object.prototype.hasOwnProperty.call(combinedProps, 'value') ? {\n    value: combinedProps.value\n  } : {}), FieldProps), type ? {\n    type: type\n  } : {}), initialValue ? {\n    initialValue: initialValue\n  } : {}), stateValidate ? {\n    validate: stateValidate\n  } : {});\n\n  var field = useField(name, _objectSpread(_objectSpread({}, enhancedProps), typeof formInitialValue !== 'undefined' && {\n    initialValue: formInitialValue\n  }));\n  /** Reinitilize type */\n\n  useEffect(function () {\n    if (mounted.current) {\n      var specialType = assignSpecialType(component);\n\n      if (specialType !== type) {\n        dispatch({\n          type: 'setType',\n          specialType: specialType\n        });\n      }\n    }\n  }, [component]);\n  /** Reinitilize array validator/validate */\n\n  useEffect(function () {\n    if (mounted.current) {\n      dispatch({\n        type: 'setValidators',\n        validate: calculateValidate(enhancedProps, validate, component, validatorMapper, setWarning, useWarnings),\n        arrayValidator: calculateArrayValidator(enhancedProps, validate, component, validatorMapper)\n      });\n    }\n    /**\n     * We have to stringify the validate array in order to preven infinite looping when validate was passed directly to useFieldApi\n     * const x = useFieldApu({name: 'foo', validate: [{type: 'bar'}]}) will trigger infinite looping witouth the serialize.\n     * Using stringify is acceptable here since the array is usually very small.\n     * If we notice performance hit, we can implement custom hook with a deep equal functionality.\n     */\n\n  }, [validate ? JSON.stringify(validate) : false, component, dataType]);\n  /** Re-convert initialValue when changed */\n\n  useEffect(function () {\n    if (mounted.current) {\n      var newInitialValue = calculateInitialValue(enhancedProps);\n\n      if (!isEqual(initialValue, newInitialValue)) {\n        dispatch({\n          type: 'setInitialValue',\n          initialValue: newInitialValue\n        });\n      }\n    }\n  }, [enhancedProps.initialValue, dataType]);\n  useEffect(function () {\n    /**\n     * Re initialize field when mounted to the Form\n     * This affects conditional fields\n     */\n    if (initializeOnMount) {\n      var value = Object.prototype.hasOwnProperty.call(enhancedProps, 'initialValue') ? enhancedProps.initialValue : formOptions.getFieldState(name).initial;\n      field.input.onChange(value);\n    }\n  }, [initializeOnMount, enhancedProps.initialValue, field.meta.initial, dataType]);\n  /**\n   * Prepare deleted value of field\n   */\n\n  var fieldClearedValue = Object.prototype.hasOwnProperty.call(rest, 'clearedValue') ? rest.clearedValue : formOptions.clearedValue;\n  useEffect(function () {\n    if (!skipRegistration) {\n      formOptions.internalRegisterField(name);\n    }\n\n    mounted.current = true;\n\n    if (field.input.type === 'file') {\n      formOptions.registerInputFile(field.input.name);\n    }\n\n    return function () {\n      mounted.current = false;\n      /**\n       * Delete the value from form state when field is inmounted\n       */\n\n      if ((formOptions.clearOnUnmount || clearOnUnmount) && clearOnUnmount !== false) {\n        field.input.onChange(fieldClearedValue);\n      }\n\n      if (field.input.type === 'file') {\n        formOptions.unRegisterInputFile(field.input.name);\n      }\n\n      if (!skipRegistration) {\n        formOptions.internalUnRegisterField(name);\n      }\n    };\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  []);\n\n  var _initialValue = rest.initialValue,\n      clearedValue = rest.clearedValue,\n      cleanProps = _objectWithoutProperties(rest, _excluded4);\n  /**\n   * construct component props necessary that would live in field provider\n   */\n\n\n  return _objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({}, cleanProps), field), arrayValidator && {\n    arrayValidator: arrayValidator\n  }), useWarnings && {\n    meta: _objectSpread(_objectSpread({}, field.meta), {}, {\n      warning: warning\n    })\n  }), {}, {\n    input: _objectSpread(_objectSpread({}, field.input), {}, {\n      value: field.input.type === 'file' && _typeof(field.input.value) === 'object' ? field.input.value.inputValue : field.input.value,\n      onChange: function onChange() {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        enhancedOnChange.apply(void 0, [_objectSpread(_objectSpread({}, field.meta), {}, {\n          dataType: dataType,\n          onChange: field.input.onChange,\n          clearedValue: fieldClearedValue\n        })].concat(args));\n      }\n    })\n  });\n};\n\nexport default useFieldApi;"],"mappings":"AAAA,OAAOA,OAAO,MAAM,+BAA+B;AACnD,OAAOC,cAAc,MAAM,sCAAsC;AACjE,OAAOC,wBAAwB,MAAM,gDAAgD;AACrF,OAAOC,eAAe,MAAM,uCAAuC;AACnE,OAAOC,iBAAiB,MAAM,yCAAyC;AACvE,IAAIC,SAAS,GAAG,CAAC,OAAO,EAAE,MAAM,EAAE,QAAQ,EAAE,OAAO,CAAC;EAChDC,UAAU,GAAG,CAAC,MAAM,EAAE,cAAc,EAAE,kBAAkB,CAAC;EACzDC,UAAU,GAAG,CAAC,mBAAmB,EAAE,WAAW,EAAE,QAAQ,EAAE,UAAU,EAAE,aAAa,EAAE,gBAAgB,EAAE,UAAU,EAAE,YAAY,CAAC;EAChIC,UAAU,GAAG,CAAC,cAAc,EAAE,cAAc,CAAC;AAEjD,SAASC,OAAOA,CAACC,MAAM,EAAEC,cAAc,EAAE;EAAE,IAAIC,IAAI,GAAGC,MAAM,CAACD,IAAI,CAACF,MAAM,CAAC;EAAE,IAAIG,MAAM,CAACC,qBAAqB,EAAE;IAAE,IAAIC,OAAO,GAAGF,MAAM,CAACC,qBAAqB,CAACJ,MAAM,CAAC;IAAEC,cAAc,KAAKI,OAAO,GAAGA,OAAO,CAACC,MAAM,CAAC,UAAUC,GAAG,EAAE;MAAE,OAAOJ,MAAM,CAACK,wBAAwB,CAACR,MAAM,EAAEO,GAAG,CAAC,CAACE,UAAU;IAAE,CAAC,CAAC,CAAC,EAAEP,IAAI,CAACQ,IAAI,CAACC,KAAK,CAACT,IAAI,EAAEG,OAAO,CAAC;EAAE;EAAE,OAAOH,IAAI;AAAE;AAEpV,SAASU,aAAaA,CAACC,MAAM,EAAE;EAAE,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGC,SAAS,CAACC,MAAM,EAAEF,CAAC,EAAE,EAAE;IAAE,IAAIG,MAAM,GAAG,IAAI,IAAIF,SAAS,CAACD,CAAC,CAAC,GAAGC,SAAS,CAACD,CAAC,CAAC,GAAG,CAAC,CAAC;IAAEA,CAAC,GAAG,CAAC,GAAGf,OAAO,CAACI,MAAM,CAACc,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC,CAACC,OAAO,CAAC,UAAUC,GAAG,EAAE;MAAE1B,eAAe,CAACoB,MAAM,EAAEM,GAAG,EAAEF,MAAM,CAACE,GAAG,CAAC,CAAC;IAAE,CAAC,CAAC,GAAGhB,MAAM,CAACiB,yBAAyB,GAAGjB,MAAM,CAACkB,gBAAgB,CAACR,MAAM,EAAEV,MAAM,CAACiB,yBAAyB,CAACH,MAAM,CAAC,CAAC,GAAGlB,OAAO,CAACI,MAAM,CAACc,MAAM,CAAC,CAAC,CAACC,OAAO,CAAC,UAAUC,GAAG,EAAE;MAAEhB,MAAM,CAACmB,cAAc,CAACT,MAAM,EAAEM,GAAG,EAAEhB,MAAM,CAACK,wBAAwB,CAACS,MAAM,EAAEE,GAAG,CAAC,CAAC;IAAE,CAAC,CAAC;EAAE;EAAE,OAAON,MAAM;AAAE;AAEzf,OAAOU,mBAAmB,MAAM,4BAA4B;AAC5D,SAASC,SAAS,EAAEC,UAAU,EAAEC,MAAM,EAAEC,UAAU,EAAEC,QAAQ,QAAQ,OAAO;AAC3E,SAASC,QAAQ,QAAQ,kBAAkB;AAC3C,OAAOC,gBAAgB,MAAM,sBAAsB;AACnD,OAAOC,eAAe,MAAM,qBAAqB;AACjD,OAAOC,mBAAmB,MAAM,yBAAyB;AACzD,OAAOC,iBAAiB,MAAM,uBAAuB;AACrD,OAAOC,cAAc,MAAM,oBAAoB;AAC/C,SAASC,qBAAqB,EAAEC,WAAW,QAAQ,qBAAqB;AACxE,OAAOC,iBAAiB,MAAM,uBAAuB;AACrD,OAAOC,OAAO,MAAM,gBAAgB;AACpC,OAAOC,GAAG,MAAM,YAAY;AAE5B,IAAIC,qBAAqB,GAAG,SAASA,qBAAqBA,CAACC,KAAK,EAAE;EAChE,IAAItC,MAAM,CAACuC,SAAS,CAACC,cAAc,CAACC,IAAI,CAACH,KAAK,EAAE,cAAc,CAAC,IAAIA,KAAK,CAACI,QAAQ,EAAE;IACjF,OAAOb,mBAAmB,CAACS,KAAK,CAACK,YAAY,EAAEL,KAAK,CAACI,QAAQ,CAAC;EAChE;AACF,CAAC;AAED,IAAIE,uBAAuB,GAAG,SAASA,uBAAuBA,CAACN,KAAK,EAAEO,QAAQ,EAAEC,SAAS,EAAEC,eAAe,EAAE;EAC1G,IAAI,CAACF,QAAQ,IAAIP,KAAK,CAACI,QAAQ,KAAKX,cAAc,CAACiB,WAAW,KAAKF,SAAS,EAAE;IAC5E,OAAOd,qBAAqB,CAACC,WAAW,CAACY,QAAQ,EAAEP,KAAK,CAACI,QAAQ,EAAEK,eAAe,CAAC,CAAC;EACtF;AACF,CAAC;AAED,IAAIE,iBAAiB,GAAG,SAASA,iBAAiBA,CAACX,KAAK,EAAEO,QAAQ,EAAEC,SAAS,EAAEC,eAAe,EAAEG,UAAU,EAAEC,WAAW,EAAE;EACvH,IAAI,CAACN,QAAQ,IAAIP,KAAK,CAACI,QAAQ,KAAKX,cAAc,CAACiB,WAAW,KAAKF,SAAS,EAAE;IAC5E,IAAIM,UAAU,GAAGlB,iBAAiB,CAACD,WAAW,CAACY,QAAQ,EAAEP,KAAK,CAACI,QAAQ,EAAEK,eAAe,CAAC,CAAC;IAE1F,IAAII,WAAW,EAAE;MACf,OAAO,aAAa5D,iBAAiB,CAAE,aAAa6B,mBAAmB,CAACiC,IAAI,CAAC,SAASC,OAAOA,CAAA,EAAG;QAC9F,IAAIC,MAAM;UACNC,KAAK,GAAG5C,SAAS;QACrB,OAAOQ,mBAAmB,CAACqC,IAAI,CAAC,SAASC,QAAQA,CAACC,QAAQ,EAAE;UAC1D,OAAO,CAAC,EAAE;YACR,QAAQA,QAAQ,CAACC,IAAI,GAAGD,QAAQ,CAACE,IAAI;cACnC,KAAK,CAAC;gBACJX,UAAU,CAACY,SAAS,CAAC;gBACrBH,QAAQ,CAACE,IAAI,GAAG,CAAC;gBACjB,OAAOT,UAAU,CAAC5C,KAAK,CAAC,KAAK,CAAC,EAAEgD,KAAK,CAAC;cAExC,KAAK,CAAC;gBACJD,MAAM,GAAGI,QAAQ,CAACI,IAAI;gBAEtB,IAAI,EAAE,CAACR,MAAM,KAAK,IAAI,IAAIA,MAAM,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,MAAM,CAACS,IAAI,MAAM,SAAS,CAAC,EAAE;kBAClFL,QAAQ,CAACE,IAAI,GAAG,CAAC;kBACjB;gBACF;gBAEAX,UAAU,CAACK,MAAM,CAACU,KAAK,CAAC;gBACxB,OAAON,QAAQ,CAACO,MAAM,CAAC,QAAQ,CAAC;cAElC,KAAK,CAAC;gBACJ,OAAOP,QAAQ,CAACO,MAAM,CAAC,QAAQ,EAAEX,MAAM,CAAC;cAE1C,KAAK,CAAC;cACN,KAAK,KAAK;gBACR,OAAOI,QAAQ,CAACQ,IAAI,CAAC,CAAC;YAC1B;UACF;QACF,CAAC,EAAEb,OAAO,CAAC;MACb,CAAC,CAAC,CAAC;IACL;IAEA,OAAOF,UAAU;EACnB;AACF,CAAC;AAED,IAAIgB,IAAI,GAAG,SAASA,IAAIA,CAACC,KAAK,EAAE;EAC9B,IAAI/B,KAAK,GAAG+B,KAAK,CAAC/B,KAAK;IACnBO,QAAQ,GAAGwB,KAAK,CAACxB,QAAQ;IACzBC,SAAS,GAAGuB,KAAK,CAACvB,SAAS;IAC3BC,eAAe,GAAGsB,KAAK,CAACtB,eAAe;IACvCG,UAAU,GAAGmB,KAAK,CAACnB,UAAU;IAC7BC,WAAW,GAAGkB,KAAK,CAAClB,WAAW;EACnC,OAAO;IACLR,YAAY,EAAEN,qBAAqB,CAACC,KAAK,CAAC;IAC1CgC,cAAc,EAAE1B,uBAAuB,CAACN,KAAK,EAAEO,QAAQ,EAAEC,SAAS,EAAEC,eAAe,CAAC;IACpFF,QAAQ,EAAEI,iBAAiB,CAACX,KAAK,EAAEO,QAAQ,EAAEC,SAAS,EAAEC,eAAe,EAAEG,UAAU,EAAEC,WAAW,CAAC;IACjGa,IAAI,EAAElC,iBAAiB,CAACgB,SAAS;EACnC,CAAC;AACH,CAAC;AAED,IAAIyB,OAAO,GAAG,SAASA,OAAOA,CAACC,KAAK,EAAEC,KAAK,EAAE;EAC3C,IAAIT,IAAI,GAAGS,KAAK,CAACT,IAAI;IACjBU,WAAW,GAAGD,KAAK,CAACC,WAAW;IAC/B7B,QAAQ,GAAG4B,KAAK,CAAC5B,QAAQ;IACzByB,cAAc,GAAGG,KAAK,CAACH,cAAc;IACrC3B,YAAY,GAAG8B,KAAK,CAAC9B,YAAY;EAErC,QAAQqB,IAAI;IACV,KAAK,SAAS;MACZ,OAAOvD,aAAa,CAACA,aAAa,CAAC,CAAC,CAAC,EAAE+D,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE;QACjDR,IAAI,EAAEU;MACR,CAAC,CAAC;IAEJ,KAAK,eAAe;MAClB,OAAOjE,aAAa,CAACA,aAAa,CAAC,CAAC,CAAC,EAAE+D,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE;QACjD3B,QAAQ,EAAEA,QAAQ;QAClByB,cAAc,EAAEA;MAClB,CAAC,CAAC;IAEJ,KAAK,iBAAiB;MACpB,OAAO7D,aAAa,CAACA,aAAa,CAAC,CAAC,CAAC,EAAE+D,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE;QACjD7B,YAAY,EAAEA;MAChB,CAAC,CAAC;IAEJ;MACE,OAAO6B,KAAK;EAChB;AACF,CAAC;AAED,IAAIG,gBAAgB,GAAG,SAASA,gBAAgBA,CAACC,IAAI,EAAEC,WAAW,EAAE;EAClE,IAAIC,KAAK,GAAGD,WAAW,CAACE,aAAa,CAACH,IAAI,CAAC,IAAI,CAAC,CAAC;IAC7CI,KAAK,GAAGF,KAAK,CAACE,KAAK;IACnBC,IAAI,GAAGH,KAAK,CAACG,IAAI;IACjBC,MAAM,GAAGJ,KAAK,CAACI,MAAM;IACrBC,KAAK,GAAGL,KAAK,CAACK,KAAK;IACnBC,IAAI,GAAG/F,wBAAwB,CAACyF,KAAK,EAAEtF,SAAS,CAAC;EAErD,OAAO;IACL4F,IAAI,EAAEA,IAAI;IACVC,KAAK,EAAE;MACLT,IAAI,EAAEA,IAAI;MACVI,KAAK,EAAEA;IACT;EACF,CAAC;AACH,CAAC;AAED,IAAIM,WAAW,GAAG,SAASA,WAAWA,CAACC,KAAK,EAAE;EAC5C,IAAIX,IAAI,GAAGW,KAAK,CAACX,IAAI;IACjBY,YAAY,GAAGD,KAAK,CAACC,YAAY;IACjCC,qBAAqB,GAAGF,KAAK,CAACG,gBAAgB;IAC9CA,gBAAgB,GAAGD,qBAAqB,KAAK,KAAK,CAAC,GAAG,KAAK,GAAGA,qBAAqB;IACnFnD,KAAK,GAAGjD,wBAAwB,CAACkG,KAAK,EAAE9F,UAAU,CAAC;EAEvD,IAAIkG,WAAW,GAAGrE,UAAU,CAACM,eAAe,CAAC;IACzCmB,eAAe,GAAG4C,WAAW,CAAC5C,eAAe;IAC7C8B,WAAW,GAAGc,WAAW,CAACd,WAAW;EAEzC,IAAIe,SAAS,GAAGnE,QAAQ,CAAC,CAAC;IACtBoE,UAAU,GAAGzG,cAAc,CAACwG,SAAS,EAAE,CAAC,CAAC;IACzCE,OAAO,GAAGD,UAAU,CAAC,CAAC,CAAC;IACvB3C,UAAU,GAAG2C,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;EAChC;;EAGA,IAAIE,gBAAgB,GAAG/F,MAAM,CAACuC,SAAS,CAACC,cAAc,CAACC,IAAI,CAACH,KAAK,EAAE,cAAc,CAAC,GAAGF,GAAG,CAACyC,WAAW,CAACmB,aAAa,EAAEpB,IAAI,CAAC,GAAGd,SAAS;EACrI,IAAImC,aAAa,GAAGT,YAAY,GAAGA,YAAY,CAAClD,KAAK,EAAEqC,gBAAgB,CAACC,IAAI,EAAEC,WAAW,CAAC,EAAEA,WAAW,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;EAEnH,IAAIqB,aAAa,GAAGzF,aAAa,CAACA,aAAa,CAAC,CAAC,CAAC,EAAE6B,KAAK,CAAC,EAAE2D,aAAa,CAAC;EAE1E,IAAIE,iBAAiB,GAAGD,aAAa,CAACC,iBAAiB;IACnDrD,SAAS,GAAGoD,aAAa,CAACpD,SAAS;IACnCsD,MAAM,GAAGF,aAAa,CAACE,MAAM;IAC7BvD,QAAQ,GAAGqD,aAAa,CAACrD,QAAQ;IACjCM,WAAW,GAAG+C,aAAa,CAAC/C,WAAW;IACvCkD,cAAc,GAAGH,aAAa,CAACG,cAAc;IAC7C3D,QAAQ,GAAGwD,aAAa,CAACxD,QAAQ;IACjC4D,UAAU,GAAGJ,aAAa,CAACI,UAAU;IACrCC,IAAI,GAAGlH,wBAAwB,CAAC6G,aAAa,EAAExG,UAAU,CAAC;EAE9D,IAAI8G,WAAW,GAAGhF,UAAU,CAAC+C,OAAO,EAAE;MACpCjC,KAAK,EAAE4D,aAAa;MACpBrD,QAAQ,EAAEA,QAAQ;MAClBC,SAAS,EAAEA,SAAS;MACpBC,eAAe,EAAEA,eAAe;MAChCG,UAAU,EAAEA,UAAU;MACtBC,WAAW,EAAEA;IACf,CAAC,EAAEiB,IAAI,CAAC;IACJqC,YAAY,GAAGrH,cAAc,CAACoH,WAAW,EAAE,CAAC,CAAC;IAC7CE,aAAa,GAAGD,YAAY,CAAC,CAAC,CAAC;IAC/BzC,IAAI,GAAG0C,aAAa,CAAC1C,IAAI;IACzBrB,YAAY,GAAG+D,aAAa,CAAC/D,YAAY;IACzCgE,aAAa,GAAGD,aAAa,CAAC7D,QAAQ;IACtCyB,cAAc,GAAGoC,aAAa,CAACpC,cAAc;IAC7CsC,QAAQ,GAAGH,YAAY,CAAC,CAAC,CAAC;EAE9B,IAAII,OAAO,GAAGtF,MAAM,CAAC,KAAK,CAAC;EAE3B,IAAIuF,aAAa,GAAGrG,aAAa,CAACA,aAAa,CAACA,aAAa,CAACA,aAAa,CAACA,aAAa,CAACA,aAAa,CAAC;IACtGiC,QAAQ,EAAEA,QAAQ;IAClBsB,IAAI,EAAEkC,aAAa,CAAClC;EACtB,CAAC,EAAEhE,MAAM,CAACuC,SAAS,CAACC,cAAc,CAACC,IAAI,CAACyD,aAAa,EAAE,cAAc,CAAC,GAAG;IACvEvD,YAAY,EAAEuD,aAAa,CAACvD;EAC9B,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE3C,MAAM,CAACuC,SAAS,CAACC,cAAc,CAACC,IAAI,CAACyD,aAAa,EAAE,OAAO,CAAC,GAAG;IACtElB,KAAK,EAAEkB,aAAa,CAAClB;EACvB,CAAC,GAAG,CAAC,CAAC,CAAC,EAAEsB,UAAU,CAAC,EAAEtC,IAAI,GAAG;IAC3BA,IAAI,EAAEA;EACR,CAAC,GAAG,CAAC,CAAC,CAAC,EAAErB,YAAY,GAAG;IACtBA,YAAY,EAAEA;EAChB,CAAC,GAAG,CAAC,CAAC,CAAC,EAAEgE,aAAa,GAAG;IACvB9D,QAAQ,EAAE8D;EACZ,CAAC,GAAG,CAAC,CAAC,CAAC;EAEP,IAAII,KAAK,GAAGrF,QAAQ,CAACkD,IAAI,EAAEnE,aAAa,CAACA,aAAa,CAAC,CAAC,CAAC,EAAEqG,aAAa,CAAC,EAAE,OAAOf,gBAAgB,KAAK,WAAW,IAAI;IACpHpD,YAAY,EAAEoD;EAChB,CAAC,CAAC,CAAC;EACH;;EAEA1E,SAAS,CAAC,YAAY;IACpB,IAAIwF,OAAO,CAACG,OAAO,EAAE;MACnB,IAAItC,WAAW,GAAG5C,iBAAiB,CAACgB,SAAS,CAAC;MAE9C,IAAI4B,WAAW,KAAKV,IAAI,EAAE;QACxB4C,QAAQ,CAAC;UACP5C,IAAI,EAAE,SAAS;UACfU,WAAW,EAAEA;QACf,CAAC,CAAC;MACJ;IACF;EACF,CAAC,EAAE,CAAC5B,SAAS,CAAC,CAAC;EACf;;EAEAzB,SAAS,CAAC,YAAY;IACpB,IAAIwF,OAAO,CAACG,OAAO,EAAE;MACnBJ,QAAQ,CAAC;QACP5C,IAAI,EAAE,eAAe;QACrBnB,QAAQ,EAAEI,iBAAiB,CAAC6D,aAAa,EAAEjE,QAAQ,EAAEC,SAAS,EAAEC,eAAe,EAAEG,UAAU,EAAEC,WAAW,CAAC;QACzGmB,cAAc,EAAE1B,uBAAuB,CAACkE,aAAa,EAAEjE,QAAQ,EAAEC,SAAS,EAAEC,eAAe;MAC7F,CAAC,CAAC;IACJ;IACA;AACJ;AACA;AACA;AACA;AACA;EAEE,CAAC,EAAE,CAACF,QAAQ,GAAGoE,IAAI,CAACC,SAAS,CAACrE,QAAQ,CAAC,GAAG,KAAK,EAAEC,SAAS,EAAEJ,QAAQ,CAAC,CAAC;EACtE;;EAEArB,SAAS,CAAC,YAAY;IACpB,IAAIwF,OAAO,CAACG,OAAO,EAAE;MACnB,IAAIG,eAAe,GAAG9E,qBAAqB,CAACyE,aAAa,CAAC;MAE1D,IAAI,CAAC3E,OAAO,CAACQ,YAAY,EAAEwE,eAAe,CAAC,EAAE;QAC3CP,QAAQ,CAAC;UACP5C,IAAI,EAAE,iBAAiB;UACvBrB,YAAY,EAAEwE;QAChB,CAAC,CAAC;MACJ;IACF;EACF,CAAC,EAAE,CAACL,aAAa,CAACnE,YAAY,EAAED,QAAQ,CAAC,CAAC;EAC1CrB,SAAS,CAAC,YAAY;IACpB;AACJ;AACA;AACA;IACI,IAAI8E,iBAAiB,EAAE;MACrB,IAAInB,KAAK,GAAGhF,MAAM,CAACuC,SAAS,CAACC,cAAc,CAACC,IAAI,CAACqE,aAAa,EAAE,cAAc,CAAC,GAAGA,aAAa,CAACnE,YAAY,GAAGkC,WAAW,CAACE,aAAa,CAACH,IAAI,CAAC,CAACwC,OAAO;MACtJL,KAAK,CAAC1B,KAAK,CAACgC,QAAQ,CAACrC,KAAK,CAAC;IAC7B;EACF,CAAC,EAAE,CAACmB,iBAAiB,EAAEW,aAAa,CAACnE,YAAY,EAAEoE,KAAK,CAAC3B,IAAI,CAACgC,OAAO,EAAE1E,QAAQ,CAAC,CAAC;EACjF;AACF;AACA;;EAEE,IAAI4E,iBAAiB,GAAGtH,MAAM,CAACuC,SAAS,CAACC,cAAc,CAACC,IAAI,CAAC8D,IAAI,EAAE,cAAc,CAAC,GAAGA,IAAI,CAACgB,YAAY,GAAG1C,WAAW,CAAC0C,YAAY;EACjIlG,SAAS,CAAC,YAAY;IACpB,IAAI,CAACqE,gBAAgB,EAAE;MACrBb,WAAW,CAAC2C,qBAAqB,CAAC5C,IAAI,CAAC;IACzC;IAEAiC,OAAO,CAACG,OAAO,GAAG,IAAI;IAEtB,IAAID,KAAK,CAAC1B,KAAK,CAACrB,IAAI,KAAK,MAAM,EAAE;MAC/Ba,WAAW,CAAC4C,iBAAiB,CAACV,KAAK,CAAC1B,KAAK,CAACT,IAAI,CAAC;IACjD;IAEA,OAAO,YAAY;MACjBiC,OAAO,CAACG,OAAO,GAAG,KAAK;MACvB;AACN;AACA;;MAEM,IAAI,CAACnC,WAAW,CAACwB,cAAc,IAAIA,cAAc,KAAKA,cAAc,KAAK,KAAK,EAAE;QAC9EU,KAAK,CAAC1B,KAAK,CAACgC,QAAQ,CAACC,iBAAiB,CAAC;MACzC;MAEA,IAAIP,KAAK,CAAC1B,KAAK,CAACrB,IAAI,KAAK,MAAM,EAAE;QAC/Ba,WAAW,CAAC6C,mBAAmB,CAACX,KAAK,CAAC1B,KAAK,CAACT,IAAI,CAAC;MACnD;MAEA,IAAI,CAACc,gBAAgB,EAAE;QACrBb,WAAW,CAAC8C,uBAAuB,CAAC/C,IAAI,CAAC;MAC3C;IACF,CAAC;EACH,CAAC;EAAE;EACH,EAAE,CAAC;EAEH,IAAIgD,aAAa,GAAGrB,IAAI,CAAC5D,YAAY;IACjC4E,YAAY,GAAGhB,IAAI,CAACgB,YAAY;IAChCM,UAAU,GAAGxI,wBAAwB,CAACkH,IAAI,EAAE5G,UAAU,CAAC;EAC3D;AACF;AACA;;EAGE,OAAOc,aAAa,CAACA,aAAa,CAACA,aAAa,CAACA,aAAa,CAACA,aAAa,CAAC,CAAC,CAAC,EAAEoH,UAAU,CAAC,EAAEd,KAAK,CAAC,EAAEzC,cAAc,IAAI;IACtHA,cAAc,EAAEA;EAClB,CAAC,CAAC,EAAEnB,WAAW,IAAI;IACjBiC,IAAI,EAAE3E,aAAa,CAACA,aAAa,CAAC,CAAC,CAAC,EAAEsG,KAAK,CAAC3B,IAAI,CAAC,EAAE,CAAC,CAAC,EAAE;MACrDU,OAAO,EAAEA;IACX,CAAC;EACH,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE;IACNT,KAAK,EAAE5E,aAAa,CAACA,aAAa,CAAC,CAAC,CAAC,EAAEsG,KAAK,CAAC1B,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE;MACvDL,KAAK,EAAE+B,KAAK,CAAC1B,KAAK,CAACrB,IAAI,KAAK,MAAM,IAAI7E,OAAO,CAAC4H,KAAK,CAAC1B,KAAK,CAACL,KAAK,CAAC,KAAK,QAAQ,GAAG+B,KAAK,CAAC1B,KAAK,CAACL,KAAK,CAAC8C,UAAU,GAAGf,KAAK,CAAC1B,KAAK,CAACL,KAAK;MAChIqC,QAAQ,EAAE,SAASA,QAAQA,CAAA,EAAG;QAC5B,KAAK,IAAIU,IAAI,GAAGnH,SAAS,CAACC,MAAM,EAAEmH,IAAI,GAAG,IAAIC,KAAK,CAACF,IAAI,CAAC,EAAEG,IAAI,GAAG,CAAC,EAAEA,IAAI,GAAGH,IAAI,EAAEG,IAAI,EAAE,EAAE;UACvFF,IAAI,CAACE,IAAI,CAAC,GAAGtH,SAAS,CAACsH,IAAI,CAAC;QAC9B;QAEAvG,gBAAgB,CAACnB,KAAK,CAAC,KAAK,CAAC,EAAE,CAACC,aAAa,CAACA,aAAa,CAAC,CAAC,CAAC,EAAEsG,KAAK,CAAC3B,IAAI,CAAC,EAAE,CAAC,CAAC,EAAE;UAC/E1C,QAAQ,EAAEA,QAAQ;UAClB2E,QAAQ,EAAEN,KAAK,CAAC1B,KAAK,CAACgC,QAAQ;UAC9BE,YAAY,EAAED;QAChB,CAAC,CAAC,CAAC,CAACa,MAAM,CAACH,IAAI,CAAC,CAAC;MACnB;IACF,CAAC;EACH,CAAC,CAAC;AACJ,CAAC;AAED,eAAe1C,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}