{"ast":null,"code":"var _jsxFileName = \"/Users/sohailsajid/Desktop/threat-modeling-app/src/components/threats/ThreatStatementList/index.tsx\",\n  _s = $RefreshSig$();\n/** *******************************************************************************************************************\n  Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n\n  Licensed under the Apache License, Version 2.0 (the \"License\").\n  You may not use this file except in compliance with the License.\n  You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n  Unless required by applicable law or agreed to in writing, software\n  distributed under the License is distributed on an \"AS IS\" BASIS,\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  See the License for the specific language governing permissions and\n  limitations under the License.\n ******************************************************************************************************************** */\n\n/** @jsxImportSource @emotion/react */\nimport Button from '@cloudscape-design/components/button';\nimport Container from '@cloudscape-design/components/container';\nimport Grid from '@cloudscape-design/components/grid';\nimport Header from '@cloudscape-design/components/header';\nimport Multiselect from '@cloudscape-design/components/multiselect';\nimport SpaceBetween from '@cloudscape-design/components/space-between';\nimport TextFilter from '@cloudscape-design/components/text-filter';\nimport { css } from '@emotion/react';\nimport { useCallback, useMemo, useState } from 'react';\nimport { LEVEL_SELECTOR_OPTIONS, DEFAULT_NEW_ENTITY_ID, LEVEL_NOT_SET } from '../../../configs';\nimport { useAssumptionLinksContext, useMitigationLinksContext, useControlLinksContext } from '../../../contexts';\nimport { useGlobalSetupContext } from '../../../contexts/GlobalSetupContext/context';\nimport { useThreatsContext } from '../../../contexts/ThreatsContext/context';\nimport useEditMetadata from '../../../hooks/useEditMetadata';\nimport { addTagToEntity, removeTagFromEntity } from '../../../utils/entityTag';\nimport AssetSelector from '../../generic/AssetSelector';\nimport LinkedEntityFilter, { ALL, WITHOUT_NO_LINKED_ENTITY, WITH_LINKED_ENTITY } from '../../generic/LinkedEntityFilter';\nimport { OPTIONS as STRIDEOptions } from '../../generic/STRIDESelector';\nimport TagSelector from '../../generic/TagSelector';\nimport WorkspaceSelector from '../../workspaces/WorkspaceSelector';\nimport SortByComponent, { DEFAULT_SORT_BY } from '../SortBy';\nimport ThreatStatementCard from '../ThreatStatementCard';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"@emotion/react/jsx-dev-runtime\";\nconst LevelOptionsWithNoValue = [...LEVEL_SELECTOR_OPTIONS, {\n  label: 'Priority Not Set',\n  value: LEVEL_NOT_SET\n}];\nconst STRIDE_OPTION_NO_VALUE = {\n  label: 'STRIDE Not Set',\n  value: LEVEL_NOT_SET\n};\nconst STRIDEOptionsWithNoValue = [...STRIDEOptions, STRIDE_OPTION_NO_VALUE];\nconst LELEV_MAPPING = {\n  High: 3,\n  Medium: 2,\n  Low: 1\n};\nconst styles = {\n  btnClearFilter: css({\n    height: '100%',\n    display: 'flex',\n    alignItems: 'center'\n  })\n};\nconst ThreatStatementList = ({\n  initialFilter\n}) => {\n  _s();\n  const {\n    statementList,\n    removeStatement,\n    addStatement,\n    editStatement,\n    saveStatement,\n    onThreatEditorView\n  } = useThreatsContext();\n  const {\n    assumptionLinkList,\n    removeAssumptionLinksByLinkedEntityId\n  } = useAssumptionLinksContext();\n  const {\n    mitigationLinkList,\n    removeMitigationLinksByLinkedEntityId\n  } = useMitigationLinksContext();\n  const {\n    controlLinkList,\n    removeControlLinksByLinkedEntityId\n  } = useControlLinksContext();\n  const {\n    showInfoModal,\n    composerMode\n  } = useGlobalSetupContext();\n  const handleRemove = useCallback(async statementId => {\n    removeStatement(statementId);\n    await removeAssumptionLinksByLinkedEntityId(statementId);\n    await removeMitigationLinksByLinkedEntityId(statementId);\n    await removeControlLinksByLinkedEntityId(statementId);\n  }, [removeStatement, removeAssumptionLinksByLinkedEntityId, removeMitigationLinksByLinkedEntityId, removeControlLinksByLinkedEntityId]);\n  const [filteringText, setFilteringText] = useState('');\n  const [sortBy, setSortBy] = useState(DEFAULT_SORT_BY);\n  const [selectedImpactedGoal, setSelectedImpactedGoal] = useState([]);\n  const [selectedImpactedAssets, setSelectedImpactedAssets] = useState([]);\n  const [selectedTags, setSelectedTags] = useState([]);\n  const [selectedPriorities, setSelectedPriorities] = useState(initialFilter && initialFilter.priority ? [initialFilter.priority] : []);\n  const [selectedSTRIDEs, setSelectedSTRIDEs] = useState(initialFilter && initialFilter.stride ? [initialFilter.stride] : []);\n  const [selectedLinkedAssumptionFilter, setSelectedLinkedAssumptionFilter] = useState(initialFilter && typeof initialFilter.linkedAssumptions !== 'undefined' ? initialFilter.linkedAssumptions ? WITH_LINKED_ENTITY : WITHOUT_NO_LINKED_ENTITY : ALL);\n  const [selectedLinkedMitigationFilter, setSelectedLinkedMitigationFilter] = useState(initialFilter && typeof initialFilter.linkedMitigations !== 'undefined' ? initialFilter.linkedMitigations ? WITH_LINKED_ENTITY : WITHOUT_NO_LINKED_ENTITY : ALL);\n  const [selectedLinkedControlFilter, setSelectedLinkedControlFilter] = useState(initialFilter && typeof initialFilter.linkedControls !== 'undefined' ? initialFilter.linkedControls ? WITH_LINKED_ENTITY : WITHOUT_NO_LINKED_ENTITY : ALL);\n  const handleEditMetadata = useEditMetadata(saveStatement);\n  const handleAddTagToStatement = useCallback((statement, tag) => {\n    const updatedStatement = addTagToEntity(statement, tag);\n    saveStatement(updatedStatement);\n  }, [saveStatement]);\n  const handleRemoveTagFromStatement = useCallback((statement, tag) => {\n    const updated = removeTagFromEntity(statement, tag);\n    saveStatement(updated);\n  }, [saveStatement]);\n  const filteredStatementList = useMemo(() => {\n    let output = statementList;\n    if (filteringText) {\n      output = output.filter(st => st.statement && st.statement.toLowerCase().indexOf(filteringText.toLowerCase()) >= 0);\n    }\n    if (selectedImpactedAssets && selectedImpactedAssets.length > 0) {\n      output = output.filter(st => {\n        var _tst$impactedAssets;\n        const tst = st;\n        return (_tst$impactedAssets = tst.impactedAssets) === null || _tst$impactedAssets === void 0 ? void 0 : _tst$impactedAssets.some(ia => selectedImpactedAssets.includes(ia));\n      });\n    }\n    if (selectedImpactedGoal && selectedImpactedGoal.length > 0) {\n      output = output.filter(st => {\n        var _tst$impactedGoal;\n        const tst = st;\n        return (_tst$impactedGoal = tst.impactedGoal) === null || _tst$impactedGoal === void 0 ? void 0 : _tst$impactedGoal.some(ia => selectedImpactedGoal.includes(ia));\n      });\n    }\n    if (selectedTags && selectedTags.length > 0) {\n      output = output.filter(st => {\n        var _st$tags;\n        return (_st$tags = st.tags) === null || _st$tags === void 0 ? void 0 : _st$tags.some(t => selectedTags.includes(t));\n      });\n    }\n    if (selectedPriorities && selectedPriorities.length > 0) {\n      output = output.filter(st => {\n        var _st$metadata;\n        const priority = (_st$metadata = st.metadata) === null || _st$metadata === void 0 ? void 0 : _st$metadata.find(m => m.key === 'Priority');\n        const includedNoValue = selectedPriorities.includes(LEVEL_NOT_SET);\n        if (includedNoValue && (!priority || !priority.value || priority.value.length === 0)) {\n          return true;\n        }\n        return (priority === null || priority === void 0 ? void 0 : priority.value) && selectedPriorities.includes(priority.value);\n      });\n    }\n    if (selectedSTRIDEs && selectedSTRIDEs.length > 0) {\n      output = output.filter(st => {\n        var _st$metadata2;\n        const stride = (_st$metadata2 = st.metadata) === null || _st$metadata2 === void 0 ? void 0 : _st$metadata2.find(m => m.key === 'STRIDE');\n        const includedNoValue = selectedSTRIDEs.includes(LEVEL_NOT_SET);\n        if (includedNoValue && (!stride || !stride.value || stride.value.length === 0)) {\n          return true;\n        }\n        return (stride === null || stride === void 0 ? void 0 : stride.value) && stride.value.some(t => selectedSTRIDEs.includes(t));\n      });\n    }\n    if (selectedLinkedAssumptionFilter !== ALL) {\n      output = output.filter(st => {\n        return assumptionLinkList.some(al => al.linkedId === st.id) ? selectedLinkedAssumptionFilter === WITH_LINKED_ENTITY : selectedLinkedAssumptionFilter === WITHOUT_NO_LINKED_ENTITY;\n      });\n    }\n    if (selectedLinkedMitigationFilter !== ALL) {\n      output = output.filter(st => {\n        return mitigationLinkList.some(al => al.linkedId === st.id) ? selectedLinkedMitigationFilter === WITH_LINKED_ENTITY : selectedLinkedMitigationFilter === WITHOUT_NO_LINKED_ENTITY;\n      });\n    }\n    if (selectedLinkedControlFilter !== ALL) {\n      output = output.filter(st => {\n        return controlLinkList.some(al => al.linkedId === st.id) ? selectedLinkedControlFilter === WITH_LINKED_ENTITY : selectedLinkedControlFilter === WITHOUT_NO_LINKED_ENTITY;\n      });\n    }\n    if (sortBy.field === 'Priority') {\n      output = output.sort((op1, op2) => {\n        var _op1$metadata, _op1$metadata$find, _op2$metadata, _op2$metadata$find;\n        const priority1 = (_op1$metadata = op1.metadata) === null || _op1$metadata === void 0 ? void 0 : (_op1$metadata$find = _op1$metadata.find(m => m.key === 'Priority')) === null || _op1$metadata$find === void 0 ? void 0 : _op1$metadata$find.value;\n        const priority2 = (_op2$metadata = op2.metadata) === null || _op2$metadata === void 0 ? void 0 : (_op2$metadata$find = _op2$metadata.find(m => m.key === 'Priority')) === null || _op2$metadata$find === void 0 ? void 0 : _op2$metadata$find.value;\n        const priorityValue1 = priority1 && LELEV_MAPPING[priority1] || 0;\n        const priorityValue2 = priority2 && LELEV_MAPPING[priority2] || 0;\n        return priorityValue2 - priorityValue1;\n      });\n    } else {\n      output = output.sort((op1, op2) => (op2.numericId || Number.MAX_VALUE) - (op1.numericId || Number.MAX_VALUE));\n    }\n    if (sortBy.ascending) {\n      output = output.reverse();\n    }\n    return output;\n  }, [filteringText, statementList, assumptionLinkList, mitigationLinkList, controlLinkList, selectedImpactedAssets, selectedImpactedGoal, selectedTags, selectedPriorities, selectedSTRIDEs, selectedLinkedAssumptionFilter, selectedLinkedMitigationFilter, selectedLinkedControlFilter, sortBy]);\n  const hasNoFilter = useMemo(() => {\n    return filteringText === '' && selectedImpactedAssets.length === 0 && selectedImpactedGoal.length === 0 && selectedTags.length === 0 && selectedPriorities.length === 0 && selectedSTRIDEs.length === 0 && selectedLinkedAssumptionFilter === ALL && selectedLinkedControlFilter === ALL && selectedLinkedMitigationFilter === ALL;\n  }, [filteringText, selectedImpactedAssets, selectedImpactedGoal, selectedTags, selectedPriorities, selectedSTRIDEs, selectedLinkedAssumptionFilter, selectedLinkedMitigationFilter, selectedLinkedControlFilter]);\n  const handleAddStatement = useCallback(idToCopy => {\n    addStatement(idToCopy);\n    onThreatEditorView === null || onThreatEditorView === void 0 ? void 0 : onThreatEditorView(DEFAULT_NEW_ENTITY_ID);\n  }, [addStatement, onThreatEditorView]);\n  const handleEditStatement = useCallback(id => {\n    editStatement(id);\n    onThreatEditorView === null || onThreatEditorView === void 0 ? void 0 : onThreatEditorView(id);\n  }, [editStatement, onThreatEditorView]);\n  const actions = useMemo(() => {\n    return _jsxDEV(_Fragment, {\n      children: composerMode !== 'Full' ? _jsxDEV(WorkspaceSelector, {\n        embededMode: true,\n        enabledExportAll: statementList.length > 0,\n        enabledRemoveAll: statementList.length > 0,\n        enabledExportFiltered: !hasNoFilter,\n        filteredThreats: filteredStatementList,\n        children: _jsxDEV(Button, {\n          variant: \"primary\",\n          onClick: () => handleAddStatement(),\n          children: \"Add new statement\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 10\n      }, this) : _jsxDEV(SpaceBetween, {\n        direction: \"horizontal\",\n        size: \"s\",\n        children: _jsxDEV(Button, {\n          variant: \"primary\",\n          onClick: () => handleAddStatement(),\n          children: \"Add new statement\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 10\n      }, this)\n    }, void 0, false);\n  }, [filteredStatementList, handleAddStatement, statementList, hasNoFilter, composerMode]);\n  const allImpactedGoal = useMemo(() => {\n    return statementList.reduce((all, cur) => {\n      var _statement$impactedGo;\n      const statement = cur;\n      return [...all, ...(((_statement$impactedGo = statement.impactedGoal) === null || _statement$impactedGo === void 0 ? void 0 : _statement$impactedGo.filter(ig => !all.includes(ig))) || [])];\n    }, []);\n  }, [statementList]);\n  const allImpactedAssets = useMemo(() => {\n    return statementList.reduce((all, cur) => {\n      var _statement$impactedAs;\n      const statement = cur;\n      return [...all, ...(((_statement$impactedAs = statement.impactedAssets) === null || _statement$impactedAs === void 0 ? void 0 : _statement$impactedAs.filter(ia => !all.includes(ia))) || [])];\n    }, []);\n  }, [statementList]);\n  const allTags = useMemo(() => {\n    return statementList.reduce((all, cur) => {\n      var _cur$tags;\n      return [...all, ...(((_cur$tags = cur.tags) === null || _cur$tags === void 0 ? void 0 : _cur$tags.filter(ia => !all.includes(ia))) || [])];\n    }, []);\n  }, [statementList]);\n  const handleClearFilter = useCallback(() => {\n    setFilteringText('');\n    setSelectedImpactedAssets([]);\n    setSelectedImpactedGoal([]);\n    setSelectedTags([]);\n    setSelectedPriorities([]);\n    setSelectedSTRIDEs([]);\n    setSelectedLinkedAssumptionFilter(ALL);\n    setSelectedLinkedControlFilter(ALL);\n    setSelectedLinkedMitigationFilter(ALL);\n  }, []);\n  const gridDefinition = useMemo(() => {\n    return composerMode === 'Full' ? [{\n      colspan: {\n        default: 12,\n        xs: 6,\n        s: 2\n      }\n    }, {\n      colspan: {\n        default: 12,\n        xs: 6,\n        s: 2\n      }\n    }, {\n      colspan: {\n        default: 12,\n        xs: 6,\n        s: 2\n      }\n    }, {\n      colspan: {\n        default: 12,\n        xs: 6,\n        s: 2\n      }\n    }, {\n      colspan: {\n        default: 12,\n        xs: 6,\n        s: 2\n      }\n    }, {\n      colspan: {\n        default: 12,\n        xs: 6,\n        s: 3\n      }\n    }, {\n      colspan: {\n        default: 12,\n        xs: 6,\n        s: 3\n      }\n    }, {\n      colspan: {\n        default: 12,\n        xs: 6,\n        s: 3\n      }\n    }, {\n      colspan: {\n        default: 12,\n        xs: 6,\n        s: 2\n      }\n    }] : [{\n      colspan: {\n        default: 12,\n        xs: 6,\n        s: 2\n      }\n    }, {\n      colspan: {\n        default: 12,\n        xs: 6,\n        s: 2\n      }\n    }, {\n      colspan: {\n        default: 12,\n        xs: 6,\n        s: 2.5\n      }\n    }, {\n      colspan: {\n        default: 12,\n        xs: 6,\n        s: 2.5\n      }\n    }, {\n      colspan: {\n        default: 12,\n        xs: 5,\n        s: 2\n      }\n    }, {\n      colspan: {\n        default: 1\n      }\n    }];\n  }, [composerMode]);\n  return _jsxDEV(\"div\", {\n    children: _jsxDEV(SpaceBetween, {\n      direction: \"vertical\",\n      size: \"s\",\n      children: [_jsxDEV(Container, {\n        header: _jsxDEV(Header, {\n          actions: actions,\n          counter: `(${filteredStatementList.length})`,\n          info: composerMode === 'Full' ? undefined : _jsxDEV(Button, {\n            variant: \"icon\",\n            iconName: \"status-info\",\n            onClick: showInfoModal\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 387,\n            columnNumber: 55\n          }, this),\n          children: \"Threat Statement List\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 9\n        }, this),\n        children: _jsxDEV(SpaceBetween, {\n          direction: \"vertical\",\n          size: \"s\",\n          children: [_jsxDEV(TextFilter, {\n            filteringText: filteringText,\n            filteringPlaceholder: \"Find threat statements\",\n            filteringAriaLabel: \"Filter threat statements\",\n            onChange: ({\n              detail\n            }) => setFilteringText(detail.filteringText)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 391,\n            columnNumber: 11\n          }, this), _jsxDEV(Grid, {\n            gridDefinition: gridDefinition,\n            children: [_jsxDEV(Multiselect, {\n              tokenLimit: 2,\n              selectedOptions: selectedPriorities.map(ia => ({\n                label: ia,\n                value: ia\n              })),\n              onChange: ({\n                detail\n              }) => {\n                var _detail$selectedOptio;\n                return setSelectedPriorities(((_detail$selectedOptio = detail.selectedOptions) === null || _detail$selectedOptio === void 0 ? void 0 : _detail$selectedOptio.map(o => o.value || '')) || []);\n              },\n              deselectAriaLabel: e => `Remove ${e.label}`,\n              options: LevelOptionsWithNoValue,\n              placeholder: \"Filtered by priority\",\n              selectedAriaLabel: \"Selected\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 402,\n              columnNumber: 13\n            }, this), _jsxDEV(Multiselect, {\n              tokenLimit: 0,\n              selectedOptions: [...STRIDEOptions.filter(x => selectedSTRIDEs.includes(x.value)), ...(selectedSTRIDEs.includes(LEVEL_NOT_SET) ? [STRIDE_OPTION_NO_VALUE] : [])],\n              onChange: ({\n                detail\n              }) => {\n                var _detail$selectedOptio2;\n                return setSelectedSTRIDEs(((_detail$selectedOptio2 = detail.selectedOptions) === null || _detail$selectedOptio2 === void 0 ? void 0 : _detail$selectedOptio2.map(o => o.value || '')) || []);\n              },\n              deselectAriaLabel: e => `Remove ${e.label}`,\n              options: STRIDEOptionsWithNoValue,\n              placeholder: \"Filtered by STRIDE\",\n              selectedAriaLabel: \"Selected\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 13\n            }, this), _jsxDEV(AssetSelector, {\n              allAssets: allImpactedAssets,\n              selectedAssets: selectedImpactedAssets,\n              setSelectedAssets: setSelectedImpactedAssets\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 428,\n              columnNumber: 13\n            }, this), _jsxDEV(Multiselect, {\n              tokenLimit: 2,\n              selectedOptions: selectedImpactedGoal.map(ig => ({\n                label: ig,\n                value: ig\n              })),\n              onChange: ({\n                detail\n              }) => {\n                var _detail$selectedOptio3;\n                return setSelectedImpactedGoal(((_detail$selectedOptio3 = detail.selectedOptions) === null || _detail$selectedOptio3 === void 0 ? void 0 : _detail$selectedOptio3.map(o => o.value || '')) || []);\n              },\n              deselectAriaLabel: e => `Remove ${e.label}`,\n              options: allImpactedGoal.map(g => ({\n                label: g,\n                value: g\n              })),\n              placeholder: \"Filtered by impacted goal\",\n              selectedAriaLabel: \"Selected\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 433,\n              columnNumber: 13\n            }, this), _jsxDEV(TagSelector, {\n              allTags: allTags,\n              selectedTags: selectedTags,\n              setSelectedTags: setSelectedTags\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 450,\n              columnNumber: 13\n            }, this), composerMode === 'Full' && _jsxDEV(LinkedEntityFilter, {\n              label: \"Linked controls\",\n              entityDisplayName: \"controls\",\n              callerName: \"threats\",\n              selected: selectedLinkedControlFilter,\n              setSelected: setSelectedLinkedControlFilter\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 455,\n              columnNumber: 41\n            }, this), composerMode === 'Full' && _jsxDEV(LinkedEntityFilter, {\n              label: \"Linked mitigations\",\n              entityDisplayName: \"mitigations\",\n              callerName: \"threats\",\n              selected: selectedLinkedMitigationFilter,\n              setSelected: setSelectedLinkedMitigationFilter\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 462,\n              columnNumber: 41\n            }, this), composerMode === 'Full' && _jsxDEV(LinkedEntityFilter, {\n              label: \"Linked assumptions\",\n              entityDisplayName: \"assumptions\",\n              callerName: \"threats\",\n              selected: selectedLinkedAssumptionFilter,\n              setSelected: setSelectedLinkedAssumptionFilter\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 469,\n              columnNumber: 41\n            }, this), composerMode === 'Full' ? _jsxDEV(\"div\", {\n              css: styles.btnClearFilter,\n              children: _jsxDEV(\"div\", {\n                children: _jsxDEV(Button, {\n                  onClick: handleClearFilter,\n                  disabled: hasNoFilter,\n                  children: \"Clear filters\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 477,\n                  columnNumber: 20\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 477,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 476,\n              columnNumber: 41\n            }, this) : _jsxDEV(Button, {\n              onClick: handleClearFilter,\n              variant: \"icon\",\n              iconSvg: _jsxDEV(\"svg\", {\n                focusable: \"false\",\n                \"aria-hidden\": \"true\",\n                viewBox: \"0 0 24 24\",\n                tabIndex: -1,\n                children: _jsxDEV(\"path\", {\n                  d: \"M19.79 5.61C20.3 4.95 19.83 4 19 4H6.83l7.97 7.97 4.99-6.36zM2.81 2.81 1.39 4.22 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-2.17l5.78 5.78 1.41-1.41L2.81 2.81z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 490,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 484,\n                columnNumber: 24\n              }, this),\n              ariaLabel: \"Clear filters\",\n              disabled: hasNoFilter\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 482,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 11\n          }, this), _jsxDEV(Grid, {\n            gridDefinition: [{\n              colspan: {\n                default: 12,\n                xs: 6\n              }\n            }],\n            children: _jsxDEV(SortByComponent, {\n              value: sortBy,\n              setValue: setSortBy\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 499,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 496,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 7\n      }, this), filteredStatementList === null || filteredStatementList === void 0 ? void 0 : filteredStatementList.map(st => _jsxDEV(ThreatStatementCard, {\n        statement: st,\n        onCopy: handleAddStatement,\n        onRemove: handleRemove,\n        onEditInWizard: handleEditStatement,\n        onEditMetadata: handleEditMetadata,\n        onAddTagToStatement: handleAddTagToStatement,\n        onRemoveTagFromStatement: handleRemoveTagFromStatement,\n        showLinkedEntities: composerMode === 'Full'\n      }, st.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 503,\n        columnNumber: 42\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 382,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 381,\n    columnNumber: 11\n  }, this);\n};\n_s(ThreatStatementList, \"pS+OKfkalxe6jtGyqxT/S7PSbOA=\", false, function () {\n  return [useThreatsContext, useAssumptionLinksContext, useMitigationLinksContext, useControlLinksContext, useGlobalSetupContext, useEditMetadata];\n});\n_c = ThreatStatementList;\nexport default ThreatStatementList;\nvar _c;\n$RefreshReg$(_c, \"ThreatStatementList\");","map":{"version":3,"names":["Button","Container","Grid","Header","Multiselect","SpaceBetween","TextFilter","css","useCallback","useMemo","useState","LEVEL_SELECTOR_OPTIONS","DEFAULT_NEW_ENTITY_ID","LEVEL_NOT_SET","useAssumptionLinksContext","useMitigationLinksContext","useControlLinksContext","useGlobalSetupContext","useThreatsContext","useEditMetadata","addTagToEntity","removeTagFromEntity","AssetSelector","LinkedEntityFilter","ALL","WITHOUT_NO_LINKED_ENTITY","WITH_LINKED_ENTITY","OPTIONS","STRIDEOptions","TagSelector","WorkspaceSelector","SortByComponent","DEFAULT_SORT_BY","ThreatStatementCard","jsxDEV","_jsxDEV","Fragment","_Fragment","LevelOptionsWithNoValue","label","value","STRIDE_OPTION_NO_VALUE","STRIDEOptionsWithNoValue","LELEV_MAPPING","High","Medium","Low","styles","btnClearFilter","height","display","alignItems","ThreatStatementList","initialFilter","_s","statementList","removeStatement","addStatement","editStatement","saveStatement","onThreatEditorView","assumptionLinkList","removeAssumptionLinksByLinkedEntityId","mitigationLinkList","removeMitigationLinksByLinkedEntityId","controlLinkList","removeControlLinksByLinkedEntityId","showInfoModal","composerMode","handleRemove","statementId","filteringText","setFilteringText","sortBy","setSortBy","selectedImpactedGoal","setSelectedImpactedGoal","selectedImpactedAssets","setSelectedImpactedAssets","selectedTags","setSelectedTags","selectedPriorities","setSelectedPriorities","priority","selectedSTRIDEs","setSelectedSTRIDEs","stride","selectedLinkedAssumptionFilter","setSelectedLinkedAssumptionFilter","linkedAssumptions","selectedLinkedMitigationFilter","setSelectedLinkedMitigationFilter","linkedMitigations","selectedLinkedControlFilter","setSelectedLinkedControlFilter","linkedControls","handleEditMetadata","handleAddTagToStatement","statement","tag","updatedStatement","handleRemoveTagFromStatement","updated","filteredStatementList","output","filter","st","toLowerCase","indexOf","length","_tst$impactedAssets","tst","impactedAssets","some","ia","includes","_tst$impactedGoal","impactedGoal","_st$tags","tags","t","_st$metadata","metadata","find","m","key","includedNoValue","_st$metadata2","al","linkedId","id","field","sort","op1","op2","_op1$metadata","_op1$metadata$find","_op2$metadata","_op2$metadata$find","priority1","priority2","priorityValue1","priorityValue2","numericId","Number","MAX_VALUE","ascending","reverse","hasNoFilter","handleAddStatement","idToCopy","handleEditStatement","actions","children","embededMode","enabledExportAll","enabledRemoveAll","enabledExportFiltered","filteredThreats","variant","onClick","fileName","_jsxFileName","lineNumber","columnNumber","direction","size","allImpactedGoal","reduce","all","cur","_statement$impactedGo","ig","allImpactedAssets","_statement$impactedAs","allTags","_cur$tags","handleClearFilter","gridDefinition","colspan","default","xs","s","header","counter","info","undefined","iconName","filteringPlaceholder","filteringAriaLabel","onChange","detail","tokenLimit","selectedOptions","map","_detail$selectedOptio","o","deselectAriaLabel","e","options","placeholder","selectedAriaLabel","x","_detail$selectedOptio2","allAssets","selectedAssets","setSelectedAssets","_detail$selectedOptio3","g","entityDisplayName","callerName","selected","setSelected","disabled","iconSvg","focusable","viewBox","tabIndex","d","ariaLabel","setValue","onCopy","onRemove","onEditInWizard","onEditMetadata","onAddTagToStatement","onRemoveTagFromStatement","showLinkedEntities","_c","$RefreshReg$"],"sources":["/Users/sohailsajid/Desktop/threat-modeling-app/src/components/threats/ThreatStatementList/index.tsx"],"sourcesContent":["/** *******************************************************************************************************************\n  Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n\n  Licensed under the Apache License, Version 2.0 (the \"License\").\n  You may not use this file except in compliance with the License.\n  You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n  Unless required by applicable law or agreed to in writing, software\n  distributed under the License is distributed on an \"AS IS\" BASIS,\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  See the License for the specific language governing permissions and\n  limitations under the License.\n ******************************************************************************************************************** */\n\n/** @jsxImportSource @emotion/react */\nimport Button from '@cloudscape-design/components/button';\nimport Container from '@cloudscape-design/components/container';\nimport Grid from '@cloudscape-design/components/grid';\nimport Header from '@cloudscape-design/components/header';\nimport Multiselect from '@cloudscape-design/components/multiselect';\nimport SpaceBetween from '@cloudscape-design/components/space-between';\nimport TextFilter from '@cloudscape-design/components/text-filter';\nimport { css } from '@emotion/react';\nimport { FC, useCallback, useMemo, useState } from 'react';\nimport { LEVEL_SELECTOR_OPTIONS, DEFAULT_NEW_ENTITY_ID, LEVEL_NOT_SET } from '../../../configs';\nimport { useAssumptionLinksContext, useMitigationLinksContext, useControlLinksContext } from '../../../contexts';\nimport { useGlobalSetupContext } from '../../../contexts/GlobalSetupContext/context';\nimport { useThreatsContext } from '../../../contexts/ThreatsContext/context';\nimport { TemplateThreatStatement, ThreatStatementListFilter } from '../../../customTypes';\nimport useEditMetadata from '../../../hooks/useEditMetadata';\nimport { addTagToEntity, removeTagFromEntity } from '../../../utils/entityTag';\nimport AssetSelector from '../../generic/AssetSelector';\nimport LinkedEntityFilter, { ALL, WITHOUT_NO_LINKED_ENTITY, WITH_LINKED_ENTITY } from '../../generic/LinkedEntityFilter';\nimport { OPTIONS as STRIDEOptions } from '../../generic/STRIDESelector';\nimport TagSelector from '../../generic/TagSelector';\nimport WorkspaceSelector from '../../workspaces/WorkspaceSelector';\nimport SortByComponent, { SortByOption, DEFAULT_SORT_BY } from '../SortBy';\nimport ThreatStatementCard from '../ThreatStatementCard';\n\nconst LevelOptionsWithNoValue = [...LEVEL_SELECTOR_OPTIONS, {\n  label: 'Priority Not Set', value: LEVEL_NOT_SET,\n}];\n\nconst STRIDE_OPTION_NO_VALUE = {\n  label: 'STRIDE Not Set', value: LEVEL_NOT_SET,\n};\n\nconst STRIDEOptionsWithNoValue = [...STRIDEOptions, STRIDE_OPTION_NO_VALUE];\n\nconst LELEV_MAPPING: any = {\n  High: 3,\n  Medium: 2,\n  Low: 1,\n};\n\nconst styles = {\n  btnClearFilter: css({\n    height: '100%',\n    display: 'flex',\n    alignItems: 'center',\n  }),\n};\n\nexport interface ThreatStatementListProps {\n  initialFilter?: ThreatStatementListFilter;\n}\n\nconst ThreatStatementList: FC<ThreatStatementListProps> = ({\n  initialFilter,\n}) => {\n  const {\n    statementList,\n    removeStatement,\n    addStatement,\n    editStatement,\n    saveStatement,\n    onThreatEditorView,\n  } = useThreatsContext();\n\n  const {\n    assumptionLinkList,\n    removeAssumptionLinksByLinkedEntityId,\n  } = useAssumptionLinksContext();\n\n  const {\n    mitigationLinkList,\n    removeMitigationLinksByLinkedEntityId,\n  } = useMitigationLinksContext();\n\n  const {\n    controlLinkList,\n    removeControlLinksByLinkedEntityId,\n  } = useControlLinksContext();\n\n  const {\n    showInfoModal,\n    composerMode,\n  } = useGlobalSetupContext();\n\n  const handleRemove = useCallback(async (statementId: string) => {\n    removeStatement(statementId);\n    await removeAssumptionLinksByLinkedEntityId(statementId);\n    await removeMitigationLinksByLinkedEntityId(statementId);\n    await removeControlLinksByLinkedEntityId(statementId);\n  }, [removeStatement, removeAssumptionLinksByLinkedEntityId, removeMitigationLinksByLinkedEntityId, removeControlLinksByLinkedEntityId]);\n\n  const [filteringText, setFilteringText] = useState('');\n  const [sortBy, setSortBy] = useState<SortByOption>(DEFAULT_SORT_BY);\n\n  const [\n    selectedImpactedGoal,\n    setSelectedImpactedGoal,\n  ] = useState<string[]>([]);\n\n  const [\n    selectedImpactedAssets,\n    setSelectedImpactedAssets,\n  ] = useState<string[]>([]);\n\n  const [\n    selectedTags,\n    setSelectedTags,\n  ] = useState<string[]>([]);\n\n  const [\n    selectedPriorities,\n    setSelectedPriorities,\n  ] = useState<string[]>(initialFilter && initialFilter.priority ? [initialFilter.priority] : []);\n\n  const [\n    selectedSTRIDEs,\n    setSelectedSTRIDEs,\n  ] = useState<string[]>(initialFilter && initialFilter.stride ? [initialFilter.stride] : []);\n\n  const [\n    selectedLinkedAssumptionFilter,\n    setSelectedLinkedAssumptionFilter,\n  ] = useState(initialFilter && typeof initialFilter.linkedAssumptions !== 'undefined' ? (\n    initialFilter.linkedAssumptions ? WITH_LINKED_ENTITY :\n      WITHOUT_NO_LINKED_ENTITY\n  ) : ALL);\n\n  const [\n    selectedLinkedMitigationFilter,\n    setSelectedLinkedMitigationFilter,\n  ] = useState(initialFilter && typeof initialFilter.linkedMitigations !== 'undefined' ? (\n    initialFilter.linkedMitigations ? WITH_LINKED_ENTITY :\n      WITHOUT_NO_LINKED_ENTITY\n  ) : ALL);\n\n  const [\n    selectedLinkedControlFilter,\n    setSelectedLinkedControlFilter,\n  ] = useState(initialFilter && typeof initialFilter.linkedControls !== 'undefined' ? (\n    initialFilter.linkedControls ? WITH_LINKED_ENTITY :\n      WITHOUT_NO_LINKED_ENTITY\n  ) : ALL);\n\n  const handleEditMetadata = useEditMetadata(saveStatement);\n\n  const handleAddTagToStatement = useCallback((statement: TemplateThreatStatement, tag: string) => {\n    const updatedStatement = addTagToEntity(statement, tag);\n    saveStatement(updatedStatement);\n  }, [saveStatement]);\n\n  const handleRemoveTagFromStatement = useCallback((statement: TemplateThreatStatement, tag: string) => {\n    const updated = removeTagFromEntity(statement, tag);\n    saveStatement(updated);\n  }, [saveStatement]);\n\n  const filteredStatementList = useMemo(() => {\n    let output = statementList;\n\n    if (filteringText) {\n      output = output.filter(st => st.statement && st.statement.toLowerCase().indexOf(filteringText.toLowerCase()) >= 0);\n    }\n\n    if (selectedImpactedAssets && selectedImpactedAssets.length > 0) {\n      output = output.filter(st => {\n        const tst = st as TemplateThreatStatement;\n        return tst.impactedAssets?.some(ia => selectedImpactedAssets.includes(ia));\n      });\n    }\n\n    if (selectedImpactedGoal && selectedImpactedGoal.length > 0) {\n      output = output.filter(st => {\n        const tst = st as TemplateThreatStatement;\n        return tst.impactedGoal?.some(ia => selectedImpactedGoal.includes(ia));\n      });\n    }\n\n    if (selectedTags && selectedTags.length > 0) {\n      output = output.filter(st => {\n        return st.tags?.some(t => selectedTags.includes(t));\n      });\n    }\n\n    if (selectedPriorities && selectedPriorities.length > 0) {\n      output = output.filter(st => {\n        const priority = st.metadata?.find(m => m.key === 'Priority');\n        const includedNoValue = selectedPriorities.includes(LEVEL_NOT_SET);\n        if (includedNoValue && (!priority || !priority.value || priority.value.length === 0)) {\n          return true;\n        }\n\n        return priority?.value && selectedPriorities.includes(priority.value as string);\n      });\n    }\n\n    if (selectedSTRIDEs && selectedSTRIDEs.length > 0) {\n      output = output.filter(st => {\n        const stride = st.metadata?.find(m => m.key === 'STRIDE');\n        const includedNoValue = selectedSTRIDEs.includes(LEVEL_NOT_SET);\n        if (includedNoValue && (!stride || !stride.value || stride.value.length === 0)) {\n          return true;\n        }\n\n        return stride?.value && (stride.value as string[]).some(t => selectedSTRIDEs.includes(t));\n      });\n    }\n\n    if (selectedLinkedAssumptionFilter !== ALL) {\n      output = output.filter(st => {\n        return assumptionLinkList.some(al => al.linkedId === st.id) ?\n          selectedLinkedAssumptionFilter === WITH_LINKED_ENTITY :\n          selectedLinkedAssumptionFilter === WITHOUT_NO_LINKED_ENTITY;\n      });\n    }\n\n    if (selectedLinkedMitigationFilter !== ALL) {\n      output = output.filter(st => {\n        return mitigationLinkList.some(al => al.linkedId === st.id) ?\n          selectedLinkedMitigationFilter === WITH_LINKED_ENTITY :\n          selectedLinkedMitigationFilter === WITHOUT_NO_LINKED_ENTITY;\n      });\n    }\n\n    if (selectedLinkedControlFilter !== ALL) {\n      output = output.filter(st => {\n        return controlLinkList.some(al => al.linkedId === st.id) ?\n          selectedLinkedControlFilter === WITH_LINKED_ENTITY :\n          selectedLinkedControlFilter === WITHOUT_NO_LINKED_ENTITY;\n      });\n    }\n\n    if (sortBy.field === 'Priority') {\n      output = output.sort((op1, op2) => {\n        const priority1 = op1.metadata?.find(m => m.key === 'Priority')?.value as string;\n        const priority2 = op2.metadata?.find(m => m.key === 'Priority')?.value as string;\n        const priorityValue1 = (priority1 && LELEV_MAPPING[priority1]) || 0;\n        const priorityValue2 = (priority2 && LELEV_MAPPING[priority2]) || 0;\n        return priorityValue2 - priorityValue1;\n      });\n    } else {\n      output = output.sort((op1, op2) => (op2.numericId || Number.MAX_VALUE) - (op1.numericId || Number.MAX_VALUE));\n    }\n\n    if (sortBy.ascending) {\n      output = output.reverse();\n    }\n\n    return output;\n  }, [filteringText, statementList,\n    assumptionLinkList, mitigationLinkList, controlLinkList,\n    selectedImpactedAssets, selectedImpactedGoal,\n    selectedTags, selectedPriorities, selectedSTRIDEs,\n    selectedLinkedAssumptionFilter, selectedLinkedMitigationFilter, selectedLinkedControlFilter,\n    sortBy]);\n\n  const hasNoFilter = useMemo(() => {\n    return (filteringText === ''\n      && selectedImpactedAssets.length === 0\n      && selectedImpactedGoal.length === 0\n      && selectedTags.length === 0\n      && selectedPriorities.length === 0\n      && selectedSTRIDEs.length === 0\n      && selectedLinkedAssumptionFilter === ALL\n      && selectedLinkedControlFilter === ALL\n      && selectedLinkedMitigationFilter === ALL);\n  }, [filteringText, selectedImpactedAssets, selectedImpactedGoal,\n    selectedTags, selectedPriorities, selectedSTRIDEs,\n    selectedLinkedAssumptionFilter, selectedLinkedMitigationFilter, selectedLinkedControlFilter]);\n\n  const handleAddStatement = useCallback((idToCopy?: string) => {\n    addStatement(idToCopy);\n    onThreatEditorView?.(DEFAULT_NEW_ENTITY_ID);\n  }, [addStatement, onThreatEditorView]);\n\n  const handleEditStatement = useCallback((id: string) => {\n    editStatement(id);\n    onThreatEditorView?.(id);\n  }, [editStatement, onThreatEditorView]);\n\n  const actions = useMemo(() => {\n    return (\n      <>{composerMode !== 'Full' ?\n        (<WorkspaceSelector\n          embededMode={true}\n          enabledExportAll={statementList.length > 0}\n          enabledRemoveAll={statementList.length > 0}\n          enabledExportFiltered={!hasNoFilter}\n          filteredThreats={filteredStatementList}\n        >\n          <Button variant=\"primary\" onClick={() => handleAddStatement()}>\n            Add new statement\n          </Button>\n        </WorkspaceSelector>) :\n        (<SpaceBetween direction='horizontal' size='s'>\n          <Button variant=\"primary\" onClick={() => handleAddStatement()}>\n            Add new statement\n          </Button>\n        </SpaceBetween>)}\n      </>);\n  }, [\n    filteredStatementList,\n    handleAddStatement,\n    statementList,\n    hasNoFilter,\n    composerMode,\n  ]);\n\n  const allImpactedGoal = useMemo(() => {\n    return statementList\n      .reduce((all: string[], cur) => {\n        const statement = cur as TemplateThreatStatement;\n        return [...all, ...statement.impactedGoal?.filter(ig => !all.includes(ig)) || []];\n      }, []);\n  }, [statementList]);\n\n  const allImpactedAssets = useMemo(() => {\n    return statementList\n      .reduce((all: string[], cur) => {\n        const statement = cur as TemplateThreatStatement;\n        return [...all, ...statement.impactedAssets?.filter(ia => !all.includes(ia)) || []];\n      }, []);\n  }, [statementList]);\n\n  const allTags = useMemo(() => {\n    return statementList\n      .reduce((all: string[], cur) => {\n        return [...all, ...cur.tags?.filter(ia => !all.includes(ia)) || []];\n      }, []);\n  }, [statementList]);\n\n  const handleClearFilter = useCallback(() => {\n    setFilteringText('');\n    setSelectedImpactedAssets([]);\n    setSelectedImpactedGoal([]);\n    setSelectedTags([]);\n    setSelectedPriorities([]);\n    setSelectedSTRIDEs([]);\n    setSelectedLinkedAssumptionFilter(ALL);\n    setSelectedLinkedControlFilter(ALL);\n    setSelectedLinkedMitigationFilter(ALL);\n  }, []);\n\n  const gridDefinition = useMemo(() => {\n    return composerMode === 'Full' ? [\n      { colspan: { default: 12, xs: 6, s: 2 } },\n      { colspan: { default: 12, xs: 6, s: 2 } },\n      { colspan: { default: 12, xs: 6, s: 2 } },\n      { colspan: { default: 12, xs: 6, s: 2 } },\n      { colspan: { default: 12, xs: 6, s: 2 } },\n      { colspan: { default: 12, xs: 6, s: 3 } },\n      { colspan: { default: 12, xs: 6, s: 3 } },\n      { colspan: { default: 12, xs: 6, s: 3 } },\n      { colspan: { default: 12, xs: 6, s: 2 } },\n    ] :\n      [\n        { colspan: { default: 12, xs: 6, s: 2 } },\n        { colspan: { default: 12, xs: 6, s: 2 } },\n        { colspan: { default: 12, xs: 6, s: 2.5 } },\n        { colspan: { default: 12, xs: 6, s: 2.5 } },\n        { colspan: { default: 12, xs: 5, s: 2 } },\n        { colspan: { default: 1 } },\n      ];\n  }, [composerMode]);\n\n  return (<div>\n    <SpaceBetween direction='vertical' size='s'>\n      <Container header={\n        <Header\n          actions={actions}\n          counter={`(${filteredStatementList.length})`}\n          info={composerMode === 'Full' ? undefined : <Button variant='icon' iconName='status-info' onClick={showInfoModal} />}\n        >Threat Statement List</Header>\n      }>\n        <SpaceBetween direction='vertical' size='s'>\n          <TextFilter\n            filteringText={filteringText}\n            filteringPlaceholder=\"Find threat statements\"\n            filteringAriaLabel=\"Filter threat statements\"\n            onChange={({ detail }) =>\n              setFilteringText(detail.filteringText)\n            }\n          />\n          <Grid\n            gridDefinition={gridDefinition}\n          >\n            <Multiselect\n              tokenLimit={2}\n              selectedOptions={selectedPriorities.map(ia => ({\n                label: ia,\n                value: ia,\n              }))}\n              onChange={({ detail }) =>\n                setSelectedPriorities(detail.selectedOptions?.map(o => o.value || '') || [])\n              }\n              deselectAriaLabel={e => `Remove ${e.label}`}\n              options={LevelOptionsWithNoValue}\n              placeholder=\"Filtered by priority\"\n              selectedAriaLabel=\"Selected\"\n            />\n            <Multiselect\n              tokenLimit={0}\n              selectedOptions={[...STRIDEOptions.filter(x => selectedSTRIDEs.includes(x.value)),\n                ...selectedSTRIDEs.includes(LEVEL_NOT_SET) ? [STRIDE_OPTION_NO_VALUE] : []]}\n              onChange={({ detail }) =>\n                setSelectedSTRIDEs(detail.selectedOptions?.map(o => o.value || '') || [])\n              }\n              deselectAriaLabel={e => `Remove ${e.label}`}\n              options={STRIDEOptionsWithNoValue}\n              placeholder=\"Filtered by STRIDE\"\n              selectedAriaLabel=\"Selected\"\n            />\n            <AssetSelector\n              allAssets={allImpactedAssets}\n              selectedAssets={selectedImpactedAssets}\n              setSelectedAssets={setSelectedImpactedAssets}\n            />\n            <Multiselect\n              tokenLimit={2}\n              selectedOptions={selectedImpactedGoal.map(ig => ({\n                label: ig,\n                value: ig,\n              }))}\n              onChange={({ detail }) =>\n                setSelectedImpactedGoal(detail.selectedOptions?.map(o => o.value || '') || [])\n              }\n              deselectAriaLabel={e => `Remove ${e.label}`}\n              options={allImpactedGoal.map(g => ({\n                label: g,\n                value: g,\n              }))}\n              placeholder=\"Filtered by impacted goal\"\n              selectedAriaLabel=\"Selected\"\n            />\n            <TagSelector\n              allTags={allTags}\n              selectedTags={selectedTags}\n              setSelectedTags={setSelectedTags}\n            />\n            {composerMode === 'Full' && <LinkedEntityFilter\n              label='Linked controls'\n              entityDisplayName='controls'\n              callerName='threats'\n              selected={selectedLinkedControlFilter}\n              setSelected={setSelectedLinkedControlFilter}\n            />}\n            {composerMode === 'Full' && <LinkedEntityFilter\n              label='Linked mitigations'\n              entityDisplayName='mitigations'\n              callerName='threats'\n              selected={selectedLinkedMitigationFilter}\n              setSelected={setSelectedLinkedMitigationFilter}\n            />}\n            {composerMode === 'Full' && <LinkedEntityFilter\n              label='Linked assumptions'\n              entityDisplayName='assumptions'\n              callerName='threats'\n              selected={selectedLinkedAssumptionFilter}\n              setSelected={setSelectedLinkedAssumptionFilter}\n            />}\n            {composerMode === 'Full' ? (<div css={styles.btnClearFilter}>\n              <div><Button onClick={handleClearFilter}\n                disabled={hasNoFilter}\n              >\n                Clear filters\n              </Button></div>\n            </div>) : <Button onClick={handleClearFilter}\n              variant='icon'\n              iconSvg={<svg\n                focusable=\"false\"\n                aria-hidden=\"true\"\n                viewBox=\"0 0 24 24\"\n                tabIndex={-1}\n              >\n                <path d=\"M19.79 5.61C20.3 4.95 19.83 4 19 4H6.83l7.97 7.97 4.99-6.36zM2.81 2.81 1.39 4.22 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-2.17l5.78 5.78 1.41-1.41L2.81 2.81z\"></path>\n              </svg>}\n              ariaLabel='Clear filters'\n              disabled={hasNoFilter}\n            />}\n          </Grid>\n          <Grid\n            gridDefinition={[{ colspan: { default: 12, xs: 6 } }]}\n          >\n            <SortByComponent value={sortBy} setValue={setSortBy} />\n          </Grid>\n        </SpaceBetween>\n      </Container>\n      {filteredStatementList?.map(st => (<ThreatStatementCard\n        key={st.id}\n        statement={st}\n        onCopy={handleAddStatement}\n        onRemove={handleRemove}\n        onEditInWizard={handleEditStatement}\n        onEditMetadata={handleEditMetadata}\n        onAddTagToStatement={handleAddTagToStatement}\n        onRemoveTagFromStatement={handleRemoveTagFromStatement}\n        showLinkedEntities={composerMode === 'Full'}\n      />))}\n    </SpaceBetween>\n  </div>);\n};\n\nexport default ThreatStatementList;"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,OAAOA,MAAM,MAAM,sCAAsC;AACzD,OAAOC,SAAS,MAAM,yCAAyC;AAC/D,OAAOC,IAAI,MAAM,oCAAoC;AACrD,OAAOC,MAAM,MAAM,sCAAsC;AACzD,OAAOC,WAAW,MAAM,2CAA2C;AACnE,OAAOC,YAAY,MAAM,6CAA6C;AACtE,OAAOC,UAAU,MAAM,2CAA2C;AAClE,SAASC,GAAG,QAAQ,gBAAgB;AACpC,SAAaC,WAAW,EAAEC,OAAO,EAAEC,QAAQ,QAAQ,OAAO;AAC1D,SAASC,sBAAsB,EAAEC,qBAAqB,EAAEC,aAAa,QAAQ,kBAAkB;AAC/F,SAASC,yBAAyB,EAAEC,yBAAyB,EAAEC,sBAAsB,QAAQ,mBAAmB;AAChH,SAASC,qBAAqB,QAAQ,8CAA8C;AACpF,SAASC,iBAAiB,QAAQ,0CAA0C;AAE5E,OAAOC,eAAe,MAAM,gCAAgC;AAC5D,SAASC,cAAc,EAAEC,mBAAmB,QAAQ,0BAA0B;AAC9E,OAAOC,aAAa,MAAM,6BAA6B;AACvD,OAAOC,kBAAkB,IAAIC,GAAG,EAAEC,wBAAwB,EAAEC,kBAAkB,QAAQ,kCAAkC;AACxH,SAASC,OAAO,IAAIC,aAAa,QAAQ,8BAA8B;AACvE,OAAOC,WAAW,MAAM,2BAA2B;AACnD,OAAOC,iBAAiB,MAAM,oCAAoC;AAClE,OAAOC,eAAe,IAAkBC,eAAe,QAAQ,WAAW;AAC1E,OAAOC,mBAAmB,MAAM,wBAAwB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEzD,MAAMC,uBAAuB,GAAG,CAAC,GAAG3B,sBAAsB,EAAE;EAC1D4B,KAAK,EAAE,kBAAkB;EAAEC,KAAK,EAAE3B;AACpC,CAAC,CAAC;AAEF,MAAM4B,sBAAsB,GAAG;EAC7BF,KAAK,EAAE,gBAAgB;EAAEC,KAAK,EAAE3B;AAClC,CAAC;AAED,MAAM6B,wBAAwB,GAAG,CAAC,GAAGd,aAAa,EAAEa,sBAAsB,CAAC;AAE3E,MAAME,aAAkB,GAAG;EACzBC,IAAI,EAAE,CAAC;EACPC,MAAM,EAAE,CAAC;EACTC,GAAG,EAAE;AACP,CAAC;AAED,MAAMC,MAAM,GAAG;EACbC,cAAc,EAAEzC,GAAG,CAAC;IAClB0C,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE,MAAM;IACfC,UAAU,EAAE;EACd,CAAC;AACH,CAAC;AAMD,MAAMC,mBAAiD,GAAGA,CAAC;EACzDC;AACF,CAAC,KAAK;EAAAC,EAAA;EACJ,MAAM;IACJC,aAAa;IACbC,eAAe;IACfC,YAAY;IACZC,aAAa;IACbC,aAAa;IACbC;EACF,CAAC,GAAG1C,iBAAiB,CAAC,CAAC;EAEvB,MAAM;IACJ2C,kBAAkB;IAClBC;EACF,CAAC,GAAGhD,yBAAyB,CAAC,CAAC;EAE/B,MAAM;IACJiD,kBAAkB;IAClBC;EACF,CAAC,GAAGjD,yBAAyB,CAAC,CAAC;EAE/B,MAAM;IACJkD,eAAe;IACfC;EACF,CAAC,GAAGlD,sBAAsB,CAAC,CAAC;EAE5B,MAAM;IACJmD,aAAa;IACbC;EACF,CAAC,GAAGnD,qBAAqB,CAAC,CAAC;EAE3B,MAAMoD,YAAY,GAAG7D,WAAW,CAAC,MAAO8D,WAAmB,IAAK;IAC9Dd,eAAe,CAACc,WAAW,CAAC;IAC5B,MAAMR,qCAAqC,CAACQ,WAAW,CAAC;IACxD,MAAMN,qCAAqC,CAACM,WAAW,CAAC;IACxD,MAAMJ,kCAAkC,CAACI,WAAW,CAAC;EACvD,CAAC,EAAE,CAACd,eAAe,EAAEM,qCAAqC,EAAEE,qCAAqC,EAAEE,kCAAkC,CAAC,CAAC;EAEvI,MAAM,CAACK,aAAa,EAAEC,gBAAgB,CAAC,GAAG9D,QAAQ,CAAC,EAAE,CAAC;EACtD,MAAM,CAAC+D,MAAM,EAAEC,SAAS,CAAC,GAAGhE,QAAQ,CAAesB,eAAe,CAAC;EAEnE,MAAM,CACJ2C,oBAAoB,EACpBC,uBAAuB,CACxB,GAAGlE,QAAQ,CAAW,EAAE,CAAC;EAE1B,MAAM,CACJmE,sBAAsB,EACtBC,yBAAyB,CAC1B,GAAGpE,QAAQ,CAAW,EAAE,CAAC;EAE1B,MAAM,CACJqE,YAAY,EACZC,eAAe,CAChB,GAAGtE,QAAQ,CAAW,EAAE,CAAC;EAE1B,MAAM,CACJuE,kBAAkB,EAClBC,qBAAqB,CACtB,GAAGxE,QAAQ,CAAW2C,aAAa,IAAIA,aAAa,CAAC8B,QAAQ,GAAG,CAAC9B,aAAa,CAAC8B,QAAQ,CAAC,GAAG,EAAE,CAAC;EAE/F,MAAM,CACJC,eAAe,EACfC,kBAAkB,CACnB,GAAG3E,QAAQ,CAAW2C,aAAa,IAAIA,aAAa,CAACiC,MAAM,GAAG,CAACjC,aAAa,CAACiC,MAAM,CAAC,GAAG,EAAE,CAAC;EAE3F,MAAM,CACJC,8BAA8B,EAC9BC,iCAAiC,CAClC,GAAG9E,QAAQ,CAAC2C,aAAa,IAAI,OAAOA,aAAa,CAACoC,iBAAiB,KAAK,WAAW,GAClFpC,aAAa,CAACoC,iBAAiB,GAAG/D,kBAAkB,GAClDD,wBAAwB,GACxBD,GAAG,CAAC;EAER,MAAM,CACJkE,8BAA8B,EAC9BC,iCAAiC,CAClC,GAAGjF,QAAQ,CAAC2C,aAAa,IAAI,OAAOA,aAAa,CAACuC,iBAAiB,KAAK,WAAW,GAClFvC,aAAa,CAACuC,iBAAiB,GAAGlE,kBAAkB,GAClDD,wBAAwB,GACxBD,GAAG,CAAC;EAER,MAAM,CACJqE,2BAA2B,EAC3BC,8BAA8B,CAC/B,GAAGpF,QAAQ,CAAC2C,aAAa,IAAI,OAAOA,aAAa,CAAC0C,cAAc,KAAK,WAAW,GAC/E1C,aAAa,CAAC0C,cAAc,GAAGrE,kBAAkB,GAC/CD,wBAAwB,GACxBD,GAAG,CAAC;EAER,MAAMwE,kBAAkB,GAAG7E,eAAe,CAACwC,aAAa,CAAC;EAEzD,MAAMsC,uBAAuB,GAAGzF,WAAW,CAAC,CAAC0F,SAAkC,EAAEC,GAAW,KAAK;IAC/F,MAAMC,gBAAgB,GAAGhF,cAAc,CAAC8E,SAAS,EAAEC,GAAG,CAAC;IACvDxC,aAAa,CAACyC,gBAAgB,CAAC;EACjC,CAAC,EAAE,CAACzC,aAAa,CAAC,CAAC;EAEnB,MAAM0C,4BAA4B,GAAG7F,WAAW,CAAC,CAAC0F,SAAkC,EAAEC,GAAW,KAAK;IACpG,MAAMG,OAAO,GAAGjF,mBAAmB,CAAC6E,SAAS,EAAEC,GAAG,CAAC;IACnDxC,aAAa,CAAC2C,OAAO,CAAC;EACxB,CAAC,EAAE,CAAC3C,aAAa,CAAC,CAAC;EAEnB,MAAM4C,qBAAqB,GAAG9F,OAAO,CAAC,MAAM;IAC1C,IAAI+F,MAAM,GAAGjD,aAAa;IAE1B,IAAIgB,aAAa,EAAE;MACjBiC,MAAM,GAAGA,MAAM,CAACC,MAAM,CAACC,EAAE,IAAIA,EAAE,CAACR,SAAS,IAAIQ,EAAE,CAACR,SAAS,CAACS,WAAW,CAAC,CAAC,CAACC,OAAO,CAACrC,aAAa,CAACoC,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;IACpH;IAEA,IAAI9B,sBAAsB,IAAIA,sBAAsB,CAACgC,MAAM,GAAG,CAAC,EAAE;MAC/DL,MAAM,GAAGA,MAAM,CAACC,MAAM,CAACC,EAAE,IAAI;QAAA,IAAAI,mBAAA;QAC3B,MAAMC,GAAG,GAAGL,EAA6B;QACzC,QAAAI,mBAAA,GAAOC,GAAG,CAACC,cAAc,cAAAF,mBAAA,uBAAlBA,mBAAA,CAAoBG,IAAI,CAACC,EAAE,IAAIrC,sBAAsB,CAACsC,QAAQ,CAACD,EAAE,CAAC,CAAC;MAC5E,CAAC,CAAC;IACJ;IAEA,IAAIvC,oBAAoB,IAAIA,oBAAoB,CAACkC,MAAM,GAAG,CAAC,EAAE;MAC3DL,MAAM,GAAGA,MAAM,CAACC,MAAM,CAACC,EAAE,IAAI;QAAA,IAAAU,iBAAA;QAC3B,MAAML,GAAG,GAAGL,EAA6B;QACzC,QAAAU,iBAAA,GAAOL,GAAG,CAACM,YAAY,cAAAD,iBAAA,uBAAhBA,iBAAA,CAAkBH,IAAI,CAACC,EAAE,IAAIvC,oBAAoB,CAACwC,QAAQ,CAACD,EAAE,CAAC,CAAC;MACxE,CAAC,CAAC;IACJ;IAEA,IAAInC,YAAY,IAAIA,YAAY,CAAC8B,MAAM,GAAG,CAAC,EAAE;MAC3CL,MAAM,GAAGA,MAAM,CAACC,MAAM,CAACC,EAAE,IAAI;QAAA,IAAAY,QAAA;QAC3B,QAAAA,QAAA,GAAOZ,EAAE,CAACa,IAAI,cAAAD,QAAA,uBAAPA,QAAA,CAASL,IAAI,CAACO,CAAC,IAAIzC,YAAY,CAACoC,QAAQ,CAACK,CAAC,CAAC,CAAC;MACrD,CAAC,CAAC;IACJ;IAEA,IAAIvC,kBAAkB,IAAIA,kBAAkB,CAAC4B,MAAM,GAAG,CAAC,EAAE;MACvDL,MAAM,GAAGA,MAAM,CAACC,MAAM,CAACC,EAAE,IAAI;QAAA,IAAAe,YAAA;QAC3B,MAAMtC,QAAQ,IAAAsC,YAAA,GAAGf,EAAE,CAACgB,QAAQ,cAAAD,YAAA,uBAAXA,YAAA,CAAaE,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,GAAG,KAAK,UAAU,CAAC;QAC7D,MAAMC,eAAe,GAAG7C,kBAAkB,CAACkC,QAAQ,CAACtG,aAAa,CAAC;QAClE,IAAIiH,eAAe,KAAK,CAAC3C,QAAQ,IAAI,CAACA,QAAQ,CAAC3C,KAAK,IAAI2C,QAAQ,CAAC3C,KAAK,CAACqE,MAAM,KAAK,CAAC,CAAC,EAAE;UACpF,OAAO,IAAI;QACb;QAEA,OAAO,CAAA1B,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAE3C,KAAK,KAAIyC,kBAAkB,CAACkC,QAAQ,CAAChC,QAAQ,CAAC3C,KAAe,CAAC;MACjF,CAAC,CAAC;IACJ;IAEA,IAAI4C,eAAe,IAAIA,eAAe,CAACyB,MAAM,GAAG,CAAC,EAAE;MACjDL,MAAM,GAAGA,MAAM,CAACC,MAAM,CAACC,EAAE,IAAI;QAAA,IAAAqB,aAAA;QAC3B,MAAMzC,MAAM,IAAAyC,aAAA,GAAGrB,EAAE,CAACgB,QAAQ,cAAAK,aAAA,uBAAXA,aAAA,CAAaJ,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,GAAG,KAAK,QAAQ,CAAC;QACzD,MAAMC,eAAe,GAAG1C,eAAe,CAAC+B,QAAQ,CAACtG,aAAa,CAAC;QAC/D,IAAIiH,eAAe,KAAK,CAACxC,MAAM,IAAI,CAACA,MAAM,CAAC9C,KAAK,IAAI8C,MAAM,CAAC9C,KAAK,CAACqE,MAAM,KAAK,CAAC,CAAC,EAAE;UAC9E,OAAO,IAAI;QACb;QAEA,OAAO,CAAAvB,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAE9C,KAAK,KAAK8C,MAAM,CAAC9C,KAAK,CAAcyE,IAAI,CAACO,CAAC,IAAIpC,eAAe,CAAC+B,QAAQ,CAACK,CAAC,CAAC,CAAC;MAC3F,CAAC,CAAC;IACJ;IAEA,IAAIjC,8BAA8B,KAAK/D,GAAG,EAAE;MAC1CgF,MAAM,GAAGA,MAAM,CAACC,MAAM,CAACC,EAAE,IAAI;QAC3B,OAAO7C,kBAAkB,CAACoD,IAAI,CAACe,EAAE,IAAIA,EAAE,CAACC,QAAQ,KAAKvB,EAAE,CAACwB,EAAE,CAAC,GACzD3C,8BAA8B,KAAK7D,kBAAkB,GACrD6D,8BAA8B,KAAK9D,wBAAwB;MAC/D,CAAC,CAAC;IACJ;IAEA,IAAIiE,8BAA8B,KAAKlE,GAAG,EAAE;MAC1CgF,MAAM,GAAGA,MAAM,CAACC,MAAM,CAACC,EAAE,IAAI;QAC3B,OAAO3C,kBAAkB,CAACkD,IAAI,CAACe,EAAE,IAAIA,EAAE,CAACC,QAAQ,KAAKvB,EAAE,CAACwB,EAAE,CAAC,GACzDxC,8BAA8B,KAAKhE,kBAAkB,GACrDgE,8BAA8B,KAAKjE,wBAAwB;MAC/D,CAAC,CAAC;IACJ;IAEA,IAAIoE,2BAA2B,KAAKrE,GAAG,EAAE;MACvCgF,MAAM,GAAGA,MAAM,CAACC,MAAM,CAACC,EAAE,IAAI;QAC3B,OAAOzC,eAAe,CAACgD,IAAI,CAACe,EAAE,IAAIA,EAAE,CAACC,QAAQ,KAAKvB,EAAE,CAACwB,EAAE,CAAC,GACtDrC,2BAA2B,KAAKnE,kBAAkB,GAClDmE,2BAA2B,KAAKpE,wBAAwB;MAC5D,CAAC,CAAC;IACJ;IAEA,IAAIgD,MAAM,CAAC0D,KAAK,KAAK,UAAU,EAAE;MAC/B3B,MAAM,GAAGA,MAAM,CAAC4B,IAAI,CAAC,CAACC,GAAG,EAAEC,GAAG,KAAK;QAAA,IAAAC,aAAA,EAAAC,kBAAA,EAAAC,aAAA,EAAAC,kBAAA;QACjC,MAAMC,SAAS,IAAAJ,aAAA,GAAGF,GAAG,CAACX,QAAQ,cAAAa,aAAA,wBAAAC,kBAAA,GAAZD,aAAA,CAAcZ,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,GAAG,KAAK,UAAU,CAAC,cAAAW,kBAAA,uBAA7CA,kBAAA,CAA+ChG,KAAe;QAChF,MAAMoG,SAAS,IAAAH,aAAA,GAAGH,GAAG,CAACZ,QAAQ,cAAAe,aAAA,wBAAAC,kBAAA,GAAZD,aAAA,CAAcd,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,GAAG,KAAK,UAAU,CAAC,cAAAa,kBAAA,uBAA7CA,kBAAA,CAA+ClG,KAAe;QAChF,MAAMqG,cAAc,GAAIF,SAAS,IAAIhG,aAAa,CAACgG,SAAS,CAAC,IAAK,CAAC;QACnE,MAAMG,cAAc,GAAIF,SAAS,IAAIjG,aAAa,CAACiG,SAAS,CAAC,IAAK,CAAC;QACnE,OAAOE,cAAc,GAAGD,cAAc;MACxC,CAAC,CAAC;IACJ,CAAC,MAAM;MACLrC,MAAM,GAAGA,MAAM,CAAC4B,IAAI,CAAC,CAACC,GAAG,EAAEC,GAAG,KAAK,CAACA,GAAG,CAACS,SAAS,IAAIC,MAAM,CAACC,SAAS,KAAKZ,GAAG,CAACU,SAAS,IAAIC,MAAM,CAACC,SAAS,CAAC,CAAC;IAC/G;IAEA,IAAIxE,MAAM,CAACyE,SAAS,EAAE;MACpB1C,MAAM,GAAGA,MAAM,CAAC2C,OAAO,CAAC,CAAC;IAC3B;IAEA,OAAO3C,MAAM;EACf,CAAC,EAAE,CAACjC,aAAa,EAAEhB,aAAa,EAC9BM,kBAAkB,EAAEE,kBAAkB,EAAEE,eAAe,EACvDY,sBAAsB,EAAEF,oBAAoB,EAC5CI,YAAY,EAAEE,kBAAkB,EAAEG,eAAe,EACjDG,8BAA8B,EAAEG,8BAA8B,EAAEG,2BAA2B,EAC3FpB,MAAM,CAAC,CAAC;EAEV,MAAM2E,WAAW,GAAG3I,OAAO,CAAC,MAAM;IAChC,OAAQ8D,aAAa,KAAK,EAAE,IACvBM,sBAAsB,CAACgC,MAAM,KAAK,CAAC,IACnClC,oBAAoB,CAACkC,MAAM,KAAK,CAAC,IACjC9B,YAAY,CAAC8B,MAAM,KAAK,CAAC,IACzB5B,kBAAkB,CAAC4B,MAAM,KAAK,CAAC,IAC/BzB,eAAe,CAACyB,MAAM,KAAK,CAAC,IAC5BtB,8BAA8B,KAAK/D,GAAG,IACtCqE,2BAA2B,KAAKrE,GAAG,IACnCkE,8BAA8B,KAAKlE,GAAG;EAC7C,CAAC,EAAE,CAAC+C,aAAa,EAAEM,sBAAsB,EAAEF,oBAAoB,EAC7DI,YAAY,EAAEE,kBAAkB,EAAEG,eAAe,EACjDG,8BAA8B,EAAEG,8BAA8B,EAAEG,2BAA2B,CAAC,CAAC;EAE/F,MAAMwD,kBAAkB,GAAG7I,WAAW,CAAE8I,QAAiB,IAAK;IAC5D7F,YAAY,CAAC6F,QAAQ,CAAC;IACtB1F,kBAAkB,aAAlBA,kBAAkB,uBAAlBA,kBAAkB,CAAGhD,qBAAqB,CAAC;EAC7C,CAAC,EAAE,CAAC6C,YAAY,EAAEG,kBAAkB,CAAC,CAAC;EAEtC,MAAM2F,mBAAmB,GAAG/I,WAAW,CAAE0H,EAAU,IAAK;IACtDxE,aAAa,CAACwE,EAAE,CAAC;IACjBtE,kBAAkB,aAAlBA,kBAAkB,uBAAlBA,kBAAkB,CAAGsE,EAAE,CAAC;EAC1B,CAAC,EAAE,CAACxE,aAAa,EAAEE,kBAAkB,CAAC,CAAC;EAEvC,MAAM4F,OAAO,GAAG/I,OAAO,CAAC,MAAM;IAC5B,OACE0B,OAAA,CAAAE,SAAA;MAAAoH,QAAA,EAAGrF,YAAY,KAAK,MAAM,GACvBjC,OAAA,CAACL,iBAAiB;QACjB4H,WAAW,EAAE,IAAK;QAClBC,gBAAgB,EAAEpG,aAAa,CAACsD,MAAM,GAAG,CAAE;QAC3C+C,gBAAgB,EAAErG,aAAa,CAACsD,MAAM,GAAG,CAAE;QAC3CgD,qBAAqB,EAAE,CAACT,WAAY;QACpCU,eAAe,EAAEvD,qBAAsB;QAAAkD,QAAA,EAEvCtH,OAAA,CAACnC,MAAM;UAAC+J,OAAO,EAAC,SAAS;UAACC,OAAO,EAAEA,CAAA,KAAMX,kBAAkB,CAAC,CAAE;UAAAI,QAAA,EAAC;QAE/D;UAAAQ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACQ,CAAC,GACnBjI,OAAA,CAAC9B,YAAY;QAACgK,SAAS,EAAC,YAAY;QAACC,IAAI,EAAC,GAAG;QAAAb,QAAA,EAC5CtH,OAAA,CAACnC,MAAM;UAAC+J,OAAO,EAAC,SAAS;UAACC,OAAO,EAAEA,CAAA,KAAMX,kBAAkB,CAAC,CAAE;UAAAI,QAAA,EAAC;QAE/D;UAAAQ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACG;IAAE,gBAChB,CAAC;EACP,CAAC,EAAE,CACD7D,qBAAqB,EACrB8C,kBAAkB,EAClB9F,aAAa,EACb6F,WAAW,EACXhF,YAAY,CACb,CAAC;EAEF,MAAMmG,eAAe,GAAG9J,OAAO,CAAC,MAAM;IACpC,OAAO8C,aAAa,CACjBiH,MAAM,CAAC,CAACC,GAAa,EAAEC,GAAG,KAAK;MAAA,IAAAC,qBAAA;MAC9B,MAAMzE,SAAS,GAAGwE,GAA8B;MAChD,OAAO,CAAC,GAAGD,GAAG,EAAE,IAAG,EAAAE,qBAAA,GAAAzE,SAAS,CAACmB,YAAY,cAAAsD,qBAAA,uBAAtBA,qBAAA,CAAwBlE,MAAM,CAACmE,EAAE,IAAI,CAACH,GAAG,CAACtD,QAAQ,CAACyD,EAAE,CAAC,CAAC,KAAI,EAAE,EAAC;IACnF,CAAC,EAAE,EAAE,CAAC;EACV,CAAC,EAAE,CAACrH,aAAa,CAAC,CAAC;EAEnB,MAAMsH,iBAAiB,GAAGpK,OAAO,CAAC,MAAM;IACtC,OAAO8C,aAAa,CACjBiH,MAAM,CAAC,CAACC,GAAa,EAAEC,GAAG,KAAK;MAAA,IAAAI,qBAAA;MAC9B,MAAM5E,SAAS,GAAGwE,GAA8B;MAChD,OAAO,CAAC,GAAGD,GAAG,EAAE,IAAG,EAAAK,qBAAA,GAAA5E,SAAS,CAACc,cAAc,cAAA8D,qBAAA,uBAAxBA,qBAAA,CAA0BrE,MAAM,CAACS,EAAE,IAAI,CAACuD,GAAG,CAACtD,QAAQ,CAACD,EAAE,CAAC,CAAC,KAAI,EAAE,EAAC;IACrF,CAAC,EAAE,EAAE,CAAC;EACV,CAAC,EAAE,CAAC3D,aAAa,CAAC,CAAC;EAEnB,MAAMwH,OAAO,GAAGtK,OAAO,CAAC,MAAM;IAC5B,OAAO8C,aAAa,CACjBiH,MAAM,CAAC,CAACC,GAAa,EAAEC,GAAG,KAAK;MAAA,IAAAM,SAAA;MAC9B,OAAO,CAAC,GAAGP,GAAG,EAAE,IAAG,EAAAO,SAAA,GAAAN,GAAG,CAACnD,IAAI,cAAAyD,SAAA,uBAARA,SAAA,CAAUvE,MAAM,CAACS,EAAE,IAAI,CAACuD,GAAG,CAACtD,QAAQ,CAACD,EAAE,CAAC,CAAC,KAAI,EAAE,EAAC;IACrE,CAAC,EAAE,EAAE,CAAC;EACV,CAAC,EAAE,CAAC3D,aAAa,CAAC,CAAC;EAEnB,MAAM0H,iBAAiB,GAAGzK,WAAW,CAAC,MAAM;IAC1CgE,gBAAgB,CAAC,EAAE,CAAC;IACpBM,yBAAyB,CAAC,EAAE,CAAC;IAC7BF,uBAAuB,CAAC,EAAE,CAAC;IAC3BI,eAAe,CAAC,EAAE,CAAC;IACnBE,qBAAqB,CAAC,EAAE,CAAC;IACzBG,kBAAkB,CAAC,EAAE,CAAC;IACtBG,iCAAiC,CAAChE,GAAG,CAAC;IACtCsE,8BAA8B,CAACtE,GAAG,CAAC;IACnCmE,iCAAiC,CAACnE,GAAG,CAAC;EACxC,CAAC,EAAE,EAAE,CAAC;EAEN,MAAM0J,cAAc,GAAGzK,OAAO,CAAC,MAAM;IACnC,OAAO2D,YAAY,KAAK,MAAM,GAAG,CAC/B;MAAE+G,OAAO,EAAE;QAAEC,OAAO,EAAE,EAAE;QAAEC,EAAE,EAAE,CAAC;QAAEC,CAAC,EAAE;MAAE;IAAE,CAAC,EACzC;MAAEH,OAAO,EAAE;QAAEC,OAAO,EAAE,EAAE;QAAEC,EAAE,EAAE,CAAC;QAAEC,CAAC,EAAE;MAAE;IAAE,CAAC,EACzC;MAAEH,OAAO,EAAE;QAAEC,OAAO,EAAE,EAAE;QAAEC,EAAE,EAAE,CAAC;QAAEC,CAAC,EAAE;MAAE;IAAE,CAAC,EACzC;MAAEH,OAAO,EAAE;QAAEC,OAAO,EAAE,EAAE;QAAEC,EAAE,EAAE,CAAC;QAAEC,CAAC,EAAE;MAAE;IAAE,CAAC,EACzC;MAAEH,OAAO,EAAE;QAAEC,OAAO,EAAE,EAAE;QAAEC,EAAE,EAAE,CAAC;QAAEC,CAAC,EAAE;MAAE;IAAE,CAAC,EACzC;MAAEH,OAAO,EAAE;QAAEC,OAAO,EAAE,EAAE;QAAEC,EAAE,EAAE,CAAC;QAAEC,CAAC,EAAE;MAAE;IAAE,CAAC,EACzC;MAAEH,OAAO,EAAE;QAAEC,OAAO,EAAE,EAAE;QAAEC,EAAE,EAAE,CAAC;QAAEC,CAAC,EAAE;MAAE;IAAE,CAAC,EACzC;MAAEH,OAAO,EAAE;QAAEC,OAAO,EAAE,EAAE;QAAEC,EAAE,EAAE,CAAC;QAAEC,CAAC,EAAE;MAAE;IAAE,CAAC,EACzC;MAAEH,OAAO,EAAE;QAAEC,OAAO,EAAE,EAAE;QAAEC,EAAE,EAAE,CAAC;QAAEC,CAAC,EAAE;MAAE;IAAE,CAAC,CAC1C,GACC,CACE;MAAEH,OAAO,EAAE;QAAEC,OAAO,EAAE,EAAE;QAAEC,EAAE,EAAE,CAAC;QAAEC,CAAC,EAAE;MAAE;IAAE,CAAC,EACzC;MAAEH,OAAO,EAAE;QAAEC,OAAO,EAAE,EAAE;QAAEC,EAAE,EAAE,CAAC;QAAEC,CAAC,EAAE;MAAE;IAAE,CAAC,EACzC;MAAEH,OAAO,EAAE;QAAEC,OAAO,EAAE,EAAE;QAAEC,EAAE,EAAE,CAAC;QAAEC,CAAC,EAAE;MAAI;IAAE,CAAC,EAC3C;MAAEH,OAAO,EAAE;QAAEC,OAAO,EAAE,EAAE;QAAEC,EAAE,EAAE,CAAC;QAAEC,CAAC,EAAE;MAAI;IAAE,CAAC,EAC3C;MAAEH,OAAO,EAAE;QAAEC,OAAO,EAAE,EAAE;QAAEC,EAAE,EAAE,CAAC;QAAEC,CAAC,EAAE;MAAE;IAAE,CAAC,EACzC;MAAEH,OAAO,EAAE;QAAEC,OAAO,EAAE;MAAE;IAAE,CAAC,CAC5B;EACL,CAAC,EAAE,CAAChH,YAAY,CAAC,CAAC;EAElB,OAAQjC,OAAA;IAAAsH,QAAA,EACNtH,OAAA,CAAC9B,YAAY;MAACgK,SAAS,EAAC,UAAU;MAACC,IAAI,EAAC,GAAG;MAAAb,QAAA,GACzCtH,OAAA,CAAClC,SAAS;QAACsL,MAAM,EACfpJ,OAAA,CAAChC,MAAM;UACLqJ,OAAO,EAAEA,OAAQ;UACjBgC,OAAO,EAAE,IAAIjF,qBAAqB,CAACM,MAAM,GAAI;UAC7C4E,IAAI,EAAErH,YAAY,KAAK,MAAM,GAAGsH,SAAS,GAAGvJ,OAAA,CAACnC,MAAM;YAAC+J,OAAO,EAAC,MAAM;YAAC4B,QAAQ,EAAC,aAAa;YAAC3B,OAAO,EAAE7F;UAAc;YAAA8F,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAE;UAAAX,QAAA,EACtH;QAAqB;UAAAQ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAC/B;QAAAX,QAAA,EACCtH,OAAA,CAAC9B,YAAY;UAACgK,SAAS,EAAC,UAAU;UAACC,IAAI,EAAC,GAAG;UAAAb,QAAA,GACzCtH,OAAA,CAAC7B,UAAU;YACTiE,aAAa,EAAEA,aAAc;YAC7BqH,oBAAoB,EAAC,wBAAwB;YAC7CC,kBAAkB,EAAC,0BAA0B;YAC7CC,QAAQ,EAAEA,CAAC;cAAEC;YAAO,CAAC,KACnBvH,gBAAgB,CAACuH,MAAM,CAACxH,aAAa;UACtC;YAAA0F,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACF,CAAC,EACFjI,OAAA,CAACjC,IAAI;YACHgL,cAAc,EAAEA,cAAe;YAAAzB,QAAA,GAE/BtH,OAAA,CAAC/B,WAAW;cACV4L,UAAU,EAAE,CAAE;cACdC,eAAe,EAAEhH,kBAAkB,CAACiH,GAAG,CAAChF,EAAE,KAAK;gBAC7C3E,KAAK,EAAE2E,EAAE;gBACT1E,KAAK,EAAE0E;cACT,CAAC,CAAC,CAAE;cACJ4E,QAAQ,EAAEA,CAAC;gBAAEC;cAAO,CAAC;gBAAA,IAAAI,qBAAA;gBAAA,OACnBjH,qBAAqB,CAAC,EAAAiH,qBAAA,GAAAJ,MAAM,CAACE,eAAe,cAAAE,qBAAA,uBAAtBA,qBAAA,CAAwBD,GAAG,CAACE,CAAC,IAAIA,CAAC,CAAC5J,KAAK,IAAI,EAAE,CAAC,KAAI,EAAE,CAAC;cAAA,CAC7E;cACD6J,iBAAiB,EAAEC,CAAC,IAAI,UAAUA,CAAC,CAAC/J,KAAK,EAAG;cAC5CgK,OAAO,EAAEjK,uBAAwB;cACjCkK,WAAW,EAAC,sBAAsB;cAClCC,iBAAiB,EAAC;YAAU;cAAAxC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC7B,CAAC,EACFjI,OAAA,CAAC/B,WAAW;cACV4L,UAAU,EAAE,CAAE;cACdC,eAAe,EAAE,CAAC,GAAGrK,aAAa,CAAC6E,MAAM,CAACiG,CAAC,IAAItH,eAAe,CAAC+B,QAAQ,CAACuF,CAAC,CAAClK,KAAK,CAAC,CAAC,EAC/E,IAAG4C,eAAe,CAAC+B,QAAQ,CAACtG,aAAa,CAAC,GAAG,CAAC4B,sBAAsB,CAAC,GAAG,EAAE,EAAE;cAC9EqJ,QAAQ,EAAEA,CAAC;gBAAEC;cAAO,CAAC;gBAAA,IAAAY,sBAAA;gBAAA,OACnBtH,kBAAkB,CAAC,EAAAsH,sBAAA,GAAAZ,MAAM,CAACE,eAAe,cAAAU,sBAAA,uBAAtBA,sBAAA,CAAwBT,GAAG,CAACE,CAAC,IAAIA,CAAC,CAAC5J,KAAK,IAAI,EAAE,CAAC,KAAI,EAAE,CAAC;cAAA,CAC1E;cACD6J,iBAAiB,EAAEC,CAAC,IAAI,UAAUA,CAAC,CAAC/J,KAAK,EAAG;cAC5CgK,OAAO,EAAE7J,wBAAyB;cAClC8J,WAAW,EAAC,oBAAoB;cAChCC,iBAAiB,EAAC;YAAU;cAAAxC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC7B,CAAC,EACFjI,OAAA,CAACb,aAAa;cACZsL,SAAS,EAAE/B,iBAAkB;cAC7BgC,cAAc,EAAEhI,sBAAuB;cACvCiI,iBAAiB,EAAEhI;YAA0B;cAAAmF,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC9C,CAAC,EACFjI,OAAA,CAAC/B,WAAW;cACV4L,UAAU,EAAE,CAAE;cACdC,eAAe,EAAEtH,oBAAoB,CAACuH,GAAG,CAACtB,EAAE,KAAK;gBAC/CrI,KAAK,EAAEqI,EAAE;gBACTpI,KAAK,EAAEoI;cACT,CAAC,CAAC,CAAE;cACJkB,QAAQ,EAAEA,CAAC;gBAAEC;cAAO,CAAC;gBAAA,IAAAgB,sBAAA;gBAAA,OACnBnI,uBAAuB,CAAC,EAAAmI,sBAAA,GAAAhB,MAAM,CAACE,eAAe,cAAAc,sBAAA,uBAAtBA,sBAAA,CAAwBb,GAAG,CAACE,CAAC,IAAIA,CAAC,CAAC5J,KAAK,IAAI,EAAE,CAAC,KAAI,EAAE,CAAC;cAAA,CAC/E;cACD6J,iBAAiB,EAAEC,CAAC,IAAI,UAAUA,CAAC,CAAC/J,KAAK,EAAG;cAC5CgK,OAAO,EAAEhC,eAAe,CAAC2B,GAAG,CAACc,CAAC,KAAK;gBACjCzK,KAAK,EAAEyK,CAAC;gBACRxK,KAAK,EAAEwK;cACT,CAAC,CAAC,CAAE;cACJR,WAAW,EAAC,2BAA2B;cACvCC,iBAAiB,EAAC;YAAU;cAAAxC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC7B,CAAC,EACFjI,OAAA,CAACN,WAAW;cACVkJ,OAAO,EAAEA,OAAQ;cACjBhG,YAAY,EAAEA,YAAa;cAC3BC,eAAe,EAAEA;YAAgB;cAAAiF,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAClC,CAAC,EACDhG,YAAY,KAAK,MAAM,IAAIjC,OAAA,CAACZ,kBAAkB;cAC7CgB,KAAK,EAAC,iBAAiB;cACvB0K,iBAAiB,EAAC,UAAU;cAC5BC,UAAU,EAAC,SAAS;cACpBC,QAAQ,EAAEtH,2BAA4B;cACtCuH,WAAW,EAAEtH;YAA+B;cAAAmE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC7C,CAAC,EACDhG,YAAY,KAAK,MAAM,IAAIjC,OAAA,CAACZ,kBAAkB;cAC7CgB,KAAK,EAAC,oBAAoB;cAC1B0K,iBAAiB,EAAC,aAAa;cAC/BC,UAAU,EAAC,SAAS;cACpBC,QAAQ,EAAEzH,8BAA+B;cACzC0H,WAAW,EAAEzH;YAAkC;cAAAsE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAChD,CAAC,EACDhG,YAAY,KAAK,MAAM,IAAIjC,OAAA,CAACZ,kBAAkB;cAC7CgB,KAAK,EAAC,oBAAoB;cAC1B0K,iBAAiB,EAAC,aAAa;cAC/BC,UAAU,EAAC,SAAS;cACpBC,QAAQ,EAAE5H,8BAA+B;cACzC6H,WAAW,EAAE5H;YAAkC;cAAAyE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAChD,CAAC,EACDhG,YAAY,KAAK,MAAM,GAAIjC,OAAA;cAAK5B,GAAG,EAAEwC,MAAM,CAACC,cAAe;cAAAyG,QAAA,EAC1DtH,OAAA;gBAAAsH,QAAA,EAAKtH,OAAA,CAACnC,MAAM;kBAACgK,OAAO,EAAEiB,iBAAkB;kBACtCoC,QAAQ,EAAEjE,WAAY;kBAAAK,QAAA,EACvB;gBAED;kBAAAQ,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACZ,CAAC,GAAIjI,OAAA,CAACnC,MAAM;cAACgK,OAAO,EAAEiB,iBAAkB;cAC3ClB,OAAO,EAAC,MAAM;cACduD,OAAO,EAAEnL,OAAA;gBACPoL,SAAS,EAAC,OAAO;gBACjB,eAAY,MAAM;gBAClBC,OAAO,EAAC,WAAW;gBACnBC,QAAQ,EAAE,CAAC,CAAE;gBAAAhE,QAAA,EAEbtH,OAAA;kBAAMuL,CAAC,EAAC;gBAAgK;kBAAAzD,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC7K,CAAE;cACPuD,SAAS,EAAC,eAAe;cACzBN,QAAQ,EAAEjE;YAAY;cAAAa,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACvB,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC,EACPjI,OAAA,CAACjC,IAAI;YACHgL,cAAc,EAAE,CAAC;cAAEC,OAAO,EAAE;gBAAEC,OAAO,EAAE,EAAE;gBAAEC,EAAE,EAAE;cAAE;YAAE,CAAC,CAAE;YAAA5B,QAAA,EAEtDtH,OAAA,CAACJ,eAAe;cAACS,KAAK,EAAEiC,MAAO;cAACmJ,QAAQ,EAAElJ;YAAU;cAAAuF,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACnD,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACK;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC,EACX7D,qBAAqB,aAArBA,qBAAqB,uBAArBA,qBAAqB,CAAE2F,GAAG,CAACxF,EAAE,IAAKvE,OAAA,CAACF,mBAAmB;QAErDiE,SAAS,EAAEQ,EAAG;QACdmH,MAAM,EAAExE,kBAAmB;QAC3ByE,QAAQ,EAAEzJ,YAAa;QACvB0J,cAAc,EAAExE,mBAAoB;QACpCyE,cAAc,EAAEhI,kBAAmB;QACnCiI,mBAAmB,EAAEhI,uBAAwB;QAC7CiI,wBAAwB,EAAE7H,4BAA6B;QACvD8H,kBAAkB,EAAE/J,YAAY,KAAK;MAAO,GARvCsC,EAAE,CAACwB,EAAE;QAAA+B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OASX,CAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACQ;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACZ,CAAC;AACR,CAAC;AAAC9G,EAAA,CA9bIF,mBAAiD;EAAA,QAUjDlC,iBAAiB,EAKjBJ,yBAAyB,EAKzBC,yBAAyB,EAKzBC,sBAAsB,EAKtBC,qBAAqB,EA6DEE,eAAe;AAAA;AAAAiN,EAAA,GA3FtChL,mBAAiD;AAgcvD,eAAeA,mBAAmB;AAAC,IAAAgL,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}