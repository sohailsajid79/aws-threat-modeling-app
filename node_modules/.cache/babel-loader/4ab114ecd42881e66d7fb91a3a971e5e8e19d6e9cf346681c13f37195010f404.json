{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport InternalLink from '../../../link/internal';\nimport InternalStatusIndicator from '../../../status-indicator/internal';\nimport { fireNonCancelableEvent } from '../../events';\nimport { usePrevious } from '../../hooks/use-previous';\nimport styles from './styles.css.js';\nfunction DropdownStatus({\n  children\n}) {\n  return React.createElement(\"div\", {\n    className: styles.root\n  }, children);\n}\nexport const useDropdownStatus = ({\n  statusType,\n  empty,\n  loadingText,\n  finishedText,\n  filteringResultsText,\n  errorText,\n  recoveryText,\n  isEmpty,\n  isNoMatch,\n  isFiltered,\n  noMatch,\n  onRecoveryClick,\n  hasRecoveryCallback = false,\n  errorIconAriaLabel\n}) => {\n  const previousStatusType = usePrevious(statusType);\n  const statusResult = {\n    isSticky: true,\n    content: null,\n    hasRecoveryButton: false\n  };\n  if (statusType === 'loading') {\n    statusResult.content = React.createElement(InternalStatusIndicator, {\n      type: 'loading'\n    }, loadingText);\n  } else if (statusType === 'error') {\n    statusResult.hasRecoveryButton = !!recoveryText && hasRecoveryCallback;\n    statusResult.content = React.createElement(\"span\", null, React.createElement(InternalStatusIndicator, {\n      type: \"error\",\n      __display: \"inline\",\n      __animate: previousStatusType !== 'error',\n      iconAriaLabel: errorIconAriaLabel\n    }, errorText), ' ', statusResult.hasRecoveryButton && React.createElement(InternalLink, {\n      onFollow: () => fireNonCancelableEvent(onRecoveryClick),\n      variant: \"recovery\",\n      className: styles.recovery\n    }, recoveryText));\n  } else if (isEmpty && empty) {\n    statusResult.content = empty;\n  } else if (isNoMatch && noMatch) {\n    statusResult.content = noMatch;\n  } else if (isFiltered && filteringResultsText) {\n    statusResult.content = filteringResultsText;\n  } else if (statusType === 'finished' && finishedText) {\n    statusResult.content = finishedText;\n    statusResult.isSticky = false;\n  }\n  return statusResult;\n};\nexport default DropdownStatus;","map":{"version":3,"names":["React","InternalLink","InternalStatusIndicator","fireNonCancelableEvent","usePrevious","styles","DropdownStatus","children","createElement","className","root","useDropdownStatus","statusType","empty","loadingText","finishedText","filteringResultsText","errorText","recoveryText","isEmpty","isNoMatch","isFiltered","noMatch","onRecoveryClick","hasRecoveryCallback","errorIconAriaLabel","previousStatusType","statusResult","isSticky","content","hasRecoveryButton","type","__display","__animate","iconAriaLabel","onFollow","variant","recovery"],"sources":["/Users/sohailsajid/Desktop/threat-modeling-app/node_modules/src/internal/components/dropdown-status/index.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\n\nimport InternalLink from '../../../link/internal';\nimport InternalStatusIndicator from '../../../status-indicator/internal';\nimport { fireNonCancelableEvent, NonCancelableEventHandler } from '../../events';\nimport { usePrevious } from '../../hooks/use-previous';\nimport { DropdownStatusProps } from './interfaces';\n\nimport styles from './styles.css.js';\n\nexport { DropdownStatusProps };\n\nexport interface DropdownStatusPropsExtended extends DropdownStatusProps {\n  isEmpty?: boolean;\n  isNoMatch?: boolean;\n  isFiltered?: boolean;\n  noMatch?: React.ReactNode;\n  filteringResultsText?: string;\n  /**\n   * Called when the user clicks the recovery button placed at the\n   * bottom of the dropdown list in the error state. Use this to\n   * retry a failed request or provide another option for the user\n   * to recover from the error.\n   */\n  onRecoveryClick?: NonCancelableEventHandler;\n  /**\n   * Determines if retry button should be rendered\n   * in case recoveryText was automatically provided by i18n.\n   */\n  hasRecoveryCallback?: boolean;\n}\n\nfunction DropdownStatus({ children }: { children: React.ReactNode }) {\n  return <div className={styles.root}>{children}</div>;\n}\n\ntype UseDropdownStatus = ({\n  statusType,\n  empty,\n  loadingText,\n  finishedText,\n  filteringResultsText,\n  errorText,\n  recoveryText,\n  isEmpty,\n  isNoMatch,\n  isFiltered,\n  noMatch,\n  hasRecoveryCallback,\n  onRecoveryClick,\n}: DropdownStatusPropsExtended) => DropdownStatusResult;\n\nexport interface DropdownStatusResult {\n  isSticky: boolean;\n  content: React.ReactNode | null;\n  hasRecoveryButton: boolean;\n}\n\nexport const useDropdownStatus: UseDropdownStatus = ({\n  statusType,\n  empty,\n  loadingText,\n  finishedText,\n  filteringResultsText,\n  errorText,\n  recoveryText,\n  isEmpty,\n  isNoMatch,\n  isFiltered,\n  noMatch,\n  onRecoveryClick,\n  hasRecoveryCallback = false,\n  errorIconAriaLabel,\n}): DropdownStatusResult => {\n  const previousStatusType = usePrevious(statusType);\n  const statusResult: DropdownStatusResult = { isSticky: true, content: null, hasRecoveryButton: false };\n\n  if (statusType === 'loading') {\n    statusResult.content = <InternalStatusIndicator type={'loading'}>{loadingText}</InternalStatusIndicator>;\n  } else if (statusType === 'error') {\n    statusResult.hasRecoveryButton = !!recoveryText && hasRecoveryCallback;\n    statusResult.content = (\n      <span>\n        <InternalStatusIndicator\n          type=\"error\"\n          __display=\"inline\"\n          __animate={previousStatusType !== 'error'}\n          iconAriaLabel={errorIconAriaLabel}\n        >\n          {errorText}\n        </InternalStatusIndicator>{' '}\n        {statusResult.hasRecoveryButton && (\n          <InternalLink\n            onFollow={() => fireNonCancelableEvent(onRecoveryClick)}\n            variant=\"recovery\"\n            className={styles.recovery}\n          >\n            {recoveryText}\n          </InternalLink>\n        )}\n      </span>\n    );\n  } else if (isEmpty && empty) {\n    statusResult.content = empty;\n  } else if (isNoMatch && noMatch) {\n    statusResult.content = noMatch;\n  } else if (isFiltered && filteringResultsText) {\n    statusResult.content = filteringResultsText;\n  } else if (statusType === 'finished' && finishedText) {\n    statusResult.content = finishedText;\n    statusResult.isSticky = false;\n  }\n\n  return statusResult;\n};\n\nexport default DropdownStatus;\n"],"mappings":"AAAA;AACA;AACA,OAAOA,KAAK,MAAM,OAAO;AAEzB,OAAOC,YAAY,MAAM,wBAAwB;AACjD,OAAOC,uBAAuB,MAAM,oCAAoC;AACxE,SAASC,sBAAsB,QAAmC,cAAc;AAChF,SAASC,WAAW,QAAQ,0BAA0B;AAGtD,OAAOC,MAAM,MAAM,iBAAiB;AAwBpC,SAASC,cAAcA,CAAC;EAAEC;AAAQ,CAAiC;EACjE,OAAOP,KAAA,CAAAQ,aAAA;IAAKC,SAAS,EAAEJ,MAAM,CAACK;EAAI,GAAGH,QAAQ,CAAO;AACtD;AAwBA,OAAO,MAAMI,iBAAiB,GAAsBA,CAAC;EACnDC,UAAU;EACVC,KAAK;EACLC,WAAW;EACXC,YAAY;EACZC,oBAAoB;EACpBC,SAAS;EACTC,YAAY;EACZC,OAAO;EACPC,SAAS;EACTC,UAAU;EACVC,OAAO;EACPC,eAAe;EACfC,mBAAmB,GAAG,KAAK;EAC3BC;AAAkB,CACnB,KAA0B;EACzB,MAAMC,kBAAkB,GAAGtB,WAAW,CAACQ,UAAU,CAAC;EAClD,MAAMe,YAAY,GAAyB;IAAEC,QAAQ,EAAE,IAAI;IAAEC,OAAO,EAAE,IAAI;IAAEC,iBAAiB,EAAE;EAAK,CAAE;EAEtG,IAAIlB,UAAU,KAAK,SAAS,EAAE;IAC5Be,YAAY,CAACE,OAAO,GAAG7B,KAAA,CAAAQ,aAAA,CAACN,uBAAuB;MAAC6B,IAAI,EAAE;IAAS,GAAGjB,WAAW,CAA2B;GACzG,MAAM,IAAIF,UAAU,KAAK,OAAO,EAAE;IACjCe,YAAY,CAACG,iBAAiB,GAAG,CAAC,CAACZ,YAAY,IAAIM,mBAAmB;IACtEG,YAAY,CAACE,OAAO,GAClB7B,KAAA,CAAAQ,aAAA,eACER,KAAA,CAAAQ,aAAA,CAACN,uBAAuB;MACtB6B,IAAI,EAAC,OAAO;MACZC,SAAS,EAAC,QAAQ;MAClBC,SAAS,EAAEP,kBAAkB,KAAK,OAAO;MACzCQ,aAAa,EAAET;IAAkB,GAEhCR,SAAS,CACc,EAAC,GAAG,EAC7BU,YAAY,CAACG,iBAAiB,IAC7B9B,KAAA,CAAAQ,aAAA,CAACP,YAAY;MACXkC,QAAQ,EAAEA,CAAA,KAAMhC,sBAAsB,CAACoB,eAAe,CAAC;MACvDa,OAAO,EAAC,UAAU;MAClB3B,SAAS,EAAEJ,MAAM,CAACgC;IAAQ,GAEzBnB,YAAY,CAEhB,CAEJ;GACF,MAAM,IAAIC,OAAO,IAAIN,KAAK,EAAE;IAC3Bc,YAAY,CAACE,OAAO,GAAGhB,KAAK;GAC7B,MAAM,IAAIO,SAAS,IAAIE,OAAO,EAAE;IAC/BK,YAAY,CAACE,OAAO,GAAGP,OAAO;GAC/B,MAAM,IAAID,UAAU,IAAIL,oBAAoB,EAAE;IAC7CW,YAAY,CAACE,OAAO,GAAGb,oBAAoB;GAC5C,MAAM,IAAIJ,UAAU,KAAK,UAAU,IAAIG,YAAY,EAAE;IACpDY,YAAY,CAACE,OAAO,GAAGd,YAAY;IACnCY,YAAY,CAACC,QAAQ,GAAG,KAAK;;EAG/B,OAAOD,YAAY;AACrB,CAAC;AAED,eAAerB,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}