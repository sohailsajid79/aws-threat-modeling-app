{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nexport function throttle(func, delay) {\n  let {\n    trailing = true\n  } = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  let pending = null;\n  let lastInvokeTime = null;\n  let timerId = null;\n  // Runs on every animation frame until timer stopped.\n  function pendingFunc() {\n    if (pending === null || lastInvokeTime === null) {\n      return;\n    }\n    const invokeTime = Date.now();\n    const shouldInvoke = invokeTime - lastInvokeTime >= delay;\n    if (shouldInvoke) {\n      func.apply(pending.this, pending.args);\n      lastInvokeTime = invokeTime;\n      pending = null;\n      timerId = null;\n    } else if (trailing) {\n      startTimer();\n    }\n  }\n  function startTimer() {\n    if (timerId) {\n      cancelAnimationFrame(timerId);\n    }\n    timerId = requestAnimationFrame(pendingFunc);\n  }\n  // Decorated client function with delay mechanism.\n  function throttled() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    if (lastInvokeTime === null) {\n      lastInvokeTime = Date.now();\n      func.apply(this, args);\n    } else {\n      pending = {\n        this: this,\n        args\n      };\n      startTimer();\n    }\n  }\n  // Prevents delayed function from execution when no longer needed.\n  throttled.cancel = () => {\n    if (timerId) {\n      cancelAnimationFrame(timerId);\n    }\n    pending = null;\n    lastInvokeTime = null;\n    timerId = null;\n  };\n  return throttled;\n}","map":{"version":3,"names":["throttle","func","delay","trailing","arguments","length","undefined","pending","lastInvokeTime","timerId","pendingFunc","invokeTime","Date","now","shouldInvoke","apply","this","args","startTimer","cancelAnimationFrame","requestAnimationFrame","throttled","_len","Array","_key","cancel"],"sources":["/Users/sohailsajid/Desktop/threat-modeling-app/node_modules/src/internal/utils/throttle.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nexport interface ThrottleOptions {\n  leading?: boolean;\n  trailing?: boolean;\n}\n\nexport interface ThrottledFunction<F extends (...args: any) => any> {\n  (...args: Parameters<F>): void;\n  cancel(): void;\n}\n\nexport function throttle<F extends (...args: any) => any>(\n  func: F,\n  delay: number,\n  { trailing = true }: ThrottleOptions = {}\n): ThrottledFunction<F> {\n  let pending: null | { this: any; args: any } = null;\n  let lastInvokeTime: null | number = null;\n  let timerId: null | number = null;\n\n  // Runs on every animation frame until timer stopped.\n  function pendingFunc() {\n    if (pending === null || lastInvokeTime === null) {\n      return;\n    }\n\n    const invokeTime = Date.now();\n    const shouldInvoke = invokeTime - lastInvokeTime >= delay;\n\n    if (shouldInvoke) {\n      func.apply(pending.this, pending.args);\n      lastInvokeTime = invokeTime;\n      pending = null;\n      timerId = null;\n    } else if (trailing) {\n      startTimer();\n    }\n  }\n\n  function startTimer() {\n    if (timerId) {\n      cancelAnimationFrame(timerId);\n    }\n    timerId = requestAnimationFrame(pendingFunc);\n  }\n\n  // Decorated client function with delay mechanism.\n  function throttled(this: any, ...args: any) {\n    if (lastInvokeTime === null) {\n      lastInvokeTime = Date.now();\n      func.apply(this, args);\n    } else {\n      pending = { this: this, args };\n      startTimer();\n    }\n  }\n\n  // Prevents delayed function from execution when no longer needed.\n  throttled.cancel = () => {\n    if (timerId) {\n      cancelAnimationFrame(timerId);\n    }\n    pending = null;\n    lastInvokeTime = null;\n    timerId = null;\n  };\n\n  return throttled;\n}\n"],"mappings":"AAAA;AACA;AAYA,OAAM,SAAUA,QAAQA,CACtBC,IAAO,EACPC,KAAa,EAC4B;EAAA,IAAzC;IAAEC,QAAQ,GAAG;EAAI,IAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAsB,EAAE;EAEzC,IAAIG,OAAO,GAAoC,IAAI;EACnD,IAAIC,cAAc,GAAkB,IAAI;EACxC,IAAIC,OAAO,GAAkB,IAAI;EAEjC;EACA,SAASC,WAAWA,CAAA;IAClB,IAAIH,OAAO,KAAK,IAAI,IAAIC,cAAc,KAAK,IAAI,EAAE;MAC/C;;IAGF,MAAMG,UAAU,GAAGC,IAAI,CAACC,GAAG,EAAE;IAC7B,MAAMC,YAAY,GAAGH,UAAU,GAAGH,cAAc,IAAIN,KAAK;IAEzD,IAAIY,YAAY,EAAE;MAChBb,IAAI,CAACc,KAAK,CAACR,OAAO,CAACS,IAAI,EAAET,OAAO,CAACU,IAAI,CAAC;MACtCT,cAAc,GAAGG,UAAU;MAC3BJ,OAAO,GAAG,IAAI;MACdE,OAAO,GAAG,IAAI;KACf,MAAM,IAAIN,QAAQ,EAAE;MACnBe,UAAU,EAAE;;EAEhB;EAEA,SAASA,UAAUA,CAAA;IACjB,IAAIT,OAAO,EAAE;MACXU,oBAAoB,CAACV,OAAO,CAAC;;IAE/BA,OAAO,GAAGW,qBAAqB,CAACV,WAAW,CAAC;EAC9C;EAEA;EACA,SAASW,SAASA,CAAA,EAAwB;IAAA,SAAAC,IAAA,GAAAlB,SAAA,CAAAC,MAAA,EAATY,IAAS,OAAAM,KAAA,CAAAD,IAAA,GAAAE,IAAA,MAAAA,IAAA,GAAAF,IAAA,EAAAE,IAAA;MAATP,IAAS,CAAAO,IAAA,IAAApB,SAAA,CAAAoB,IAAA;IAAA;IACxC,IAAIhB,cAAc,KAAK,IAAI,EAAE;MAC3BA,cAAc,GAAGI,IAAI,CAACC,GAAG,EAAE;MAC3BZ,IAAI,CAACc,KAAK,CAAC,IAAI,EAAEE,IAAI,CAAC;KACvB,MAAM;MACLV,OAAO,GAAG;QAAES,IAAI,EAAE,IAAI;QAAEC;MAAI,CAAE;MAC9BC,UAAU,EAAE;;EAEhB;EAEA;EACAG,SAAS,CAACI,MAAM,GAAG,MAAK;IACtB,IAAIhB,OAAO,EAAE;MACXU,oBAAoB,CAACV,OAAO,CAAC;;IAE/BF,OAAO,GAAG,IAAI;IACdC,cAAc,GAAG,IAAI;IACrBC,OAAO,GAAG,IAAI;EAChB,CAAC;EAED,OAAOY,SAAS;AAClB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}