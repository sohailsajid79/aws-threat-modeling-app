{"ast":null,"code":"import _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _typeof from \"@babel/runtime/helpers/typeof\";\nvar _excluded = [\"dataType\", \"onChange\", \"initial\", \"clearedValue\", \"dirty\"];\nimport isEmpty from 'lodash/isEmpty';\nimport convertType from './convert-type';\n/**\n * Pick a value from event object and returns it\n * @param {Object|Any} event event value returned from form field\n */\n\nvar sanitizeValue = function sanitizeValue(event) {\n  if (_typeof(event) === 'object' && event !== null && event.target) {\n    if (event.target.type === 'checkbox') {\n      return event;\n    }\n    if (event.target.type === 'file') {\n      return {\n        inputValue: event.target.value,\n        inputFiles: event.target.files\n      };\n    }\n    return event.target.value;\n  }\n  return event;\n};\n/**\n * Checks the value and returns undefined if its empty. Converst epmtry strings, arrays and objects.\n * If value is empty its overriden to undefined for further processing.\n * @param {Any} value Any JS variable to be check if is empty\n */\n\nvar checkEmpty = function checkEmpty(value) {\n  if (typeof value === 'number') {\n    return false;\n  }\n  if (typeof value === 'boolean') {\n    return false;\n  }\n  if (typeof value === 'string' && value.length > 0) {\n    return false;\n  }\n  if (value instanceof Date) {\n    return false;\n  }\n  if (!isEmpty(value)) {\n    return false;\n  }\n  return true;\n};\n/**\n * Casts input value into selected data type\n */\n\nvar enhancedOnChange = function enhancedOnChange(_ref, value) {\n  var dataType = _ref.dataType,\n    onChange = _ref.onChange,\n    initial = _ref.initial,\n    clearedValue = _ref.clearedValue,\n    dirty = _ref.dirty,\n    rest = _objectWithoutProperties(_ref, _excluded);\n  var sanitizedValue = sanitizeValue(value);\n  var result;\n  if (_typeof(sanitizedValue) == 'object' && sanitizedValue !== null && sanitizedValue.target && sanitizedValue.target.type === 'checkbox') {\n    result = sanitizedValue;\n  } else {\n    result = Array.isArray(sanitizedValue) ? sanitizedValue.map(function (item) {\n      return convertType(dataType, sanitizeValue(item));\n    }) : convertType(dataType, sanitizedValue);\n  }\n  for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    args[_key - 2] = arguments[_key];\n  }\n  if (checkEmpty(result) && typeof initial !== 'undefined') {\n    return onChange.apply(void 0, [clearedValue].concat(args));\n  }\n  return onChange.apply(void 0, [result].concat(args));\n};\nexport default enhancedOnChange;","map":{"version":3,"names":["_objectWithoutProperties","_typeof","_excluded","isEmpty","convertType","sanitizeValue","event","target","type","inputValue","value","inputFiles","files","checkEmpty","length","Date","enhancedOnChange","_ref","dataType","onChange","initial","clearedValue","dirty","rest","sanitizedValue","result","Array","isArray","map","item","_len","arguments","args","_key","apply","concat"],"sources":["/Users/sohailsajid/Desktop/threat-modeling-app/node_modules/@data-driven-forms/react-form-renderer/esm/use-field-api/enhanced-on-change.js"],"sourcesContent":["import _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _typeof from \"@babel/runtime/helpers/typeof\";\nvar _excluded = [\"dataType\", \"onChange\", \"initial\", \"clearedValue\", \"dirty\"];\nimport isEmpty from 'lodash/isEmpty';\nimport convertType from './convert-type';\n/**\n * Pick a value from event object and returns it\n * @param {Object|Any} event event value returned from form field\n */\n\nvar sanitizeValue = function sanitizeValue(event) {\n  if (_typeof(event) === 'object' && event !== null && event.target) {\n    if (event.target.type === 'checkbox') {\n      return event;\n    }\n\n    if (event.target.type === 'file') {\n      return {\n        inputValue: event.target.value,\n        inputFiles: event.target.files\n      };\n    }\n\n    return event.target.value;\n  }\n\n  return event;\n};\n/**\n * Checks the value and returns undefined if its empty. Converst epmtry strings, arrays and objects.\n * If value is empty its overriden to undefined for further processing.\n * @param {Any} value Any JS variable to be check if is empty\n */\n\n\nvar checkEmpty = function checkEmpty(value) {\n  if (typeof value === 'number') {\n    return false;\n  }\n\n  if (typeof value === 'boolean') {\n    return false;\n  }\n\n  if (typeof value === 'string' && value.length > 0) {\n    return false;\n  }\n\n  if (value instanceof Date) {\n    return false;\n  }\n\n  if (!isEmpty(value)) {\n    return false;\n  }\n\n  return true;\n};\n/**\n * Casts input value into selected data type\n */\n\n\nvar enhancedOnChange = function enhancedOnChange(_ref, value) {\n  var dataType = _ref.dataType,\n      onChange = _ref.onChange,\n      initial = _ref.initial,\n      clearedValue = _ref.clearedValue,\n      dirty = _ref.dirty,\n      rest = _objectWithoutProperties(_ref, _excluded);\n\n  var sanitizedValue = sanitizeValue(value);\n  var result;\n\n  if (_typeof(sanitizedValue) == 'object' && sanitizedValue !== null && sanitizedValue.target && sanitizedValue.target.type === 'checkbox') {\n    result = sanitizedValue;\n  } else {\n    result = Array.isArray(sanitizedValue) ? sanitizedValue.map(function (item) {\n      return convertType(dataType, sanitizeValue(item));\n    }) : convertType(dataType, sanitizedValue);\n  }\n\n  for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    args[_key - 2] = arguments[_key];\n  }\n\n  if (checkEmpty(result) && typeof initial !== 'undefined') {\n    return onChange.apply(void 0, [clearedValue].concat(args));\n  }\n\n  return onChange.apply(void 0, [result].concat(args));\n};\n\nexport default enhancedOnChange;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}