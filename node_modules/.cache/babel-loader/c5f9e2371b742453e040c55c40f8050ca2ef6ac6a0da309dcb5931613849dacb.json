{"ast":null,"code":"import { __rest } from \"tslib\";\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useCallback, useImperativeHandle, useLayoutEffect, useMemo, useRef } from 'react';\nimport clsx from 'clsx';\nimport { useStableCallback } from '@cloudscape-design/component-toolkit/internal';\nimport InternalAttributeEditor from '../attribute-editor/internal';\nimport InternalBox from '../box/internal';\nimport { FormFieldError } from '../form-field/internal';\nimport { useInternalI18n } from '../i18n/context';\nimport { getBaseProps } from '../internal/base-component';\nimport LiveRegion from '../internal/components/live-region';\nimport { fireNonCancelableEvent } from '../internal/events';\nimport useBaseComponent from '../internal/hooks/use-base-component';\nimport { applyDisplayName } from '../internal/utils/apply-display-name';\nimport InternalStatusIndicator from '../status-indicator/internal';\nimport { TagControl, UndoButton } from './internal';\nimport { findIndex, useMemoizedArray } from './utils';\nimport { getTagsDiff } from './utils';\nimport { validate } from './validation';\nimport styles from './styles.css.js';\nexport { getTagsDiff };\nconst isItemRemovable = ({\n  tag\n}) => !tag.markedForRemoval;\nconst TagEditor = React.forwardRef((_a, ref) => {\n  var _b, _c, _d, _e, _f, _g;\n  var {\n      tags = [],\n      i18nStrings,\n      loading = false,\n      tagLimit = 50,\n      allowedCharacterPattern,\n      keysRequest,\n      valuesRequest,\n      onChange\n    } = _a,\n    restProps = __rest(_a, [\"tags\", \"i18nStrings\", \"loading\", \"tagLimit\", \"allowedCharacterPattern\", \"keysRequest\", \"valuesRequest\", \"onChange\"]);\n  const baseComponentProps = useBaseComponent('TagEditor', {\n    props: {\n      tagLimit,\n      allowedCharacterPattern\n    }\n  });\n  const i18n = useInternalI18n('tag-editor');\n  const remainingTags = tagLimit - tags.filter(tag => !tag.markedForRemoval).length;\n  const attributeEditorRef = useRef(null);\n  const keyInputRefs = useRef([]);\n  const valueInputRefs = useRef([]);\n  const undoButtonRefs = useRef([]);\n  const initialKeyOptionsRef = useRef([]);\n  const keyDirtyStateRef = useRef([]);\n  const focusEventRef = useRef();\n  useLayoutEffect(() => {\n    var _a;\n    (_a = focusEventRef.current) === null || _a === void 0 ? void 0 : _a.apply(undefined);\n    focusEventRef.current = undefined;\n  });\n  const errors = validate(tags, keyDirtyStateRef.current, i18n, i18nStrings, allowedCharacterPattern ? new RegExp(allowedCharacterPattern) : undefined);\n  const internalTags = useMemoizedArray(tags.map((tag, i) => ({\n    tag,\n    error: errors[i]\n  })), (prev, next) => {\n    var _a, _b, _c, _d;\n    return prev.tag === next.tag && ((_a = prev.error) === null || _a === void 0 ? void 0 : _a.key) === ((_b = next.error) === null || _b === void 0 ? void 0 : _b.key) && ((_c = prev.error) === null || _c === void 0 ? void 0 : _c.value) === ((_d = next.error) === null || _d === void 0 ? void 0 : _d.value);\n  });\n  useImperativeHandle(ref, () => ({\n    focus() {\n      var _a, _b;\n      const errorIndex = findIndex(internalTags, ({\n        error\n      }) => (error === null || error === void 0 ? void 0 : error.key) || (error === null || error === void 0 ? void 0 : error.value));\n      if (errorIndex !== -1) {\n        const refArray = ((_a = internalTags[errorIndex].error) === null || _a === void 0 ? void 0 : _a.key) ? keyInputRefs : valueInputRefs;\n        (_b = refArray.current[errorIndex]) === null || _b === void 0 ? void 0 : _b.focus();\n      }\n    }\n  }), [internalTags]);\n  const validateAndFire = useCallback(newTags => {\n    fireNonCancelableEvent(onChange, {\n      tags: newTags,\n      valid: !validate(newTags, keyDirtyStateRef.current, i18n, i18nStrings, allowedCharacterPattern ? new RegExp(allowedCharacterPattern) : undefined).some(error => error)\n    });\n  }, [onChange, i18n, i18nStrings, allowedCharacterPattern]);\n  const onAddButtonClick = () => {\n    validateAndFire([...tags, {\n      key: '',\n      value: '',\n      existing: false\n    }]);\n    focusEventRef.current = () => {\n      var _a;\n      (_a = keyInputRefs.current[tags.length]) === null || _a === void 0 ? void 0 : _a.focus();\n    };\n  };\n  const onRemoveButtonClick = useStableCallback(({\n    detail\n  }) => {\n    var _a, _b, _c, _d, _e;\n    const existing = tags[detail.itemIndex].existing;\n    validateAndFire([...tags.slice(0, detail.itemIndex), ...(existing ? [Object.assign(Object.assign({}, tags[detail.itemIndex]), {\n      markedForRemoval: true\n    })] : []), ...tags.slice(detail.itemIndex + 1)]);\n    if (existing) {\n      focusEventRef.current = () => {\n        var _a;\n        (_a = undoButtonRefs.current[detail.itemIndex]) === null || _a === void 0 ? void 0 : _a.focus();\n      };\n    } else {\n      keyDirtyStateRef.current.splice(detail.itemIndex, 1);\n      const nextKey = keyInputRefs.current[detail.itemIndex + 1];\n      if (nextKey) {\n        // if next key is present, focus _current_ key which will be replaced by next after state update\n        (_a = keyInputRefs.current[detail.itemIndex]) === null || _a === void 0 ? void 0 : _a.focus();\n      } else if (detail.itemIndex > 0) {\n        // otherwise focus previous key/value/undo button\n        const previousIsExisting = tags[detail.itemIndex - 1].existing;\n        if (previousIsExisting) {\n          if (tags[detail.itemIndex - 1].markedForRemoval) {\n            (_b = undoButtonRefs.current[detail.itemIndex - 1]) === null || _b === void 0 ? void 0 : _b.focus();\n          } else {\n            (_c = valueInputRefs.current[detail.itemIndex - 1]) === null || _c === void 0 ? void 0 : _c.focus();\n          }\n        } else {\n          (_d = keyInputRefs.current[detail.itemIndex - 1]) === null || _d === void 0 ? void 0 : _d.focus();\n        }\n      } else {\n        // or the 'add' button\n        (_e = attributeEditorRef.current) === null || _e === void 0 ? void 0 : _e.focusAddButton();\n      }\n    }\n  });\n  const onKeyChange = useStableCallback((value, row) => {\n    keyDirtyStateRef.current[row] = true;\n    validateAndFire([...tags.slice(0, row), Object.assign(Object.assign({}, tags[row]), {\n      key: value\n    }), ...tags.slice(row + 1)]);\n  });\n  const onKeyBlur = useStableCallback(row => {\n    keyDirtyStateRef.current[row] = true;\n    // Force re-render by providing a new array reference\n    validateAndFire([...tags]);\n  });\n  const onValueChange = useStableCallback((value, row) => {\n    validateAndFire([...tags.slice(0, row), Object.assign(Object.assign({}, tags[row]), {\n      value\n    }), ...tags.slice(row + 1)]);\n  });\n  const onUndoRemoval = useStableCallback(row => {\n    validateAndFire([...tags.slice(0, row), Object.assign(Object.assign({}, tags[row]), {\n      markedForRemoval: false\n    }), ...tags.slice(row + 1)]);\n    focusEventRef.current = () => {\n      var _a;\n      (_a = attributeEditorRef.current) === null || _a === void 0 ? void 0 : _a.focusRemoveButton(row);\n    };\n  });\n  const definition = useMemo(() => [{\n    label: i18n('i18nStrings.keyHeader', i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.keyHeader),\n    control: ({\n      tag\n    }, row) => React.createElement(TagControl, {\n      row: row,\n      value: tag.key,\n      readOnly: tag.existing,\n      limit: 200,\n      defaultOptions: [],\n      placeholder: i18n('i18nStrings.keyPlaceholder', i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.keyPlaceholder),\n      errorText: i18n('i18nStrings.keysSuggestionError', i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.keysSuggestionError),\n      loadingText: i18n('i18nStrings.keysSuggestionLoading', i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.keysSuggestionLoading),\n      suggestionText: i18n('i18nStrings.keySuggestion', i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.keySuggestion),\n      tooManySuggestionText: i18n('i18nStrings.tooManyKeysSuggestion', i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.tooManyKeysSuggestion),\n      enteredTextLabel: i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.enteredKeyLabel,\n      clearAriaLabel: i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.clearAriaLabel,\n      onRequest: keysRequest,\n      onChange: onKeyChange,\n      onBlur: onKeyBlur,\n      initialOptionsRef: initialKeyOptionsRef,\n      ref: ref => {\n        keyInputRefs.current[row] = ref;\n      }\n    }),\n    errorText: ({\n      error\n    }) => error === null || error === void 0 ? void 0 : error.key\n  }, {\n    label: React.createElement(\"span\", null, i18n('i18nStrings.valueHeader', i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.valueHeader), \" -\", ' ', React.createElement(\"i\", null, i18n('i18nStrings.optional', i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.optional))),\n    control: ({\n      tag\n    }, row) => {\n      var _a;\n      return tag.markedForRemoval ? React.createElement(\"div\", {\n        role: \"alert\"\n      }, React.createElement(InternalBox, {\n        margin: {\n          top: 'xxs'\n        }\n      }, i18n('i18nStrings.undoPrompt', i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.undoPrompt), ' ', React.createElement(UndoButton, {\n        onClick: () => onUndoRemoval(row),\n        ref: elem => {\n          undoButtonRefs.current[row] = elem;\n        }\n      }, i18n('i18nStrings.undoButton', i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.undoButton)))) : React.createElement(TagControl, {\n        row: row,\n        value: tag.value,\n        readOnly: false,\n        limit: 200,\n        defaultOptions: (_a = tag.valueSuggestionOptions) !== null && _a !== void 0 ? _a : [],\n        placeholder: i18n('i18nStrings.valuePlaceholder', i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.valuePlaceholder),\n        errorText: i18n('i18nStrings.valuesSuggestionError', i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.valuesSuggestionError),\n        loadingText: i18n('i18nStrings.valuesSuggestionLoading', i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.valuesSuggestionLoading),\n        suggestionText: i18n('i18nStrings.valueSuggestion', i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.valueSuggestion),\n        tooManySuggestionText: i18n('i18nStrings.tooManyValuesSuggestion', i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.tooManyValuesSuggestion),\n        enteredTextLabel: i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.enteredValueLabel,\n        clearAriaLabel: i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.clearAriaLabel,\n        filteringKey: tag.key,\n        onRequest: valuesRequest && (value => valuesRequest(tag.key, value)),\n        onChange: onValueChange,\n        ref: ref => {\n          valueInputRefs.current[row] = ref;\n        }\n      });\n    },\n    errorText: ({\n      error\n    }) => error === null || error === void 0 ? void 0 : error.value\n  }], [i18n, i18nStrings, keysRequest, onKeyChange, onKeyBlur, valuesRequest, onValueChange, onUndoRemoval]);\n  const forwardedI18nStrings = useMemo(() => ({\n    errorIconAriaLabel: i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.errorIconAriaLabel,\n    itemRemovedAriaLive: i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.itemRemovedAriaLive,\n    removeButtonAriaLabel: i18n('i18nStrings.removeButtonAriaLabel', (i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.removeButtonAriaLabel) && (({\n      tag\n    }) => i18nStrings.removeButtonAriaLabel(tag)), format => ({\n      tag\n    }) => format({\n      tag__key: tag.key\n    }))\n  }), [i18nStrings, i18n]);\n  if (loading) {\n    return React.createElement(\"div\", {\n      className: styles.root,\n      ref: baseComponentProps.__internalRootRef\n    }, React.createElement(InternalStatusIndicator, {\n      className: styles.loading,\n      type: \"loading\"\n    }, React.createElement(LiveRegion, {\n      visible: true\n    }, i18n('i18nStrings.loading', i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.loading))));\n  }\n  const baseProps = getBaseProps(restProps);\n  return React.createElement(InternalAttributeEditor, Object.assign({}, baseProps, baseComponentProps, {\n    ref: attributeEditorRef,\n    className: clsx(styles.root, baseProps.className),\n    items: internalTags,\n    isItemRemovable: isItemRemovable,\n    onAddButtonClick: onAddButtonClick,\n    onRemoveButtonClick: onRemoveButtonClick,\n    addButtonText: (_b = i18n('i18nStrings.addButton', i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.addButton)) !== null && _b !== void 0 ? _b : '',\n    removeButtonText: i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.removeButton,\n    disableAddButton: remainingTags <= 0,\n    empty: i18n('i18nStrings.emptyTags', i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.emptyTags),\n    additionalInfo: remainingTags < 0 ? React.createElement(FormFieldError, {\n      errorIconAriaLabel: i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.errorIconAriaLabel\n    }, (_d = i18n('i18nStrings.tagLimitExceeded', (_c = i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.tagLimitExceeded) === null || _c === void 0 ? void 0 : _c.call(i18nStrings, tagLimit), format => format({\n      tagLimit\n    }))) !== null && _d !== void 0 ? _d : '') : remainingTags === 0 ? (_f = i18n('i18nStrings.tagLimitReached', (_e = i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.tagLimitReached) === null || _e === void 0 ? void 0 : _e.call(i18nStrings, tagLimit), format => format({\n      tagLimit\n    }))) !== null && _f !== void 0 ? _f : '' : i18n('i18nStrings.tagLimit', (_g = i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.tagLimit) === null || _g === void 0 ? void 0 : _g.call(i18nStrings, remainingTags, tagLimit), format => format({\n      tagLimitAvailable: `${remainingTags === tagLimit}`,\n      availableTags: remainingTags,\n      tagLimit\n    })),\n    definition: definition,\n    i18nStrings: forwardedI18nStrings\n  }));\n});\napplyDisplayName(TagEditor, 'TagEditor');\nexport default TagEditor;","map":{"version":3,"names":["React","useCallback","useImperativeHandle","useLayoutEffect","useMemo","useRef","clsx","useStableCallback","InternalAttributeEditor","InternalBox","FormFieldError","useInternalI18n","getBaseProps","LiveRegion","fireNonCancelableEvent","useBaseComponent","applyDisplayName","InternalStatusIndicator","TagControl","UndoButton","findIndex","useMemoizedArray","getTagsDiff","validate","styles","isItemRemovable","tag","markedForRemoval","TagEditor","forwardRef","_a","ref","tags","i18nStrings","loading","tagLimit","allowedCharacterPattern","keysRequest","valuesRequest","onChange","restProps","__rest","baseComponentProps","props","i18n","remainingTags","filter","length","attributeEditorRef","keyInputRefs","valueInputRefs","undoButtonRefs","initialKeyOptionsRef","keyDirtyStateRef","focusEventRef","current","apply","undefined","errors","RegExp","internalTags","map","i","error","prev","next","key","_b","_c","value","_d","focus","errorIndex","refArray","validateAndFire","newTags","valid","some","onAddButtonClick","existing","onRemoveButtonClick","detail","itemIndex","slice","Object","assign","splice","nextKey","previousIsExisting","_e","focusAddButton","onKeyChange","row","onKeyBlur","onValueChange","onUndoRemoval","focusRemoveButton","definition","label","keyHeader","control","createElement","readOnly","limit","defaultOptions","placeholder","keyPlaceholder","errorText","keysSuggestionError","loadingText","keysSuggestionLoading","suggestionText","keySuggestion","tooManySuggestionText","tooManyKeysSuggestion","enteredTextLabel","enteredKeyLabel","clearAriaLabel","onRequest","onBlur","initialOptionsRef","valueHeader","optional","role","margin","top","undoPrompt","onClick","elem","undoButton","valueSuggestionOptions","valuePlaceholder","valuesSuggestionError","valuesSuggestionLoading","valueSuggestion","tooManyValuesSuggestion","enteredValueLabel","filteringKey","forwardedI18nStrings","errorIconAriaLabel","itemRemovedAriaLive","removeButtonAriaLabel","format","tag__key","className","root","__internalRootRef","type","visible","baseProps","items","addButtonText","addButton","removeButtonText","removeButton","disableAddButton","empty","emptyTags","additionalInfo","tagLimitExceeded","call","_f","tagLimitReached","_g","tagLimitAvailable","availableTags"],"sources":["/Users/sohailsajid/Desktop/threat-modeling-app/node_modules/src/tag-editor/index.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useCallback, useImperativeHandle, useLayoutEffect, useMemo, useRef } from 'react';\nimport clsx from 'clsx';\n\nimport { useStableCallback } from '@cloudscape-design/component-toolkit/internal';\n\nimport { AttributeEditorProps } from '../attribute-editor/interfaces';\nimport InternalAttributeEditor from '../attribute-editor/internal';\nimport { AutosuggestProps } from '../autosuggest/interfaces';\nimport InternalBox from '../box/internal';\nimport { FormFieldError } from '../form-field/internal';\nimport { useInternalI18n } from '../i18n/context';\nimport { InputProps } from '../input/interfaces';\nimport { getBaseProps } from '../internal/base-component';\nimport LiveRegion from '../internal/components/live-region';\nimport { fireNonCancelableEvent, NonCancelableCustomEvent } from '../internal/events';\nimport useBaseComponent from '../internal/hooks/use-base-component';\nimport { applyDisplayName } from '../internal/utils/apply-display-name';\nimport InternalStatusIndicator from '../status-indicator/internal';\nimport { TagEditorProps } from './interfaces';\nimport { TagControl, UndoButton } from './internal';\nimport { findIndex, useMemoizedArray } from './utils';\nimport { getTagsDiff } from './utils';\nimport { validate, ValidationError } from './validation';\n\nimport styles from './styles.css.js';\n\nexport { TagEditorProps, getTagsDiff };\n\ninterface InternalTag {\n  tag: TagEditorProps.Tag;\n  error?: ValidationError;\n}\n\nconst isItemRemovable = ({ tag }: InternalTag) => !tag.markedForRemoval;\n\nconst TagEditor = React.forwardRef(\n  (\n    {\n      tags = [],\n      i18nStrings,\n      loading = false,\n      tagLimit = 50,\n      allowedCharacterPattern,\n      keysRequest,\n      valuesRequest,\n      onChange,\n      ...restProps\n    }: TagEditorProps,\n    ref: React.Ref<TagEditorProps.Ref>\n  ) => {\n    const baseComponentProps = useBaseComponent('TagEditor', {\n      props: { tagLimit, allowedCharacterPattern },\n    });\n    const i18n = useInternalI18n('tag-editor');\n\n    const remainingTags = tagLimit - tags.filter(tag => !tag.markedForRemoval).length;\n\n    const attributeEditorRef = useRef<AttributeEditorProps.Ref>(null);\n    const keyInputRefs = useRef<(InputProps.Ref | undefined | null)[]>([]);\n    const valueInputRefs = useRef<(InputProps.Ref | undefined | null)[]>([]);\n    const undoButtonRefs = useRef<(HTMLAnchorElement | undefined | null)[]>([]);\n\n    const initialKeyOptionsRef = useRef<AutosuggestProps.Options>([]);\n    const keyDirtyStateRef = useRef<boolean[]>([]);\n    const focusEventRef = useRef<() => void>();\n\n    useLayoutEffect(() => {\n      focusEventRef.current?.apply(undefined);\n      focusEventRef.current = undefined;\n    });\n\n    const errors = validate(\n      tags,\n      keyDirtyStateRef.current,\n      i18n,\n      i18nStrings,\n      allowedCharacterPattern ? new RegExp(allowedCharacterPattern) : undefined\n    );\n\n    const internalTags = useMemoizedArray(\n      tags.map((tag, i) => ({ tag, error: errors[i] })),\n      (prev, next) => {\n        return prev.tag === next.tag && prev.error?.key === next.error?.key && prev.error?.value === next.error?.value;\n      }\n    );\n\n    useImperativeHandle(\n      ref,\n      () => ({\n        focus() {\n          const errorIndex = findIndex(internalTags, ({ error }) => error?.key || error?.value);\n          if (errorIndex !== -1) {\n            const refArray = internalTags[errorIndex].error?.key ? keyInputRefs : valueInputRefs;\n            refArray.current[errorIndex]?.focus();\n          }\n        },\n      }),\n      [internalTags]\n    );\n\n    const validateAndFire = useCallback(\n      (newTags: ReadonlyArray<TagEditorProps.Tag>) => {\n        fireNonCancelableEvent(onChange, {\n          tags: newTags,\n          valid: !validate(\n            newTags,\n            keyDirtyStateRef.current,\n            i18n,\n            i18nStrings,\n            allowedCharacterPattern ? new RegExp(allowedCharacterPattern) : undefined\n          ).some(error => error),\n        });\n      },\n      [onChange, i18n, i18nStrings, allowedCharacterPattern]\n    );\n\n    const onAddButtonClick = () => {\n      validateAndFire([...tags, { key: '', value: '', existing: false }]);\n      focusEventRef.current = () => {\n        keyInputRefs.current[tags.length]?.focus();\n      };\n    };\n\n    const onRemoveButtonClick = useStableCallback(\n      ({ detail }: NonCancelableCustomEvent<AttributeEditorProps.RemoveButtonClickDetail>) => {\n        const existing = tags[detail.itemIndex].existing;\n        validateAndFire([\n          ...tags.slice(0, detail.itemIndex),\n          ...(existing ? [{ ...tags[detail.itemIndex], markedForRemoval: true }] : []),\n          ...tags.slice(detail.itemIndex + 1),\n        ]);\n        if (existing) {\n          focusEventRef.current = () => {\n            undoButtonRefs.current[detail.itemIndex]?.focus();\n          };\n        } else {\n          keyDirtyStateRef.current.splice(detail.itemIndex, 1);\n          const nextKey = keyInputRefs.current[detail.itemIndex + 1];\n          if (nextKey) {\n            // if next key is present, focus _current_ key which will be replaced by next after state update\n            keyInputRefs.current[detail.itemIndex]?.focus();\n          } else if (detail.itemIndex > 0) {\n            // otherwise focus previous key/value/undo button\n            const previousIsExisting = tags[detail.itemIndex - 1].existing;\n            if (previousIsExisting) {\n              if (tags[detail.itemIndex - 1].markedForRemoval) {\n                undoButtonRefs.current[detail.itemIndex - 1]?.focus();\n              } else {\n                valueInputRefs.current[detail.itemIndex - 1]?.focus();\n              }\n            } else {\n              keyInputRefs.current[detail.itemIndex - 1]?.focus();\n            }\n          } else {\n            // or the 'add' button\n            attributeEditorRef.current?.focusAddButton();\n          }\n        }\n      }\n    );\n\n    const onKeyChange = useStableCallback((value: string, row: number) => {\n      keyDirtyStateRef.current[row] = true;\n      validateAndFire([...tags.slice(0, row), { ...tags[row], key: value }, ...tags.slice(row + 1)]);\n    });\n\n    const onKeyBlur = useStableCallback((row: number) => {\n      keyDirtyStateRef.current[row] = true;\n      // Force re-render by providing a new array reference\n      validateAndFire([...tags]);\n    });\n\n    const onValueChange = useStableCallback((value: string, row: number) => {\n      validateAndFire([...tags.slice(0, row), { ...tags[row], value }, ...tags.slice(row + 1)]);\n    });\n\n    const onUndoRemoval = useStableCallback((row: number) => {\n      validateAndFire([...tags.slice(0, row), { ...tags[row], markedForRemoval: false }, ...tags.slice(row + 1)]);\n      focusEventRef.current = () => {\n        attributeEditorRef.current?.focusRemoveButton(row);\n      };\n    });\n\n    const definition = useMemo(\n      () => [\n        {\n          label: i18n('i18nStrings.keyHeader', i18nStrings?.keyHeader),\n          control: ({ tag }: InternalTag, row: number) => (\n            <TagControl\n              row={row}\n              value={tag.key}\n              readOnly={tag.existing}\n              limit={200}\n              defaultOptions={[]}\n              placeholder={i18n('i18nStrings.keyPlaceholder', i18nStrings?.keyPlaceholder)}\n              errorText={i18n('i18nStrings.keysSuggestionError', i18nStrings?.keysSuggestionError)}\n              loadingText={i18n('i18nStrings.keysSuggestionLoading', i18nStrings?.keysSuggestionLoading)}\n              suggestionText={i18n('i18nStrings.keySuggestion', i18nStrings?.keySuggestion)}\n              tooManySuggestionText={i18n('i18nStrings.tooManyKeysSuggestion', i18nStrings?.tooManyKeysSuggestion)}\n              enteredTextLabel={i18nStrings?.enteredKeyLabel}\n              clearAriaLabel={i18nStrings?.clearAriaLabel}\n              onRequest={keysRequest}\n              onChange={onKeyChange}\n              onBlur={onKeyBlur}\n              initialOptionsRef={initialKeyOptionsRef}\n              ref={ref => {\n                keyInputRefs.current[row] = ref;\n              }}\n            />\n          ),\n          errorText: ({ error }: InternalTag) => error?.key,\n        },\n        {\n          label: (\n            <span>\n              {i18n('i18nStrings.valueHeader', i18nStrings?.valueHeader)} -{' '}\n              <i>{i18n('i18nStrings.optional', i18nStrings?.optional)}</i>\n            </span>\n          ),\n          control: ({ tag }: InternalTag, row: number) =>\n            tag.markedForRemoval ? (\n              <div role=\"alert\">\n                <InternalBox margin={{ top: 'xxs' }}>\n                  {i18n('i18nStrings.undoPrompt', i18nStrings?.undoPrompt)}{' '}\n                  <UndoButton\n                    onClick={() => onUndoRemoval(row)}\n                    ref={elem => {\n                      undoButtonRefs.current[row] = elem;\n                    }}\n                  >\n                    {i18n('i18nStrings.undoButton', i18nStrings?.undoButton)}\n                  </UndoButton>\n                </InternalBox>\n              </div>\n            ) : (\n              <TagControl\n                row={row}\n                value={tag.value}\n                readOnly={false}\n                limit={200}\n                defaultOptions={tag.valueSuggestionOptions ?? []}\n                placeholder={i18n('i18nStrings.valuePlaceholder', i18nStrings?.valuePlaceholder)}\n                errorText={i18n('i18nStrings.valuesSuggestionError', i18nStrings?.valuesSuggestionError)}\n                loadingText={i18n('i18nStrings.valuesSuggestionLoading', i18nStrings?.valuesSuggestionLoading)}\n                suggestionText={i18n('i18nStrings.valueSuggestion', i18nStrings?.valueSuggestion)}\n                tooManySuggestionText={i18n(\n                  'i18nStrings.tooManyValuesSuggestion',\n                  i18nStrings?.tooManyValuesSuggestion\n                )}\n                enteredTextLabel={i18nStrings?.enteredValueLabel}\n                clearAriaLabel={i18nStrings?.clearAriaLabel}\n                filteringKey={tag.key}\n                onRequest={valuesRequest && (value => valuesRequest(tag.key, value))}\n                onChange={onValueChange}\n                ref={ref => {\n                  valueInputRefs.current[row] = ref;\n                }}\n              />\n            ),\n          errorText: ({ error }: InternalTag) => error?.value,\n        },\n      ],\n      [i18n, i18nStrings, keysRequest, onKeyChange, onKeyBlur, valuesRequest, onValueChange, onUndoRemoval]\n    );\n\n    const forwardedI18nStrings = useMemo<AttributeEditorProps.I18nStrings<InternalTag>>(\n      () => ({\n        errorIconAriaLabel: i18nStrings?.errorIconAriaLabel,\n        itemRemovedAriaLive: i18nStrings?.itemRemovedAriaLive,\n        removeButtonAriaLabel: i18n(\n          'i18nStrings.removeButtonAriaLabel',\n          i18nStrings?.removeButtonAriaLabel && (({ tag }) => i18nStrings.removeButtonAriaLabel!(tag)),\n          format =>\n            ({ tag }) =>\n              format({ tag__key: tag.key })\n        ),\n      }),\n      [i18nStrings, i18n]\n    );\n\n    if (loading) {\n      return (\n        <div className={styles.root} ref={baseComponentProps.__internalRootRef}>\n          <InternalStatusIndicator className={styles.loading} type=\"loading\">\n            <LiveRegion visible={true}>{i18n('i18nStrings.loading', i18nStrings?.loading)}</LiveRegion>\n          </InternalStatusIndicator>\n        </div>\n      );\n    }\n\n    const baseProps = getBaseProps(restProps);\n    return (\n      <InternalAttributeEditor<InternalTag>\n        {...baseProps}\n        {...baseComponentProps}\n        ref={attributeEditorRef}\n        className={clsx(styles.root, baseProps.className)}\n        items={internalTags}\n        isItemRemovable={isItemRemovable}\n        onAddButtonClick={onAddButtonClick}\n        onRemoveButtonClick={onRemoveButtonClick}\n        addButtonText={i18n('i18nStrings.addButton', i18nStrings?.addButton) ?? ''}\n        removeButtonText={i18nStrings?.removeButton}\n        disableAddButton={remainingTags <= 0}\n        empty={i18n('i18nStrings.emptyTags', i18nStrings?.emptyTags)}\n        additionalInfo={\n          remainingTags < 0 ? (\n            <FormFieldError errorIconAriaLabel={i18nStrings?.errorIconAriaLabel}>\n              {i18n('i18nStrings.tagLimitExceeded', i18nStrings?.tagLimitExceeded?.(tagLimit), format =>\n                format({ tagLimit })\n              ) ?? ''}\n            </FormFieldError>\n          ) : remainingTags === 0 ? (\n            i18n('i18nStrings.tagLimitReached', i18nStrings?.tagLimitReached?.(tagLimit), format =>\n              format({ tagLimit })\n            ) ?? ''\n          ) : (\n            i18n('i18nStrings.tagLimit', i18nStrings?.tagLimit?.(remainingTags, tagLimit), format =>\n              format({ tagLimitAvailable: `${remainingTags === tagLimit}`, availableTags: remainingTags, tagLimit })\n            )\n          )\n        }\n        definition={definition}\n        i18nStrings={forwardedI18nStrings}\n      />\n    );\n  }\n);\n\napplyDisplayName(TagEditor, 'TagEditor');\nexport default TagEditor;\n"],"mappings":";AAAA;AACA;AACA,OAAOA,KAAK,IAAIC,WAAW,EAAEC,mBAAmB,EAAEC,eAAe,EAAEC,OAAO,EAAEC,MAAM,QAAQ,OAAO;AACjG,OAAOC,IAAI,MAAM,MAAM;AAEvB,SAASC,iBAAiB,QAAQ,+CAA+C;AAGjF,OAAOC,uBAAuB,MAAM,8BAA8B;AAElE,OAAOC,WAAW,MAAM,iBAAiB;AACzC,SAASC,cAAc,QAAQ,wBAAwB;AACvD,SAASC,eAAe,QAAQ,iBAAiB;AAEjD,SAASC,YAAY,QAAQ,4BAA4B;AACzD,OAAOC,UAAU,MAAM,oCAAoC;AAC3D,SAASC,sBAAsB,QAAkC,oBAAoB;AACrF,OAAOC,gBAAgB,MAAM,sCAAsC;AACnE,SAASC,gBAAgB,QAAQ,sCAAsC;AACvE,OAAOC,uBAAuB,MAAM,8BAA8B;AAElE,SAASC,UAAU,EAAEC,UAAU,QAAQ,YAAY;AACnD,SAASC,SAAS,EAAEC,gBAAgB,QAAQ,SAAS;AACrD,SAASC,WAAW,QAAQ,SAAS;AACrC,SAASC,QAAQ,QAAyB,cAAc;AAExD,OAAOC,MAAM,MAAM,iBAAiB;AAEpC,SAAyBF,WAAW;AAOpC,MAAMG,eAAe,GAAGA,CAAC;EAAEC;AAAG,CAAe,KAAK,CAACA,GAAG,CAACC,gBAAgB;AAEvE,MAAMC,SAAS,GAAG5B,KAAK,CAAC6B,UAAU,CAChC,CACEC,EAUiB,EACjBC,GAAkC,KAChC;;MAZF;MACEC,IAAI,GAAG,EAAE;MACTC,WAAW;MACXC,OAAO,GAAG,KAAK;MACfC,QAAQ,GAAG,EAAE;MACbC,uBAAuB;MACvBC,WAAW;MACXC,aAAa;MACbC;IAAQ,IAAAT,EAEO;IADZU,SAAS,GAAAC,MAAA,CAAAX,EAAA,EATd,qHAUC,CADa;EAId,MAAMY,kBAAkB,GAAG3B,gBAAgB,CAAC,WAAW,EAAE;IACvD4B,KAAK,EAAE;MAAER,QAAQ;MAAEC;IAAuB;GAC3C,CAAC;EACF,MAAMQ,IAAI,GAAGjC,eAAe,CAAC,YAAY,CAAC;EAE1C,MAAMkC,aAAa,GAAGV,QAAQ,GAAGH,IAAI,CAACc,MAAM,CAACpB,GAAG,IAAI,CAACA,GAAG,CAACC,gBAAgB,CAAC,CAACoB,MAAM;EAEjF,MAAMC,kBAAkB,GAAG3C,MAAM,CAA2B,IAAI,CAAC;EACjE,MAAM4C,YAAY,GAAG5C,MAAM,CAAwC,EAAE,CAAC;EACtE,MAAM6C,cAAc,GAAG7C,MAAM,CAAwC,EAAE,CAAC;EACxE,MAAM8C,cAAc,GAAG9C,MAAM,CAA2C,EAAE,CAAC;EAE3E,MAAM+C,oBAAoB,GAAG/C,MAAM,CAA2B,EAAE,CAAC;EACjE,MAAMgD,gBAAgB,GAAGhD,MAAM,CAAY,EAAE,CAAC;EAC9C,MAAMiD,aAAa,GAAGjD,MAAM,EAAc;EAE1CF,eAAe,CAAC,MAAK;;IACnB,CAAA2B,EAAA,GAAAwB,aAAa,CAACC,OAAO,cAAAzB,EAAA,uBAAAA,EAAA,CAAE0B,KAAK,CAACC,SAAS,CAAC;IACvCH,aAAa,CAACC,OAAO,GAAGE,SAAS;EACnC,CAAC,CAAC;EAEF,MAAMC,MAAM,GAAGnC,QAAQ,CACrBS,IAAI,EACJqB,gBAAgB,CAACE,OAAO,EACxBX,IAAI,EACJX,WAAW,EACXG,uBAAuB,GAAG,IAAIuB,MAAM,CAACvB,uBAAuB,CAAC,GAAGqB,SAAS,CAC1E;EAED,MAAMG,YAAY,GAAGvC,gBAAgB,CACnCW,IAAI,CAAC6B,GAAG,CAAC,CAACnC,GAAG,EAAEoC,CAAC,MAAM;IAAEpC,GAAG;IAAEqC,KAAK,EAAEL,MAAM,CAACI,CAAC;EAAC,CAAE,CAAC,CAAC,EACjD,CAACE,IAAI,EAAEC,IAAI,KAAI;;IACb,OAAOD,IAAI,CAACtC,GAAG,KAAKuC,IAAI,CAACvC,GAAG,IAAI,EAAAI,EAAA,GAAAkC,IAAI,CAACD,KAAK,cAAAjC,EAAA,uBAAAA,EAAA,CAAEoC,GAAG,OAAK,CAAAC,EAAA,GAAAF,IAAI,CAACF,KAAK,cAAAI,EAAA,uBAAAA,EAAA,CAAED,GAAG,KAAI,EAAAE,EAAA,GAAAJ,IAAI,CAACD,KAAK,cAAAK,EAAA,uBAAAA,EAAA,CAAEC,KAAK,OAAK,CAAAC,EAAA,GAAAL,IAAI,CAACF,KAAK,cAAAO,EAAA,uBAAAA,EAAA,CAAED,KAAK;EAChH,CAAC,CACF;EAEDnE,mBAAmB,CACjB6B,GAAG,EACH,OAAO;IACLwC,KAAKA,CAAA;;MACH,MAAMC,UAAU,GAAGpD,SAAS,CAACwC,YAAY,EAAE,CAAC;QAAEG;MAAK,CAAE,KAAK,CAAAA,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEG,GAAG,MAAIH,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEM,KAAK,EAAC;MACrF,IAAIG,UAAU,KAAK,CAAC,CAAC,EAAE;QACrB,MAAMC,QAAQ,GAAG,EAAA3C,EAAA,GAAA8B,YAAY,CAACY,UAAU,CAAC,CAACT,KAAK,cAAAjC,EAAA,uBAAAA,EAAA,CAAEoC,GAAG,IAAGjB,YAAY,GAAGC,cAAc;QACpF,CAAAiB,EAAA,GAAAM,QAAQ,CAAClB,OAAO,CAACiB,UAAU,CAAC,cAAAL,EAAA,uBAAAA,EAAA,CAAEI,KAAK,EAAE;;IAEzC;GACD,CAAC,EACF,CAACX,YAAY,CAAC,CACf;EAED,MAAMc,eAAe,GAAGzE,WAAW,CAChC0E,OAA0C,IAAI;IAC7C7D,sBAAsB,CAACyB,QAAQ,EAAE;MAC/BP,IAAI,EAAE2C,OAAO;MACbC,KAAK,EAAE,CAACrD,QAAQ,CACdoD,OAAO,EACPtB,gBAAgB,CAACE,OAAO,EACxBX,IAAI,EACJX,WAAW,EACXG,uBAAuB,GAAG,IAAIuB,MAAM,CAACvB,uBAAuB,CAAC,GAAGqB,SAAS,CAC1E,CAACoB,IAAI,CAACd,KAAK,IAAIA,KAAK;KACtB,CAAC;EACJ,CAAC,EACD,CAACxB,QAAQ,EAAEK,IAAI,EAAEX,WAAW,EAAEG,uBAAuB,CAAC,CACvD;EAED,MAAM0C,gBAAgB,GAAGA,CAAA,KAAK;IAC5BJ,eAAe,CAAC,CAAC,GAAG1C,IAAI,EAAE;MAAEkC,GAAG,EAAE,EAAE;MAAEG,KAAK,EAAE,EAAE;MAAEU,QAAQ,EAAE;IAAK,CAAE,CAAC,CAAC;IACnEzB,aAAa,CAACC,OAAO,GAAG,MAAK;;MAC3B,CAAAzB,EAAA,GAAAmB,YAAY,CAACM,OAAO,CAACvB,IAAI,CAACe,MAAM,CAAC,cAAAjB,EAAA,uBAAAA,EAAA,CAAEyC,KAAK,EAAE;IAC5C,CAAC;EACH,CAAC;EAED,MAAMS,mBAAmB,GAAGzE,iBAAiB,CAC3C,CAAC;IAAE0E;EAAM,CAA0E,KAAI;;IACrF,MAAMF,QAAQ,GAAG/C,IAAI,CAACiD,MAAM,CAACC,SAAS,CAAC,CAACH,QAAQ;IAChDL,eAAe,CAAC,CACd,GAAG1C,IAAI,CAACmD,KAAK,CAAC,CAAC,EAAEF,MAAM,CAACC,SAAS,CAAC,EAClC,IAAIH,QAAQ,GAAG,CAAAK,MAAA,CAAAC,MAAA,CAAAD,MAAA,CAAAC,MAAA,KAAMrD,IAAI,CAACiD,MAAM,CAACC,SAAS,CAAC;MAAEvD,gBAAgB,EAAE;IAAI,GAAG,GAAG,EAAE,CAAC,EAC5E,GAAGK,IAAI,CAACmD,KAAK,CAACF,MAAM,CAACC,SAAS,GAAG,CAAC,CAAC,CACpC,CAAC;IACF,IAAIH,QAAQ,EAAE;MACZzB,aAAa,CAACC,OAAO,GAAG,MAAK;;QAC3B,CAAAzB,EAAA,GAAAqB,cAAc,CAACI,OAAO,CAAC0B,MAAM,CAACC,SAAS,CAAC,cAAApD,EAAA,uBAAAA,EAAA,CAAEyC,KAAK,EAAE;MACnD,CAAC;KACF,MAAM;MACLlB,gBAAgB,CAACE,OAAO,CAAC+B,MAAM,CAACL,MAAM,CAACC,SAAS,EAAE,CAAC,CAAC;MACpD,MAAMK,OAAO,GAAGtC,YAAY,CAACM,OAAO,CAAC0B,MAAM,CAACC,SAAS,GAAG,CAAC,CAAC;MAC1D,IAAIK,OAAO,EAAE;QACX;QACA,CAAAzD,EAAA,GAAAmB,YAAY,CAACM,OAAO,CAAC0B,MAAM,CAACC,SAAS,CAAC,cAAApD,EAAA,uBAAAA,EAAA,CAAEyC,KAAK,EAAE;OAChD,MAAM,IAAIU,MAAM,CAACC,SAAS,GAAG,CAAC,EAAE;QAC/B;QACA,MAAMM,kBAAkB,GAAGxD,IAAI,CAACiD,MAAM,CAACC,SAAS,GAAG,CAAC,CAAC,CAACH,QAAQ;QAC9D,IAAIS,kBAAkB,EAAE;UACtB,IAAIxD,IAAI,CAACiD,MAAM,CAACC,SAAS,GAAG,CAAC,CAAC,CAACvD,gBAAgB,EAAE;YAC/C,CAAAwC,EAAA,GAAAhB,cAAc,CAACI,OAAO,CAAC0B,MAAM,CAACC,SAAS,GAAG,CAAC,CAAC,cAAAf,EAAA,uBAAAA,EAAA,CAAEI,KAAK,EAAE;WACtD,MAAM;YACL,CAAAH,EAAA,GAAAlB,cAAc,CAACK,OAAO,CAAC0B,MAAM,CAACC,SAAS,GAAG,CAAC,CAAC,cAAAd,EAAA,uBAAAA,EAAA,CAAEG,KAAK,EAAE;;SAExD,MAAM;UACL,CAAAD,EAAA,GAAArB,YAAY,CAACM,OAAO,CAAC0B,MAAM,CAACC,SAAS,GAAG,CAAC,CAAC,cAAAZ,EAAA,uBAAAA,EAAA,CAAEC,KAAK,EAAE;;OAEtD,MAAM;QACL;QACA,CAAAkB,EAAA,GAAAzC,kBAAkB,CAACO,OAAO,cAAAkC,EAAA,uBAAAA,EAAA,CAAEC,cAAc,EAAE;;;EAGlD,CAAC,CACF;EAED,MAAMC,WAAW,GAAGpF,iBAAiB,CAAC,CAAC8D,KAAa,EAAEuB,GAAW,KAAI;IACnEvC,gBAAgB,CAACE,OAAO,CAACqC,GAAG,CAAC,GAAG,IAAI;IACpClB,eAAe,CAAC,CAAC,GAAG1C,IAAI,CAACmD,KAAK,CAAC,CAAC,EAAES,GAAG,CAAC,EAAAR,MAAA,CAAAC,MAAA,CAAAD,MAAA,CAAAC,MAAA,KAAOrD,IAAI,CAAC4D,GAAG,CAAC;MAAE1B,GAAG,EAAEG;IAAK,IAAI,GAAGrC,IAAI,CAACmD,KAAK,CAACS,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;EAChG,CAAC,CAAC;EAEF,MAAMC,SAAS,GAAGtF,iBAAiB,CAAEqF,GAAW,IAAI;IAClDvC,gBAAgB,CAACE,OAAO,CAACqC,GAAG,CAAC,GAAG,IAAI;IACpC;IACAlB,eAAe,CAAC,CAAC,GAAG1C,IAAI,CAAC,CAAC;EAC5B,CAAC,CAAC;EAEF,MAAM8D,aAAa,GAAGvF,iBAAiB,CAAC,CAAC8D,KAAa,EAAEuB,GAAW,KAAI;IACrElB,eAAe,CAAC,CAAC,GAAG1C,IAAI,CAACmD,KAAK,CAAC,CAAC,EAAES,GAAG,CAAC,EAAAR,MAAA,CAAAC,MAAA,CAAAD,MAAA,CAAAC,MAAA,KAAOrD,IAAI,CAAC4D,GAAG,CAAC;MAAEvB;IAAK,IAAI,GAAGrC,IAAI,CAACmD,KAAK,CAACS,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;EAC3F,CAAC,CAAC;EAEF,MAAMG,aAAa,GAAGxF,iBAAiB,CAAEqF,GAAW,IAAI;IACtDlB,eAAe,CAAC,CAAC,GAAG1C,IAAI,CAACmD,KAAK,CAAC,CAAC,EAAES,GAAG,CAAC,EAAAR,MAAA,CAAAC,MAAA,CAAAD,MAAA,CAAAC,MAAA,KAAOrD,IAAI,CAAC4D,GAAG,CAAC;MAAEjE,gBAAgB,EAAE;IAAK,IAAI,GAAGK,IAAI,CAACmD,KAAK,CAACS,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;IAC3GtC,aAAa,CAACC,OAAO,GAAG,MAAK;;MAC3B,CAAAzB,EAAA,GAAAkB,kBAAkB,CAACO,OAAO,cAAAzB,EAAA,uBAAAA,EAAA,CAAEkE,iBAAiB,CAACJ,GAAG,CAAC;IACpD,CAAC;EACH,CAAC,CAAC;EAEF,MAAMK,UAAU,GAAG7F,OAAO,CACxB,MAAM,CACJ;IACE8F,KAAK,EAAEtD,IAAI,CAAC,uBAAuB,EAAEX,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAEkE,SAAS,CAAC;IAC5DC,OAAO,EAAEA,CAAC;MAAE1E;IAAG,CAAe,EAAEkE,GAAW,KACzC5F,KAAA,CAAAqG,aAAA,CAACnF,UAAU;MACT0E,GAAG,EAAEA,GAAG;MACRvB,KAAK,EAAE3C,GAAG,CAACwC,GAAG;MACdoC,QAAQ,EAAE5E,GAAG,CAACqD,QAAQ;MACtBwB,KAAK,EAAE,GAAG;MACVC,cAAc,EAAE,EAAE;MAClBC,WAAW,EAAE7D,IAAI,CAAC,4BAA4B,EAAEX,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAEyE,cAAc,CAAC;MAC5EC,SAAS,EAAE/D,IAAI,CAAC,iCAAiC,EAAEX,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAE2E,mBAAmB,CAAC;MACpFC,WAAW,EAAEjE,IAAI,CAAC,mCAAmC,EAAEX,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAE6E,qBAAqB,CAAC;MAC1FC,cAAc,EAAEnE,IAAI,CAAC,2BAA2B,EAAEX,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAE+E,aAAa,CAAC;MAC7EC,qBAAqB,EAAErE,IAAI,CAAC,mCAAmC,EAAEX,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAEiF,qBAAqB,CAAC;MACpGC,gBAAgB,EAAElF,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAEmF,eAAe;MAC9CC,cAAc,EAAEpF,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAEoF,cAAc;MAC3CC,SAAS,EAAEjF,WAAW;MACtBE,QAAQ,EAAEoD,WAAW;MACrB4B,MAAM,EAAE1B,SAAS;MACjB2B,iBAAiB,EAAEpE,oBAAoB;MACvCrB,GAAG,EAAEA,GAAG,IAAG;QACTkB,YAAY,CAACM,OAAO,CAACqC,GAAG,CAAC,GAAG7D,GAAG;MACjC;IAAC,EAEJ;IACD4E,SAAS,EAAEA,CAAC;MAAE5C;IAAK,CAAe,KAAKA,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEG;GAC/C,EACD;IACEgC,KAAK,EACHlG,KAAA,CAAAqG,aAAA,eACGzD,IAAI,CAAC,yBAAyB,EAAEX,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAEwF,WAAW,CAAC,E,MAAI,GAAG,EACjEzH,KAAA,CAAAqG,aAAA,YAAIzD,IAAI,CAAC,sBAAsB,EAAEX,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAEyF,QAAQ,CAAC,CAAK,CAE/D;IACDtB,OAAO,EAAEA,CAAC;MAAE1E;IAAG,CAAe,EAAEkE,GAAW,KAAI;;MAC7C,OAAAlE,GAAG,CAACC,gBAAgB,GAClB3B,KAAA,CAAAqG,aAAA;QAAKsB,IAAI,EAAC;MAAO,GACf3H,KAAA,CAAAqG,aAAA,CAAC5F,WAAW;QAACmH,MAAM,EAAE;UAAEC,GAAG,EAAE;QAAK;MAAE,GAChCjF,IAAI,CAAC,wBAAwB,EAAEX,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAE6F,UAAU,CAAC,EAAE,GAAG,EAC7D9H,KAAA,CAAAqG,aAAA,CAAClF,UAAU;QACT4G,OAAO,EAAEA,CAAA,KAAMhC,aAAa,CAACH,GAAG,CAAC;QACjC7D,GAAG,EAAEiG,IAAI,IAAG;UACV7E,cAAc,CAACI,OAAO,CAACqC,GAAG,CAAC,GAAGoC,IAAI;QACpC;MAAC,GAEApF,IAAI,CAAC,wBAAwB,EAAEX,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAEgG,UAAU,CAAC,CAC7C,CACD,CACV,GAENjI,KAAA,CAAAqG,aAAA,CAACnF,UAAU;QACT0E,GAAG,EAAEA,GAAG;QACRvB,KAAK,EAAE3C,GAAG,CAAC2C,KAAK;QAChBiC,QAAQ,EAAE,KAAK;QACfC,KAAK,EAAE,GAAG;QACVC,cAAc,EAAE,CAAA1E,EAAA,GAAAJ,GAAG,CAACwG,sBAAsB,cAAApG,EAAA,cAAAA,EAAA,GAAI,EAAE;QAChD2E,WAAW,EAAE7D,IAAI,CAAC,8BAA8B,EAAEX,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAEkG,gBAAgB,CAAC;QAChFxB,SAAS,EAAE/D,IAAI,CAAC,mCAAmC,EAAEX,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAEmG,qBAAqB,CAAC;QACxFvB,WAAW,EAAEjE,IAAI,CAAC,qCAAqC,EAAEX,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAEoG,uBAAuB,CAAC;QAC9FtB,cAAc,EAAEnE,IAAI,CAAC,6BAA6B,EAAEX,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAEqG,eAAe,CAAC;QACjFrB,qBAAqB,EAAErE,IAAI,CACzB,qCAAqC,EACrCX,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAEsG,uBAAuB,CACrC;QACDpB,gBAAgB,EAAElF,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAEuG,iBAAiB;QAChDnB,cAAc,EAAEpF,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAEoF,cAAc;QAC3CoB,YAAY,EAAE/G,GAAG,CAACwC,GAAG;QACrBoD,SAAS,EAAEhF,aAAa,KAAK+B,KAAK,IAAI/B,aAAa,CAACZ,GAAG,CAACwC,GAAG,EAAEG,KAAK,CAAC,CAAC;QACpE9B,QAAQ,EAAEuD,aAAa;QACvB/D,GAAG,EAAEA,GAAG,IAAG;UACTmB,cAAc,CAACK,OAAO,CAACqC,GAAG,CAAC,GAAG7D,GAAG;QACnC;MAAC,EAEJ;KAAA;IACH4E,SAAS,EAAEA,CAAC;MAAE5C;IAAK,CAAe,KAAKA,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEM;GAC/C,CACF,EACD,CAACzB,IAAI,EAAEX,WAAW,EAAEI,WAAW,EAAEsD,WAAW,EAAEE,SAAS,EAAEvD,aAAa,EAAEwD,aAAa,EAAEC,aAAa,CAAC,CACtG;EAED,MAAM2C,oBAAoB,GAAGtI,OAAO,CAClC,OAAO;IACLuI,kBAAkB,EAAE1G,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAE0G,kBAAkB;IACnDC,mBAAmB,EAAE3G,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAE2G,mBAAmB;IACrDC,qBAAqB,EAAEjG,IAAI,CACzB,mCAAmC,EACnC,CAAAX,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAE4G,qBAAqB,MAAK,CAAC;MAAEnH;IAAG,CAAE,KAAKO,WAAW,CAAC4G,qBAAsB,CAACnH,GAAG,CAAC,CAAC,EAC5FoH,MAAM,IACJ,CAAC;MAAEpH;IAAG,CAAE,KACNoH,MAAM,CAAC;MAAEC,QAAQ,EAAErH,GAAG,CAACwC;IAAG,CAAE,CAAC;GAEpC,CAAC,EACF,CAACjC,WAAW,EAAEW,IAAI,CAAC,CACpB;EAED,IAAIV,OAAO,EAAE;IACX,OACElC,KAAA,CAAAqG,aAAA;MAAK2C,SAAS,EAAExH,MAAM,CAACyH,IAAI;MAAElH,GAAG,EAAEW,kBAAkB,CAACwG;IAAiB,GACpElJ,KAAA,CAAAqG,aAAA,CAACpF,uBAAuB;MAAC+H,SAAS,EAAExH,MAAM,CAACU,OAAO;MAAEiH,IAAI,EAAC;IAAS,GAChEnJ,KAAA,CAAAqG,aAAA,CAACxF,UAAU;MAACuI,OAAO,EAAE;IAAI,GAAGxG,IAAI,CAAC,qBAAqB,EAAEX,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAEC,OAAO,CAAC,CAAc,CACnE,CACtB;;EAIV,MAAMmH,SAAS,GAAGzI,YAAY,CAAC4B,SAAS,CAAC;EACzC,OACExC,KAAA,CAAAqG,aAAA,CAAC7F,uBAAuB,EAAA4E,MAAA,CAAAC,MAAA,KAClBgE,SAAS,EACT3G,kBAAkB;IACtBX,GAAG,EAAEiB,kBAAkB;IACvBgG,SAAS,EAAE1I,IAAI,CAACkB,MAAM,CAACyH,IAAI,EAAEI,SAAS,CAACL,SAAS,CAAC;IACjDM,KAAK,EAAE1F,YAAY;IACnBnC,eAAe,EAAEA,eAAe;IAChCqD,gBAAgB,EAAEA,gBAAgB;IAClCE,mBAAmB,EAAEA,mBAAmB;IACxCuE,aAAa,EAAE,CAAApF,EAAA,GAAAvB,IAAI,CAAC,uBAAuB,EAAEX,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAEuH,SAAS,CAAC,cAAArF,EAAA,cAAAA,EAAA,GAAI,EAAE;IAC1EsF,gBAAgB,EAAExH,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAEyH,YAAY;IAC3CC,gBAAgB,EAAE9G,aAAa,IAAI,CAAC;IACpC+G,KAAK,EAAEhH,IAAI,CAAC,uBAAuB,EAAEX,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAE4H,SAAS,CAAC;IAC5DC,cAAc,EACZjH,aAAa,GAAG,CAAC,GACf7C,KAAA,CAAAqG,aAAA,CAAC3F,cAAc;MAACiI,kBAAkB,EAAE1G,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAE0G;IAAkB,GAChE,CAAArE,EAAA,GAAA1B,IAAI,CAAC,8BAA8B,EAAE,CAAAwB,EAAA,GAAAnC,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAE8H,gBAAgB,cAAA3F,EAAA,uBAAAA,EAAA,CAAA4F,IAAA,CAAA/H,WAAA,EAAGE,QAAQ,CAAC,EAAE2G,MAAM,IACrFA,MAAM,CAAC;MAAE3G;IAAQ,CAAE,CAAC,CACrB,cAAAmC,EAAA,cAAAA,EAAA,GAAI,EAAE,CACQ,GACfzB,aAAa,KAAK,CAAC,GACrB,CAAAoH,EAAA,GAAArH,IAAI,CAAC,6BAA6B,EAAE,CAAA6C,EAAA,GAAAxD,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAEiI,eAAe,cAAAzE,EAAA,uBAAAA,EAAA,CAAAuE,IAAA,CAAA/H,WAAA,EAAGE,QAAQ,CAAC,EAAE2G,MAAM,IAClFA,MAAM,CAAC;MAAE3G;IAAQ,CAAE,CAAC,CACrB,cAAA8H,EAAA,cAAAA,EAAA,GAAI,EAAE,GAEPrH,IAAI,CAAC,sBAAsB,EAAE,CAAAuH,EAAA,GAAAlI,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAEE,QAAQ,cAAAgI,EAAA,uBAAAA,EAAA,CAAAH,IAAA,CAAA/H,WAAA,EAAGY,aAAa,EAAEV,QAAQ,CAAC,EAAE2G,MAAM,IACnFA,MAAM,CAAC;MAAEsB,iBAAiB,EAAE,GAAGvH,aAAa,KAAKV,QAAQ,EAAE;MAAEkI,aAAa,EAAExH,aAAa;MAAEV;IAAQ,CAAE,CAAC,CAEzG;IAEH8D,UAAU,EAAEA,UAAU;IACtBhE,WAAW,EAAEyG;EAAoB,GACjC;AAEN,CAAC,CACF;AAED1H,gBAAgB,CAACY,SAAS,EAAE,WAAW,CAAC;AACxC,eAAeA,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}