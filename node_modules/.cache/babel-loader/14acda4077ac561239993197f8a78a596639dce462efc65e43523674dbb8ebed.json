{"ast":null,"code":"import { __rest } from \"tslib\";\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport { TransitionGroup } from 'react-transition-group';\nimport clsx from 'clsx';\nimport { getAnalyticsMetadataAttribute } from '@cloudscape-design/component-toolkit/internal/analytics-metadata';\nimport { useInternalI18n } from '../i18n/context';\nimport { Transition } from '../internal/components/transition';\nimport { getComponentsAnalyticsMetadata, getItemAnalyticsMetadata } from './analytics-metadata/utils';\nimport { useFlashbar } from './common';\nimport { TIMEOUT_FOR_ENTERING_ANIMATION } from './constant';\nimport { Flash } from './flash';\nimport styles from './styles.css.js';\nexport default function NonCollapsibleFlashbar(_a) {\n  var {\n      items,\n      i18nStrings\n    } = _a,\n    restProps = __rest(_a, [\"items\", \"i18nStrings\"]);\n  const {\n    allItemsHaveId,\n    baseProps,\n    breakpoint,\n    isReducedMotion,\n    isVisualRefresh,\n    mergedRef\n  } = useFlashbar(Object.assign({\n    items\n  }, restProps));\n  const i18n = useInternalI18n('flashbar');\n  const ariaLabel = i18n('i18nStrings.ariaLabel', i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.ariaLabel);\n  const iconAriaLabels = {\n    errorIconAriaLabel: i18n('i18nStrings.errorIconAriaLabel', i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.errorIconAriaLabel),\n    inProgressIconAriaLabel: i18n('i18nStrings.inProgressIconAriaLabel', i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.inProgressIconAriaLabel),\n    infoIconAriaLabel: i18n('i18nStrings.infoIconAriaLabel', i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.infoIconAriaLabel),\n    successIconAriaLabel: i18n('i18nStrings.successIconAriaLabel', i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.successIconAriaLabel),\n    warningIconAriaLabel: i18n('i18nStrings.warningIconAriaLabel', i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.warningIconAriaLabel)\n  };\n  /**\n   * All the flash items should have ids so we can identify which DOM element is being\n   * removed from the DOM to animate it. Motion will be disabled if any of the provided\n   * flash messages does not contain an `id`.\n   */\n  const motionDisabled = isReducedMotion || !isVisualRefresh || !allItemsHaveId;\n  const animateFlash = !isReducedMotion && isVisualRefresh;\n  /**\n   * If the flashbar is flat and motion is `enabled` then the adding and removing of items\n   * from the flashbar will render with visual transitions.\n   */\n  function renderFlatItemsWithTransitions() {\n    if (motionDisabled || !items) {\n      return;\n    }\n    return (\n      // This is a proxy for <ul>, so we're not applying a class to another actual component.\n      // eslint-disable-next-line react/forbid-component-props\n      React.createElement(TransitionGroup, {\n        component: \"ul\",\n        className: styles['flash-list'],\n        \"aria-label\": ariaLabel\n      }, items.map((item, index) => {\n        var _a;\n        return React.createElement(Transition, {\n          transitionChangeDelay: {\n            entering: TIMEOUT_FOR_ENTERING_ANIMATION\n          },\n          key: (_a = item.id) !== null && _a !== void 0 ? _a : index,\n          in: true\n        }, (state, transitionRootElement) => {\n          var _a;\n          return React.createElement(\"li\", {\n            className: styles['flash-list-item']\n          }, renderItem(item, (_a = item.id) !== null && _a !== void 0 ? _a : index, transitionRootElement, state));\n        });\n      }))\n    );\n  }\n  /**\n   * If the flashbar is flat and motion is `disabled` then the adding and removing of items\n   * from the flashbar will render without visual transitions.\n   */\n  function renderFlatItemsWithoutTransitions() {\n    if (!motionDisabled || !items) {\n      return;\n    }\n    return React.createElement(\"ul\", Object.assign({\n      className: styles['flash-list'],\n      \"aria-label\": ariaLabel\n    }, getAnalyticsMetadataAttribute(getComponentsAnalyticsMetadata(items.length, false))), items.map((item, index) => {\n      var _a, _b;\n      return React.createElement(\"li\", Object.assign({\n        key: (_a = item.id) !== null && _a !== void 0 ? _a : index,\n        className: styles['flash-list-item']\n      }, getAnalyticsMetadataAttribute(getItemAnalyticsMetadata(index + 1, item.type || 'info', item.id))), renderItem(item, (_b = item.id) !== null && _b !== void 0 ? _b : index));\n    }));\n  }\n  /**\n   * This is a shared render function for a single flashbar item to be used\n   * by the stacking, motion, and non-motion item group render functions.\n   */\n  function renderItem(item, key, transitionRootElement, transitionState) {\n    return React.createElement(Flash\n    // eslint-disable-next-line react/forbid-component-props\n    , Object.assign({\n      // eslint-disable-next-line react/forbid-component-props\n      className: clsx(animateFlash && styles['flash-with-motion'], isVisualRefresh && styles['flash-refresh']),\n      key: key,\n      ref: transitionRootElement,\n      transitionState: transitionState,\n      i18nStrings: iconAriaLabels\n    }, item));\n  }\n  return React.createElement(\"div\", Object.assign({}, baseProps, {\n    className: clsx(baseProps.className, styles.flashbar, styles[`breakpoint-${breakpoint}`]),\n    ref: mergedRef\n  }), renderFlatItemsWithTransitions(), renderFlatItemsWithoutTransitions());\n}","map":{"version":3,"names":["React","TransitionGroup","clsx","getAnalyticsMetadataAttribute","useInternalI18n","Transition","getComponentsAnalyticsMetadata","getItemAnalyticsMetadata","useFlashbar","TIMEOUT_FOR_ENTERING_ANIMATION","Flash","styles","NonCollapsibleFlashbar","_a","items","i18nStrings","restProps","__rest","allItemsHaveId","baseProps","breakpoint","isReducedMotion","isVisualRefresh","mergedRef","Object","assign","i18n","ariaLabel","iconAriaLabels","errorIconAriaLabel","inProgressIconAriaLabel","infoIconAriaLabel","successIconAriaLabel","warningIconAriaLabel","motionDisabled","animateFlash","renderFlatItemsWithTransitions","createElement","component","className","map","item","index","transitionChangeDelay","entering","key","id","in","state","transitionRootElement","renderItem","renderFlatItemsWithoutTransitions","length","type","_b","transitionState","ref","flashbar"],"sources":["/Users/sohailsajid/Desktop/threat-modeling-app/node_modules/src/flashbar/non-collapsible-flashbar.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport { TransitionGroup } from 'react-transition-group';\nimport clsx from 'clsx';\n\nimport { getAnalyticsMetadataAttribute } from '@cloudscape-design/component-toolkit/internal/analytics-metadata';\n\nimport { useInternalI18n } from '../i18n/context';\nimport { Transition } from '../internal/components/transition';\nimport { getComponentsAnalyticsMetadata, getItemAnalyticsMetadata } from './analytics-metadata/utils';\nimport { useFlashbar } from './common';\nimport { TIMEOUT_FOR_ENTERING_ANIMATION } from './constant';\nimport { Flash } from './flash';\nimport { FlashbarProps } from './interfaces';\n\nimport styles from './styles.css.js';\n\nexport { FlashbarProps };\n\nexport default function NonCollapsibleFlashbar({ items, i18nStrings, ...restProps }: FlashbarProps) {\n  const { allItemsHaveId, baseProps, breakpoint, isReducedMotion, isVisualRefresh, mergedRef } = useFlashbar({\n    items,\n    ...restProps,\n  });\n\n  const i18n = useInternalI18n('flashbar');\n  const ariaLabel = i18n('i18nStrings.ariaLabel', i18nStrings?.ariaLabel);\n  const iconAriaLabels = {\n    errorIconAriaLabel: i18n('i18nStrings.errorIconAriaLabel', i18nStrings?.errorIconAriaLabel),\n    inProgressIconAriaLabel: i18n('i18nStrings.inProgressIconAriaLabel', i18nStrings?.inProgressIconAriaLabel),\n    infoIconAriaLabel: i18n('i18nStrings.infoIconAriaLabel', i18nStrings?.infoIconAriaLabel),\n    successIconAriaLabel: i18n('i18nStrings.successIconAriaLabel', i18nStrings?.successIconAriaLabel),\n    warningIconAriaLabel: i18n('i18nStrings.warningIconAriaLabel', i18nStrings?.warningIconAriaLabel),\n  };\n\n  /**\n   * All the flash items should have ids so we can identify which DOM element is being\n   * removed from the DOM to animate it. Motion will be disabled if any of the provided\n   * flash messages does not contain an `id`.\n   */\n  const motionDisabled = isReducedMotion || !isVisualRefresh || !allItemsHaveId;\n\n  const animateFlash = !isReducedMotion && isVisualRefresh;\n  /**\n   * If the flashbar is flat and motion is `enabled` then the adding and removing of items\n   * from the flashbar will render with visual transitions.\n   */\n  function renderFlatItemsWithTransitions() {\n    if (motionDisabled || !items) {\n      return;\n    }\n\n    return (\n      // This is a proxy for <ul>, so we're not applying a class to another actual component.\n      // eslint-disable-next-line react/forbid-component-props\n      <TransitionGroup component=\"ul\" className={styles['flash-list']} aria-label={ariaLabel}>\n        {items.map((item, index) => (\n          <Transition\n            transitionChangeDelay={{ entering: TIMEOUT_FOR_ENTERING_ANIMATION }}\n            key={item.id ?? index}\n            in={true}\n          >\n            {(state: string, transitionRootElement: React.Ref<HTMLDivElement> | undefined) => (\n              <li className={styles['flash-list-item']}>\n                {renderItem(item, item.id ?? index, transitionRootElement, state)}\n              </li>\n            )}\n          </Transition>\n        ))}\n      </TransitionGroup>\n    );\n  }\n\n  /**\n   * If the flashbar is flat and motion is `disabled` then the adding and removing of items\n   * from the flashbar will render without visual transitions.\n   */\n  function renderFlatItemsWithoutTransitions() {\n    if (!motionDisabled || !items) {\n      return;\n    }\n\n    return (\n      <ul\n        className={styles['flash-list']}\n        aria-label={ariaLabel}\n        {...getAnalyticsMetadataAttribute(getComponentsAnalyticsMetadata(items.length, false))}\n      >\n        {items.map((item, index) => (\n          <li\n            key={item.id ?? index}\n            className={styles['flash-list-item']}\n            {...getAnalyticsMetadataAttribute(getItemAnalyticsMetadata(index + 1, item.type || 'info', item.id))}\n          >\n            {renderItem(item, item.id ?? index)}\n          </li>\n        ))}\n      </ul>\n    );\n  }\n\n  /**\n   * This is a shared render function for a single flashbar item to be used\n   * by the stacking, motion, and non-motion item group render functions.\n   */\n  function renderItem(\n    item: FlashbarProps.MessageDefinition,\n    key: string | number,\n    transitionRootElement?: React.Ref<HTMLDivElement> | undefined,\n    transitionState?: string | undefined\n  ) {\n    return (\n      <Flash\n        // eslint-disable-next-line react/forbid-component-props\n        className={clsx(animateFlash && styles['flash-with-motion'], isVisualRefresh && styles['flash-refresh'])}\n        key={key}\n        ref={transitionRootElement}\n        transitionState={transitionState}\n        i18nStrings={iconAriaLabels}\n        {...item}\n      />\n    );\n  }\n\n  return (\n    <div\n      {...baseProps}\n      className={clsx(baseProps.className, styles.flashbar, styles[`breakpoint-${breakpoint}`])}\n      ref={mergedRef}\n    >\n      {renderFlatItemsWithTransitions()}\n      {renderFlatItemsWithoutTransitions()}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}