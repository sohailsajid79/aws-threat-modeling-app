{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\nimport ButtonTrigger from '../../internal/components/button-trigger';\nimport Option from '../../internal/components/option';\nimport { useMergeRefs } from '../../internal/hooks/use-merge-refs';\nimport { useUniqueId } from '../../internal/hooks/use-unique-id';\nimport { useVisualRefresh } from '../../internal/hooks/use-visual-mode';\nimport { joinStrings } from '../../internal/utils/strings';\nimport styles from './styles.css.js';\nconst Trigger = React.forwardRef((_ref, ref) => {\n  let {\n    ariaLabelledby,\n    ariaDescribedby,\n    controlId,\n    invalid,\n    inlineLabelText,\n    warning,\n    triggerProps,\n    selectedOption,\n    selectedOptions,\n    triggerVariant,\n    inFilteringToken,\n    isOpen,\n    placeholder,\n    disabled,\n    readOnly\n  } = _ref;\n  const isVisualRefresh = useVisualRefresh();\n  const generatedId = useUniqueId();\n  const id = controlId !== null && controlId !== void 0 ? controlId : generatedId;\n  const triggerContentId = useUniqueId('trigger-content-');\n  let ariaLabelledbyIds = joinStrings(ariaLabelledby, triggerContentId);\n  let triggerContent = null;\n  if (triggerVariant === 'tokens') {\n    if (selectedOptions === null || selectedOptions === void 0 ? void 0 : selectedOptions.length) {\n      triggerContent = React.createElement(\"span\", {\n        className: clsx(styles['inline-token-trigger'], disabled && styles['inline-token-trigger--disabled'], isVisualRefresh && styles['visual-refresh'])\n      }, React.createElement(\"span\", {\n        className: styles['inline-token-list']\n      }, selectedOptions.map((_ref2, i) => {\n        let {\n          label\n        } = _ref2;\n        return React.createElement(\"span\", {\n          key: i,\n          className: styles['inline-token']\n        }, label);\n      })), React.createElement(\"span\", {\n        className: styles['inline-token-counter'],\n        id: triggerContentId\n      }, React.createElement(\"span\", {\n        className: styles['inline-token-hidden-placeholder']\n      }, placeholder), React.createElement(\"span\", null, \"(\", selectedOptions.length, \")\")));\n      ariaLabelledbyIds = ariaLabelledby;\n    } else {\n      triggerContent = React.createElement(\"span\", {\n        \"aria-disabled\": \"true\",\n        className: clsx(styles.placeholder, styles.trigger),\n        id: triggerContentId\n      }, placeholder);\n    }\n  } else if (!selectedOption) {\n    triggerContent = React.createElement(\"span\", {\n      \"aria-disabled\": \"true\",\n      className: clsx(styles.placeholder, styles.trigger),\n      id: triggerContentId\n    }, placeholder);\n  } else if (triggerVariant === 'option') {\n    triggerContent = React.createElement(Option, {\n      id: triggerContentId,\n      option: Object.assign(Object.assign({}, selectedOption), {\n        disabled\n      }),\n      triggerVariant: true\n    });\n  } else {\n    triggerContent = React.createElement(\"span\", {\n      id: triggerContentId,\n      className: styles.trigger\n    }, selectedOption.label || selectedOption.value);\n  }\n  const mergedRef = useMergeRefs(triggerProps.ref, ref);\n  const triggerButton = React.createElement(ButtonTrigger, Object.assign({}, triggerProps, {\n    id: id,\n    ref: mergedRef,\n    pressed: isOpen,\n    disabled: disabled,\n    readOnly: readOnly,\n    invalid: invalid,\n    warning: warning && !invalid,\n    inFilteringToken: inFilteringToken,\n    inlineTokens: triggerVariant === 'tokens',\n    ariaDescribedby: ariaDescribedby,\n    ariaLabelledby: ariaLabelledbyIds\n  }), triggerContent);\n  return React.createElement(React.Fragment, null, inlineLabelText ? React.createElement(\"div\", {\n    className: styles['inline-label-wrapper']\n  }, React.createElement(\"label\", {\n    htmlFor: controlId,\n    className: clsx(styles['inline-label'], disabled && styles['inline-label-disabled'])\n  }, inlineLabelText), React.createElement(\"div\", {\n    className: styles['inline-label-trigger-wrapper']\n  }, triggerButton)) : React.createElement(React.Fragment, null, triggerButton));\n});\nexport default Trigger;","map":{"version":3,"names":["React","clsx","ButtonTrigger","Option","useMergeRefs","useUniqueId","useVisualRefresh","joinStrings","styles","Trigger","forwardRef","_ref","ref","ariaLabelledby","ariaDescribedby","controlId","invalid","inlineLabelText","warning","triggerProps","selectedOption","selectedOptions","triggerVariant","inFilteringToken","isOpen","placeholder","disabled","readOnly","isVisualRefresh","generatedId","id","triggerContentId","ariaLabelledbyIds","triggerContent","length","createElement","className","map","_ref2","i","label","key","trigger","option","Object","assign","value","mergedRef","triggerButton","pressed","inlineTokens","Fragment","htmlFor"],"sources":["/Users/sohailsajid/Desktop/threat-modeling-app/node_modules/src/select/parts/trigger.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\n\nimport ButtonTrigger from '../../internal/components/button-trigger';\nimport Option from '../../internal/components/option';\nimport { OptionDefinition } from '../../internal/components/option/interfaces';\nimport { FormFieldValidationControlProps } from '../../internal/context/form-field-context';\nimport { useMergeRefs } from '../../internal/hooks/use-merge-refs';\nimport { useUniqueId } from '../../internal/hooks/use-unique-id';\nimport { useVisualRefresh } from '../../internal/hooks/use-visual-mode';\nimport { joinStrings } from '../../internal/utils/strings';\nimport { MultiselectProps } from '../../multiselect/interfaces';\nimport { SelectProps } from '../interfaces';\nimport { SelectTriggerProps } from '../utils/use-select';\n\nimport styles from './styles.css.js';\n\nexport interface TriggerProps extends FormFieldValidationControlProps {\n  placeholder: string | undefined;\n  disabled: boolean | undefined;\n  readOnly?: boolean;\n  triggerProps: SelectTriggerProps;\n  selectedOption: OptionDefinition | null;\n  inlineLabelText?: string;\n  isOpen?: boolean;\n  triggerVariant?: SelectProps.TriggerVariant | MultiselectProps.TriggerVariant;\n  inFilteringToken?: 'root' | 'nested';\n  selectedOptions?: ReadonlyArray<OptionDefinition>;\n}\n\nconst Trigger = React.forwardRef(\n  (\n    {\n      ariaLabelledby,\n      ariaDescribedby,\n      controlId,\n      invalid,\n      inlineLabelText,\n      warning,\n      triggerProps,\n      selectedOption,\n      selectedOptions,\n      triggerVariant,\n      inFilteringToken,\n      isOpen,\n      placeholder,\n      disabled,\n      readOnly,\n    }: TriggerProps,\n    ref: React.Ref<HTMLButtonElement>\n  ) => {\n    const isVisualRefresh = useVisualRefresh();\n    const generatedId = useUniqueId();\n    const id = controlId ?? generatedId;\n    const triggerContentId = useUniqueId('trigger-content-');\n\n    let ariaLabelledbyIds = joinStrings(ariaLabelledby, triggerContentId);\n\n    let triggerContent = null;\n    if (triggerVariant === 'tokens') {\n      if (selectedOptions?.length) {\n        triggerContent = (\n          <span\n            className={clsx(\n              styles['inline-token-trigger'],\n              disabled && styles['inline-token-trigger--disabled'],\n              isVisualRefresh && styles['visual-refresh']\n            )}\n          >\n            <span className={styles['inline-token-list']}>\n              {selectedOptions.map(({ label }, i) => (\n                <span key={i} className={styles['inline-token']}>\n                  {label}\n                </span>\n              ))}\n            </span>\n            <span className={styles['inline-token-counter']} id={triggerContentId}>\n              <span className={styles['inline-token-hidden-placeholder']}>{placeholder}</span>\n              <span>({selectedOptions.length})</span>\n            </span>\n          </span>\n        );\n        ariaLabelledbyIds = ariaLabelledby;\n      } else {\n        triggerContent = (\n          <span aria-disabled=\"true\" className={clsx(styles.placeholder, styles.trigger)} id={triggerContentId}>\n            {placeholder}\n          </span>\n        );\n      }\n    } else if (!selectedOption) {\n      triggerContent = (\n        <span aria-disabled=\"true\" className={clsx(styles.placeholder, styles.trigger)} id={triggerContentId}>\n          {placeholder}\n        </span>\n      );\n    } else if (triggerVariant === 'option') {\n      triggerContent = <Option id={triggerContentId} option={{ ...selectedOption, disabled }} triggerVariant={true} />;\n    } else {\n      triggerContent = (\n        <span id={triggerContentId} className={styles.trigger}>\n          {selectedOption.label || selectedOption.value}\n        </span>\n      );\n    }\n\n    const mergedRef = useMergeRefs(triggerProps.ref, ref);\n    const triggerButton = (\n      <ButtonTrigger\n        {...triggerProps}\n        id={id}\n        ref={mergedRef}\n        pressed={isOpen}\n        disabled={disabled}\n        readOnly={readOnly}\n        invalid={invalid}\n        warning={warning && !invalid}\n        inFilteringToken={inFilteringToken}\n        inlineTokens={triggerVariant === 'tokens'}\n        ariaDescribedby={ariaDescribedby}\n        ariaLabelledby={ariaLabelledbyIds}\n      >\n        {triggerContent}\n      </ButtonTrigger>\n    );\n    return (\n      <>\n        {inlineLabelText ? (\n          <div className={styles['inline-label-wrapper']}>\n            <label\n              htmlFor={controlId}\n              className={clsx(styles['inline-label'], disabled && styles['inline-label-disabled'])}\n            >\n              {inlineLabelText}\n            </label>\n            <div className={styles['inline-label-trigger-wrapper']}>{triggerButton}</div>\n          </div>\n        ) : (\n          <>{triggerButton}</>\n        )}\n      </>\n    );\n  }\n);\n\nexport default Trigger;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}