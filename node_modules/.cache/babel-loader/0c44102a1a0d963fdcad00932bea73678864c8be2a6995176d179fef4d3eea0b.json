{"ast":null,"code":"import { __rest } from \"tslib\";\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { memo, useCallback } from 'react';\nimport clsx from 'clsx';\nimport InternalFormField from '../../../form-field/internal';\nimport { useInternalI18n } from '../../../i18n/context';\nimport InternalMultiselect from '../../../multiselect/internal';\nimport { getBaseProps } from '../../base-component';\nimport SeriesMarker from '../chart-series-marker';\nimport styles from './styles.css.js';\nexport default memo(ChartFilter);\nfunction ChartFilter(_a) {\n  var {\n      series,\n      i18nStrings,\n      selectedSeries,\n      onChange\n    } = _a,\n    restProps = __rest(_a, [\"series\", \"i18nStrings\", \"selectedSeries\", \"onChange\"]);\n  const baseProps = getBaseProps(restProps);\n  const className = clsx(baseProps.className, styles.root);\n  const i18n = useInternalI18n('[charts]');\n  const defaultOptions = series.map((d, i) => ({\n    label: d.label,\n    value: '' + i,\n    datum: d.datum,\n    __customIcon: React.createElement(\"span\", {\n      className: styles['custom-icon-wrapper']\n    }, React.createElement(SeriesMarker, {\n      color: d.color,\n      type: d.type\n    }))\n  }));\n  const selectedOptions = defaultOptions.filter(option => (selectedSeries === null || selectedSeries === void 0 ? void 0 : selectedSeries.indexOf(option.datum)) !== -1);\n  const updateSelection = useCallback(_ref => {\n    let {\n      detail: {\n        selectedOptions\n      }\n    } = _ref;\n    const selectedSeries = defaultOptions.filter(option => selectedOptions.indexOf(option) !== -1).map(option => option.datum);\n    onChange(selectedSeries);\n  }, [onChange, defaultOptions]);\n  return React.createElement(InternalFormField, Object.assign({}, baseProps, {\n    label: i18n('i18nStrings.filterLabel', i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.filterLabel),\n    className: className\n  }), React.createElement(InternalMultiselect, {\n    placeholder: i18n('i18nStrings.filterPlaceholder', i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.filterPlaceholder),\n    options: defaultOptions,\n    selectedOptions: selectedOptions,\n    onChange: updateSelection,\n    className: styles['chart-filter'],\n    selectedAriaLabel: i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.filterSelectedAriaLabel,\n    filteringType: \"none\",\n    statusType: \"finished\",\n    keepOpen: true,\n    hideTokens: true\n  }));\n}","map":{"version":3,"names":["React","memo","useCallback","clsx","InternalFormField","useInternalI18n","InternalMultiselect","getBaseProps","SeriesMarker","styles","ChartFilter","_a","series","i18nStrings","selectedSeries","onChange","restProps","__rest","baseProps","className","root","i18n","defaultOptions","map","d","i","label","value","datum","__customIcon","createElement","color","type","selectedOptions","filter","option","indexOf","updateSelection","_ref","detail","Object","assign","filterLabel","placeholder","filterPlaceholder","options","selectedAriaLabel","filterSelectedAriaLabel","filteringType","statusType","keepOpen","hideTokens"],"sources":["/Users/sohailsajid/Desktop/threat-modeling-app/node_modules/src/internal/components/chart-filter/index.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { memo, useCallback } from 'react';\nimport clsx from 'clsx';\n\nimport InternalFormField from '../../../form-field/internal';\nimport { useInternalI18n } from '../../../i18n/context';\nimport { MultiselectProps } from '../../../multiselect/interfaces';\nimport InternalMultiselect from '../../../multiselect/internal';\nimport { BaseComponentProps, getBaseProps } from '../../base-component';\nimport { NonCancelableEventHandler } from '../../events';\nimport SeriesMarker, { ChartSeriesMarkerType } from '../chart-series-marker';\n\nimport styles from './styles.css.js';\n\ninterface I18nStrings {\n  filterLabel?: string;\n  filterPlaceholder?: string;\n  filterSelectedAriaLabel?: string;\n}\n\nexport interface ChartFilterItem<T> {\n  label: string;\n  color: string;\n  type: ChartSeriesMarkerType;\n  datum: T;\n}\n\nexport interface ChartFilterProps<T> extends BaseComponentProps {\n  series: ReadonlyArray<ChartFilterItem<T>>;\n  selectedSeries?: ReadonlyArray<T>;\n  onChange: (selectedSeries: ReadonlyArray<T>) => void;\n  i18nStrings?: I18nStrings;\n}\n\nexport default memo(ChartFilter) as typeof ChartFilter;\n\nfunction ChartFilter<T>({ series, i18nStrings, selectedSeries, onChange, ...restProps }: ChartFilterProps<T>) {\n  const baseProps = getBaseProps(restProps);\n  const className = clsx(baseProps.className, styles.root);\n  const i18n = useInternalI18n('[charts]');\n\n  const defaultOptions = series.map((d, i) => ({\n    label: d.label,\n    value: '' + i,\n    datum: d.datum,\n    __customIcon: (\n      <span className={styles['custom-icon-wrapper']}>\n        <SeriesMarker color={d.color} type={d.type} />\n      </span>\n    ),\n  }));\n\n  const selectedOptions = defaultOptions.filter(option => selectedSeries?.indexOf(option.datum) !== -1);\n\n  const updateSelection = useCallback<NonCancelableEventHandler<MultiselectProps.MultiselectChangeDetail>>(\n    ({ detail: { selectedOptions } }) => {\n      const selectedSeries = defaultOptions\n        .filter(option => selectedOptions.indexOf(option) !== -1)\n        .map(option => option.datum);\n      onChange(selectedSeries);\n    },\n    [onChange, defaultOptions]\n  );\n\n  return (\n    <InternalFormField\n      {...baseProps}\n      label={i18n('i18nStrings.filterLabel', i18nStrings?.filterLabel)}\n      className={className}\n    >\n      <InternalMultiselect\n        placeholder={i18n('i18nStrings.filterPlaceholder', i18nStrings?.filterPlaceholder)}\n        options={defaultOptions}\n        selectedOptions={selectedOptions}\n        onChange={updateSelection}\n        className={styles['chart-filter']}\n        selectedAriaLabel={i18nStrings?.filterSelectedAriaLabel}\n        filteringType=\"none\"\n        statusType=\"finished\"\n        keepOpen={true}\n        hideTokens={true}\n      />\n    </InternalFormField>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}