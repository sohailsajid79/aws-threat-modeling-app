{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useState } from 'react';\nimport clsx from 'clsx';\nimport ChartPopover from '../internal/components/chart-popover';\nimport ChartPopoverFooter from '../internal/components/chart-popover-footer';\nimport ChartSeriesDetails from '../internal/components/chart-series-details';\nimport { Transition } from '../internal/components/transition';\nimport styles from './styles.css.js';\nexport default React.forwardRef(MixedChartPopover);\nfunction MixedChartPopover({\n  containerRef,\n  trackRef,\n  isOpen,\n  isPinned,\n  highlightDetails,\n  footer,\n  onDismiss,\n  size = 'medium',\n  dismissAriaLabel,\n  onMouseEnter,\n  onMouseLeave,\n  onBlur,\n  setPopoverText\n}, popoverRef) {\n  const [expandedSeries, setExpandedSeries] = useState({});\n  return React.createElement(Transition, {\n    in: isOpen\n  }, (state, ref) => React.createElement(\"div\", {\n    ref: ref,\n    className: clsx(state === 'exiting' && styles.exiting)\n  }, (isOpen || state !== 'exited') && highlightDetails && React.createElement(ChartPopover, {\n    ref: popoverRef,\n    title: highlightDetails.position,\n    trackRef: trackRef,\n    trackKey: highlightDetails.position,\n    dismissButton: isPinned,\n    dismissAriaLabel: dismissAriaLabel,\n    onDismiss: onDismiss,\n    container: containerRef.current,\n    size: size,\n    onMouseEnter: onMouseEnter,\n    onMouseLeave: onMouseLeave,\n    onBlur: onBlur\n  }, React.createElement(ChartSeriesDetails, {\n    key: highlightDetails.position,\n    details: highlightDetails.details,\n    setPopoverText: setPopoverText,\n    expandedSeries: expandedSeries[highlightDetails.position],\n    setExpandedState: (id, isExpanded) => setExpandedSeries(oldState => {\n      const expandedSeriesInCurrentCoordinate = new Set(oldState[highlightDetails.position]);\n      if (isExpanded) {\n        expandedSeriesInCurrentCoordinate.add(id);\n      } else {\n        expandedSeriesInCurrentCoordinate.delete(id);\n      }\n      return Object.assign(Object.assign({}, oldState), {\n        [highlightDetails.position]: expandedSeriesInCurrentCoordinate\n      });\n    })\n  }), footer && React.createElement(ChartPopoverFooter, null, footer))));\n}","map":{"version":3,"names":["React","useState","clsx","ChartPopover","ChartPopoverFooter","ChartSeriesDetails","Transition","styles","forwardRef","MixedChartPopover","containerRef","trackRef","isOpen","isPinned","highlightDetails","footer","onDismiss","size","dismissAriaLabel","onMouseEnter","onMouseLeave","onBlur","setPopoverText","popoverRef","expandedSeries","setExpandedSeries","createElement","in","state","ref","className","exiting","title","position","trackKey","dismissButton","container","current","key","details","setExpandedState","id","isExpanded","oldState","expandedSeriesInCurrentCoordinate","Set","add","delete","Object","assign"],"sources":["/Users/sohailsajid/Desktop/threat-modeling-app/node_modules/src/mixed-line-bar-chart/chart-popover.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useState } from 'react';\nimport clsx from 'clsx';\n\nimport ChartPopover from '../internal/components/chart-popover';\nimport ChartPopoverFooter from '../internal/components/chart-popover-footer';\nimport ChartSeriesDetails, { ExpandedSeries } from '../internal/components/chart-series-details';\nimport { Transition } from '../internal/components/transition';\nimport { HighlightDetails } from './format-highlighted';\nimport { ChartDataTypes, MixedLineBarChartProps } from './interfaces';\n\nimport styles from './styles.css.js';\n\nexport interface MixedChartPopoverProps<T extends ChartDataTypes> {\n  containerRef: React.RefObject<HTMLDivElement>;\n  trackRef: React.RefObject<SVGElement>;\n  isOpen: boolean;\n  isPinned: boolean;\n  highlightDetails: null | HighlightDetails;\n  onDismiss(): void;\n  size: MixedLineBarChartProps<T>['detailPopoverSize'];\n  footer?: React.ReactNode;\n  dismissAriaLabel?: string;\n  onMouseEnter?: (event: React.MouseEvent) => void;\n  onMouseLeave?: (event: React.MouseEvent) => void;\n  onBlur?: (event: React.FocusEvent) => void;\n  setPopoverText: (s: string) => void;\n}\n\nexport default React.forwardRef(MixedChartPopover);\n\nfunction MixedChartPopover<T extends ChartDataTypes>(\n  {\n    containerRef,\n    trackRef,\n    isOpen,\n    isPinned,\n    highlightDetails,\n    footer,\n    onDismiss,\n    size = 'medium',\n    dismissAriaLabel,\n    onMouseEnter,\n    onMouseLeave,\n    onBlur,\n    setPopoverText,\n  }: MixedChartPopoverProps<T>,\n  popoverRef: React.Ref<HTMLElement>\n) {\n  const [expandedSeries, setExpandedSeries] = useState<Record<string, ExpandedSeries>>({});\n  return (\n    <Transition in={isOpen}>\n      {(state, ref) => (\n        <div ref={ref} className={clsx(state === 'exiting' && styles.exiting)}>\n          {(isOpen || state !== 'exited') && highlightDetails && (\n            <ChartPopover\n              ref={popoverRef}\n              title={highlightDetails.position}\n              trackRef={trackRef}\n              trackKey={highlightDetails.position}\n              dismissButton={isPinned}\n              dismissAriaLabel={dismissAriaLabel}\n              onDismiss={onDismiss}\n              container={containerRef.current}\n              size={size}\n              onMouseEnter={onMouseEnter}\n              onMouseLeave={onMouseLeave}\n              onBlur={onBlur}\n            >\n              <ChartSeriesDetails\n                key={highlightDetails.position}\n                details={highlightDetails.details}\n                setPopoverText={setPopoverText}\n                expandedSeries={expandedSeries[highlightDetails.position]}\n                setExpandedState={(id, isExpanded) =>\n                  setExpandedSeries(oldState => {\n                    const expandedSeriesInCurrentCoordinate = new Set(oldState[highlightDetails.position]);\n                    if (isExpanded) {\n                      expandedSeriesInCurrentCoordinate.add(id);\n                    } else {\n                      expandedSeriesInCurrentCoordinate.delete(id);\n                    }\n                    return {\n                      ...oldState,\n                      [highlightDetails.position]: expandedSeriesInCurrentCoordinate,\n                    };\n                  })\n                }\n              />\n              {footer && <ChartPopoverFooter>{footer}</ChartPopoverFooter>}\n            </ChartPopover>\n          )}\n        </div>\n      )}\n    </Transition>\n  );\n}\n"],"mappings":"AAAA;AACA;AACA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,IAAI,MAAM,MAAM;AAEvB,OAAOC,YAAY,MAAM,sCAAsC;AAC/D,OAAOC,kBAAkB,MAAM,6CAA6C;AAC5E,OAAOC,kBAAsC,MAAM,6CAA6C;AAChG,SAASC,UAAU,QAAQ,mCAAmC;AAI9D,OAAOC,MAAM,MAAM,iBAAiB;AAkBpC,eAAeP,KAAK,CAACQ,UAAU,CAACC,iBAAiB,CAAC;AAElD,SAASA,iBAAiBA,CACxB;EACEC,YAAY;EACZC,QAAQ;EACRC,MAAM;EACNC,QAAQ;EACRC,gBAAgB;EAChBC,MAAM;EACNC,SAAS;EACTC,IAAI,GAAG,QAAQ;EACfC,gBAAgB;EAChBC,YAAY;EACZC,YAAY;EACZC,MAAM;EACNC;AAAc,CACY,EAC5BC,UAAkC;EAElC,MAAM,CAACC,cAAc,EAAEC,iBAAiB,CAAC,GAAGxB,QAAQ,CAAiC,EAAE,CAAC;EACxF,OACED,KAAA,CAAA0B,aAAA,CAACpB,UAAU;IAACqB,EAAE,EAAEf;EAAM,GACnB,CAACgB,KAAK,EAAEC,GAAG,KACV7B,KAAA,CAAA0B,aAAA;IAAKG,GAAG,EAAEA,GAAG;IAAEC,SAAS,EAAE5B,IAAI,CAAC0B,KAAK,KAAK,SAAS,IAAIrB,MAAM,CAACwB,OAAO;EAAC,GAClE,CAACnB,MAAM,IAAIgB,KAAK,KAAK,QAAQ,KAAKd,gBAAgB,IACjDd,KAAA,CAAA0B,aAAA,CAACvB,YAAY;IACX0B,GAAG,EAAEN,UAAU;IACfS,KAAK,EAAElB,gBAAgB,CAACmB,QAAQ;IAChCtB,QAAQ,EAAEA,QAAQ;IAClBuB,QAAQ,EAAEpB,gBAAgB,CAACmB,QAAQ;IACnCE,aAAa,EAAEtB,QAAQ;IACvBK,gBAAgB,EAAEA,gBAAgB;IAClCF,SAAS,EAAEA,SAAS;IACpBoB,SAAS,EAAE1B,YAAY,CAAC2B,OAAO;IAC/BpB,IAAI,EAAEA,IAAI;IACVE,YAAY,EAAEA,YAAY;IAC1BC,YAAY,EAAEA,YAAY;IAC1BC,MAAM,EAAEA;EAAM,GAEdrB,KAAA,CAAA0B,aAAA,CAACrB,kBAAkB;IACjBiC,GAAG,EAAExB,gBAAgB,CAACmB,QAAQ;IAC9BM,OAAO,EAAEzB,gBAAgB,CAACyB,OAAO;IACjCjB,cAAc,EAAEA,cAAc;IAC9BE,cAAc,EAAEA,cAAc,CAACV,gBAAgB,CAACmB,QAAQ,CAAC;IACzDO,gBAAgB,EAAEA,CAACC,EAAE,EAAEC,UAAU,KAC/BjB,iBAAiB,CAACkB,QAAQ,IAAG;MAC3B,MAAMC,iCAAiC,GAAG,IAAIC,GAAG,CAACF,QAAQ,CAAC7B,gBAAgB,CAACmB,QAAQ,CAAC,CAAC;MACtF,IAAIS,UAAU,EAAE;QACdE,iCAAiC,CAACE,GAAG,CAACL,EAAE,CAAC;OAC1C,MAAM;QACLG,iCAAiC,CAACG,MAAM,CAACN,EAAE,CAAC;;MAE9C,OAAAO,MAAA,CAAAC,MAAA,CAAAD,MAAA,CAAAC,MAAA,KACKN,QAAQ;QACX,CAAC7B,gBAAgB,CAACmB,QAAQ,GAAGW;MAAiC;IAElE,CAAC;EAAC,EAEJ,EACD7B,MAAM,IAAIf,KAAA,CAAA0B,aAAA,CAACtB,kBAAkB,QAAEW,MAAM,CAAsB,CAE/D,CAEJ,CACU;AAEjB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}