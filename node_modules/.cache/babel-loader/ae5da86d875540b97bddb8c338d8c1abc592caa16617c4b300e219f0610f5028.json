{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useEffect } from 'react';\nimport { isModifierKey } from '../keycode';\nfunction setIsKeyboard(active) {\n  if (active) {\n    document.body.setAttribute('data-awsui-focus-visible', 'true');\n  } else {\n    document.body.removeAttribute('data-awsui-focus-visible');\n  }\n}\nfunction handleMousedown() {\n  return setIsKeyboard(false);\n}\nfunction handleKeydown(event) {\n  if (!isModifierKey(event)) {\n    setIsKeyboard(true);\n  }\n}\nlet componentsCount = 0;\nfunction addListeners() {\n  document.addEventListener('mousedown', handleMousedown);\n  document.addEventListener('keydown', handleKeydown);\n}\nfunction removeListeners() {\n  document.removeEventListener('mousedown', handleMousedown);\n  document.removeEventListener('keydown', handleKeydown);\n}\nexport function useFocusVisible() {\n  useEffect(() => {\n    if (componentsCount === 0) {\n      addListeners();\n    }\n    componentsCount++;\n    return () => {\n      componentsCount--;\n      if (componentsCount === 0) {\n        removeListeners();\n      }\n    };\n  }, []);\n}","map":{"version":3,"names":["useEffect","isModifierKey","setIsKeyboard","active","document","body","setAttribute","removeAttribute","handleMousedown","handleKeydown","event","componentsCount","addListeners","addEventListener","removeListeners","removeEventListener","useFocusVisible"],"sources":["/Users/sohailsajid/Desktop/threat-modeling-app/node_modules/@cloudscape-design/component-toolkit/internal/focus-visible/index.js"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useEffect } from 'react';\nimport { isModifierKey } from '../keycode';\nfunction setIsKeyboard(active) {\n    if (active) {\n        document.body.setAttribute('data-awsui-focus-visible', 'true');\n    }\n    else {\n        document.body.removeAttribute('data-awsui-focus-visible');\n    }\n}\nfunction handleMousedown() {\n    return setIsKeyboard(false);\n}\nfunction handleKeydown(event) {\n    if (!isModifierKey(event)) {\n        setIsKeyboard(true);\n    }\n}\nlet componentsCount = 0;\nfunction addListeners() {\n    document.addEventListener('mousedown', handleMousedown);\n    document.addEventListener('keydown', handleKeydown);\n}\nfunction removeListeners() {\n    document.removeEventListener('mousedown', handleMousedown);\n    document.removeEventListener('keydown', handleKeydown);\n}\nexport function useFocusVisible() {\n    useEffect(() => {\n        if (componentsCount === 0) {\n            addListeners();\n        }\n        componentsCount++;\n        return () => {\n            componentsCount--;\n            if (componentsCount === 0) {\n                removeListeners();\n            }\n        };\n    }, []);\n}\n"],"mappings":"AAAA;AACA;AACA,SAASA,SAAS,QAAQ,OAAO;AACjC,SAASC,aAAa,QAAQ,YAAY;AAC1C,SAASC,aAAaA,CAACC,MAAM,EAAE;EAC3B,IAAIA,MAAM,EAAE;IACRC,QAAQ,CAACC,IAAI,CAACC,YAAY,CAAC,0BAA0B,EAAE,MAAM,CAAC;EAClE,CAAC,MACI;IACDF,QAAQ,CAACC,IAAI,CAACE,eAAe,CAAC,0BAA0B,CAAC;EAC7D;AACJ;AACA,SAASC,eAAeA,CAAA,EAAG;EACvB,OAAON,aAAa,CAAC,KAAK,CAAC;AAC/B;AACA,SAASO,aAAaA,CAACC,KAAK,EAAE;EAC1B,IAAI,CAACT,aAAa,CAACS,KAAK,CAAC,EAAE;IACvBR,aAAa,CAAC,IAAI,CAAC;EACvB;AACJ;AACA,IAAIS,eAAe,GAAG,CAAC;AACvB,SAASC,YAAYA,CAAA,EAAG;EACpBR,QAAQ,CAACS,gBAAgB,CAAC,WAAW,EAAEL,eAAe,CAAC;EACvDJ,QAAQ,CAACS,gBAAgB,CAAC,SAAS,EAAEJ,aAAa,CAAC;AACvD;AACA,SAASK,eAAeA,CAAA,EAAG;EACvBV,QAAQ,CAACW,mBAAmB,CAAC,WAAW,EAAEP,eAAe,CAAC;EAC1DJ,QAAQ,CAACW,mBAAmB,CAAC,SAAS,EAAEN,aAAa,CAAC;AAC1D;AACA,OAAO,SAASO,eAAeA,CAAA,EAAG;EAC9BhB,SAAS,CAAC,MAAM;IACZ,IAAIW,eAAe,KAAK,CAAC,EAAE;MACvBC,YAAY,CAAC,CAAC;IAClB;IACAD,eAAe,EAAE;IACjB,OAAO,MAAM;MACTA,eAAe,EAAE;MACjB,IAAIA,eAAe,KAAK,CAAC,EAAE;QACvBG,eAAe,CAAC,CAAC;MACrB;IACJ,CAAC;EACL,CAAC,EAAE,EAAE,CAAC;AACV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}