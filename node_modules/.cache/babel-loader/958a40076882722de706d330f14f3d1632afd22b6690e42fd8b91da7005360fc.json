{"ast":null,"code":"/** *******************************************************************************************************************\n  Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n\n  Licensed under the Apache License, Version 2.0 (the \"License\").\n  You may not use this file except in compliance with the License.\n  You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n  Unless required by applicable law or agreed to in writing, software\n  distributed under the License is distributed on an \"AS IS\" BASIS,\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  See the License for the specific language governing permissions and\n  limitations under the License.\n ******************************************************************************************************************** */import DeleteConfirmationDialog from'@aws-northstar/ui/components/DeleteConfirmationDialog';import Alert from'@cloudscape-design/components/alert';import Button from'@cloudscape-design/components/button';import ButtonDropdown from'@cloudscape-design/components/button-dropdown';import Select from'@cloudscape-design/components/select';import SpaceBetween from'@cloudscape-design/components/space-between';import{useMemo,useState,useCallback}from'react';import{DEFAULT_WORKSPACE_ID,DEFAULT_WORKSPACE_LABEL,EXAMPLE_WORKSPACE_ID,EXAMPLE_WORKSPACE_LABEL}from'../../../configs/constants';import{useGlobalSetupContext}from'../../../contexts/GlobalSetupContext';import{useWorkspacesContext}from'../../../contexts/WorkspacesContext';import useImportExport from'../../../hooks/useExportImport';import useRemoveData from'../../../hooks/useRemoveData';import AddWorkspace from'../../workspaces/EditWorkspace';import FileImport from'../../workspaces/FileImport';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const WorkspaceSelector=_ref=>{let{embededMode=true,children,enabledExportAll,enabledExportFiltered,enabledRemoveAll,filteredThreats}=_ref;const[addWorkspaceModalVisible,setAddWorkspaceModalVisible]=useState(false);const[editWorkspaceModalVisible,setEditWorkspaceModalVisible]=useState(false);const[removeDataModalVisible,setRemoveDataModalVisible]=useState(false);const[removeWorkspaceModalVisible,setRemoveWorkspaceModalVisible]=useState(false);const[isRemovingWorkspace,setIsRemovingWorkspace]=useState(false);const{importData,exportAll,exportSelectedThreats}=useImportExport();const{removeData,deleteCurrentWorkspace}=useRemoveData();const{composerMode,onPreview,onPreviewClose,onImported,fileImportModalVisible,setFileImportModalVisible}=useGlobalSetupContext();const{currentWorkspace,workspaceList,addWorkspace,renameWorkspace,switchWorkspace}=useWorkspacesContext();const workspacesOptions=useMemo(()=>{const options=[{label:DEFAULT_WORKSPACE_LABEL,value:DEFAULT_WORKSPACE_ID},{label:EXAMPLE_WORKSPACE_LABEL,value:EXAMPLE_WORKSPACE_ID}];workspaceList&&workspaceList.length>0&&options.push({label:'Workspaces',options:workspaceList.map(w=>({label:w.name,value:w.id}))});return options;},[workspaceList]);const handleSelectWorkspace=useCallback(_ref2=>{let{detail}=_ref2;const selectedItem=detail.selectedOption;if(selectedItem.value===DEFAULT_WORKSPACE_ID){switchWorkspace(null);}else{selectedItem.value&&selectedItem.label&&switchWorkspace({id:selectedItem.value,name:selectedItem.label});}},[switchWorkspace]);const handleMoreActions=useCallback(async _ref3=>{let{detail}=_ref3;switch(detail.id){case'add':setAddWorkspaceModalVisible(true);break;case'import':setFileImportModalVisible(true);break;case'exportAll':exportAll();break;case'exportFilteredList':exportSelectedThreats(filteredThreats||[]);break;case'removeAll':setRemoveDataModalVisible(true);break;case'delete':currentWorkspace&&setRemoveWorkspaceModalVisible(true);break;case'renameWorkspace':setEditWorkspaceModalVisible(true);break;default:console.log('Unknown action',detail.id);}},[setFileImportModalVisible,exportAll,exportSelectedThreats,filteredThreats,currentWorkspace,setRemoveDataModalVisible,setRemoveWorkspaceModalVisible,setAddWorkspaceModalVisible]);const handleRemoveData=useCallback(async()=>{try{await(removeData===null||removeData===void 0?void 0:removeData());}catch(e){console.log('Error in removing data from workspace',e);}finally{setRemoveDataModalVisible(false);}},[removeData]);const handleDeleteWorkspace=useCallback(async toDeleteWorkspaceId=>{setIsRemovingWorkspace(true);try{await deleteCurrentWorkspace(toDeleteWorkspaceId);}catch(e){console.log('Error in deleting workspace',e);}finally{setRemoveWorkspaceModalVisible(false);setIsRemovingWorkspace(false);}},[deleteCurrentWorkspace]);const handleImport=useCallback(data=>{importData(data);onImported===null||onImported===void 0?void 0:onImported();},[importData,onImported]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(SpaceBetween,{direction:\"horizontal\",size:\"xs\",children:[/*#__PURE__*/_jsx(Select,{controlId:\"WorkspacesSelect\",selectedOption:{value:(currentWorkspace===null||currentWorkspace===void 0?void 0:currentWorkspace.id)||DEFAULT_WORKSPACE_ID,label:`Workspace: ${(currentWorkspace===null||currentWorkspace===void 0?void 0:currentWorkspace.name)||DEFAULT_WORKSPACE_LABEL}`},options:workspacesOptions,onChange:handleSelectWorkspace}),children,/*#__PURE__*/_jsx(ButtonDropdown,{items:[...[{id:'add',text:'Add new workspace'},{id:'import',text:'Import',disabled:(currentWorkspace===null||currentWorkspace===void 0?void 0:currentWorkspace.id)===EXAMPLE_WORKSPACE_ID},{id:'exportAll',text:embededMode?'Export all statements from current workspace':'Export data from current workspace',disabled:embededMode&&!enabledExportAll}],...(embededMode?[{id:'exportFilteredList',text:'Export filtered statement list from current workspace',disabled:!enabledExportFiltered}]:[]),{id:'removeAll',text:embededMode?'Remove all statements from current workspace':'Remove data from current workspace',disabled:embededMode&&!enabledRemoveAll||(currentWorkspace===null||currentWorkspace===void 0?void 0:currentWorkspace.id)===EXAMPLE_WORKSPACE_ID},{id:'delete',text:'Delete workspace',disabled:!currentWorkspace||currentWorkspace.id===EXAMPLE_WORKSPACE_ID},{id:'renameWorkspace',text:'Rename workspace',disabled:!currentWorkspace||currentWorkspace.id===EXAMPLE_WORKSPACE_ID}],ariaLabel:\"More actions\",variant:\"icon\",onItemClick:handleMoreActions})]}),fileImportModalVisible&&/*#__PURE__*/_jsx(FileImport,{composerMode:composerMode,visible:fileImportModalVisible,setVisible:setFileImportModalVisible,onExport:exportAll,onImport:handleImport,onPreview:onPreview,onPreviewClose:onPreviewClose}),addWorkspaceModalVisible&&/*#__PURE__*/_jsx(AddWorkspace,{visible:addWorkspaceModalVisible,setVisible:setAddWorkspaceModalVisible,onConfirm:addWorkspace}),editWorkspaceModalVisible&&currentWorkspace&&/*#__PURE__*/_jsx(AddWorkspace,{visible:editWorkspaceModalVisible,setVisible:setEditWorkspaceModalVisible,editMode:true,value:currentWorkspace.name,onConfirm:newWorkspaceName=>renameWorkspace(currentWorkspace.id,newWorkspaceName)}),removeDataModalVisible&&/*#__PURE__*/_jsx(DeleteConfirmationDialog,{variant:\"friction\",visible:removeDataModalVisible,title:\"Delete data from current workspace?\",onCancelClicked:()=>setRemoveDataModalVisible(false),onDeleteClicked:handleRemoveData,deleteButtonText:\"Remove data\",children:/*#__PURE__*/_jsxs(Alert,{action:/*#__PURE__*/_jsx(Button,{onClick:()=>exportAll(),children:\"Export data\"}),type:\"warning\",children:[\"Delete \",/*#__PURE__*/_jsxs(\"b\",{children:[\"Data from \",currentWorkspace?`workspace ${currentWorkspace.name}`:'Default workspace']}),\" permenantly? This action cannot be undone.\",/*#__PURE__*/_jsx(\"br\",{}),\"You can export the data to a json file as backup.\"]})}),removeWorkspaceModalVisible&&currentWorkspace&&/*#__PURE__*/_jsx(DeleteConfirmationDialog,{variant:\"friction\",visible:removeWorkspaceModalVisible,title:\"Delete Workspace?\",onCancelClicked:()=>setRemoveWorkspaceModalVisible(false),onDeleteClicked:()=>handleDeleteWorkspace(currentWorkspace.id),loading:isRemovingWorkspace,deleteButtonText:\"Delete workspace\",children:/*#__PURE__*/_jsxs(Alert,{action:/*#__PURE__*/_jsx(Button,{onClick:()=>exportAll(),children:\"Export data\"}),type:\"warning\",children:[\"Delete \",/*#__PURE__*/_jsxs(\"b\",{children:[\"workspace \",currentWorkspace===null||currentWorkspace===void 0?void 0:currentWorkspace.name]}),\" permenantly? All the data inside workspace will be deleted. This action cannot be undone.\",/*#__PURE__*/_jsx(\"br\",{}),\"You can export the data to a json file as backup.\"]})})]});};export default WorkspaceSelector;","map":{"version":3,"names":["DeleteConfirmationDialog","Alert","Button","ButtonDropdown","Select","SpaceBetween","useMemo","useState","useCallback","DEFAULT_WORKSPACE_ID","DEFAULT_WORKSPACE_LABEL","EXAMPLE_WORKSPACE_ID","EXAMPLE_WORKSPACE_LABEL","useGlobalSetupContext","useWorkspacesContext","useImportExport","useRemoveData","AddWorkspace","FileImport","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","WorkspaceSelector","_ref","embededMode","children","enabledExportAll","enabledExportFiltered","enabledRemoveAll","filteredThreats","addWorkspaceModalVisible","setAddWorkspaceModalVisible","editWorkspaceModalVisible","setEditWorkspaceModalVisible","removeDataModalVisible","setRemoveDataModalVisible","removeWorkspaceModalVisible","setRemoveWorkspaceModalVisible","isRemovingWorkspace","setIsRemovingWorkspace","importData","exportAll","exportSelectedThreats","removeData","deleteCurrentWorkspace","composerMode","onPreview","onPreviewClose","onImported","fileImportModalVisible","setFileImportModalVisible","currentWorkspace","workspaceList","addWorkspace","renameWorkspace","switchWorkspace","workspacesOptions","options","label","value","length","push","map","w","name","id","handleSelectWorkspace","_ref2","detail","selectedItem","selectedOption","handleMoreActions","_ref3","console","log","handleRemoveData","e","handleDeleteWorkspace","toDeleteWorkspaceId","handleImport","data","direction","size","controlId","onChange","items","text","disabled","ariaLabel","variant","onItemClick","visible","setVisible","onExport","onImport","onConfirm","editMode","newWorkspaceName","title","onCancelClicked","onDeleteClicked","deleteButtonText","action","onClick","type","loading"],"sources":["/Users/sohailsajid/Desktop/threat-modeling-app/src/components/workspaces/WorkspaceSelector/index.tsx"],"sourcesContent":["/** *******************************************************************************************************************\n  Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n\n  Licensed under the Apache License, Version 2.0 (the \"License\").\n  You may not use this file except in compliance with the License.\n  You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n  Unless required by applicable law or agreed to in writing, software\n  distributed under the License is distributed on an \"AS IS\" BASIS,\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  See the License for the specific language governing permissions and\n  limitations under the License.\n ******************************************************************************************************************** */\n\nimport DeleteConfirmationDialog from '@aws-northstar/ui/components/DeleteConfirmationDialog';\nimport Alert from '@cloudscape-design/components/alert';\nimport Button from '@cloudscape-design/components/button';\nimport ButtonDropdown, { ButtonDropdownProps } from '@cloudscape-design/components/button-dropdown';\nimport { CancelableEventHandler, NonCancelableEventHandler } from '@cloudscape-design/components/internal/events';\nimport Select, { SelectProps } from '@cloudscape-design/components/select';\nimport SpaceBetween from '@cloudscape-design/components/space-between';\nimport { FC, useMemo, useState, useCallback, PropsWithChildren } from 'react';\nimport {\n  DEFAULT_WORKSPACE_ID,\n  DEFAULT_WORKSPACE_LABEL,\n  EXAMPLE_WORKSPACE_ID,\n  EXAMPLE_WORKSPACE_LABEL,\n} from '../../../configs/constants';\nimport { useGlobalSetupContext } from '../../../contexts/GlobalSetupContext';\nimport { useWorkspacesContext } from '../../../contexts/WorkspacesContext';\nimport { DataExchangeFormat, TemplateThreatStatement } from '../../../customTypes';\nimport useImportExport from '../../../hooks/useExportImport';\nimport useRemoveData from '../../../hooks/useRemoveData';\nimport AddWorkspace from '../../workspaces/EditWorkspace';\nimport FileImport from '../../workspaces/FileImport';\n\nexport interface WorkspaceSelectorProps {\n  embededMode: boolean;\n  enabledExportAll?: boolean;\n  enabledRemoveAll?: boolean;\n  enabledExportFiltered?: boolean;\n  filteredThreats?: TemplateThreatStatement[];\n}\n\nconst WorkspaceSelector: FC<PropsWithChildren<WorkspaceSelectorProps>> = ({\n  embededMode = true,\n  children,\n  enabledExportAll,\n  enabledExportFiltered,\n  enabledRemoveAll,\n  filteredThreats,\n}) => {\n  const [addWorkspaceModalVisible, setAddWorkspaceModalVisible] = useState(false);\n  const [editWorkspaceModalVisible, setEditWorkspaceModalVisible] = useState(false);\n  const [removeDataModalVisible, setRemoveDataModalVisible] = useState(false);\n  const [removeWorkspaceModalVisible, setRemoveWorkspaceModalVisible] = useState(false);\n  const [isRemovingWorkspace, setIsRemovingWorkspace] = useState(false);\n\n  const { importData, exportAll, exportSelectedThreats } = useImportExport();\n  const { removeData, deleteCurrentWorkspace } = useRemoveData();\n  const {\n    composerMode,\n    onPreview,\n    onPreviewClose,\n    onImported,\n    fileImportModalVisible,\n    setFileImportModalVisible,\n  } = useGlobalSetupContext();\n\n  const {\n    currentWorkspace,\n    workspaceList,\n    addWorkspace,\n    renameWorkspace,\n    switchWorkspace,\n  } = useWorkspacesContext();\n\n  const workspacesOptions = useMemo(() => {\n    const options: (SelectProps.Option | SelectProps.OptionGroup)[] = [\n      {\n        label: DEFAULT_WORKSPACE_LABEL,\n        value: DEFAULT_WORKSPACE_ID,\n      },\n      {\n        label: EXAMPLE_WORKSPACE_LABEL,\n        value: EXAMPLE_WORKSPACE_ID,\n      },\n    ];\n\n    workspaceList && workspaceList.length > 0 && options.push({\n      label: 'Workspaces',\n      options: workspaceList.map(w => ({\n        label: w.name,\n        value: w.id,\n      })),\n    });\n\n    return options;\n  }, [workspaceList]);\n\n  const handleSelectWorkspace: NonCancelableEventHandler<SelectProps.ChangeDetail> = useCallback(({ detail }) => {\n    const selectedItem = detail.selectedOption;\n    if (selectedItem.value === DEFAULT_WORKSPACE_ID) {\n      switchWorkspace(null);\n    } else {\n      selectedItem.value && selectedItem.label && switchWorkspace({\n        id: selectedItem.value,\n        name: selectedItem.label,\n      });\n    }\n  }, [switchWorkspace]);\n\n  const handleMoreActions: CancelableEventHandler<ButtonDropdownProps.ItemClickDetails> = useCallback(async ({ detail }) => {\n    switch (detail.id) {\n      case 'add':\n        setAddWorkspaceModalVisible(true);\n        break;\n      case 'import':\n        setFileImportModalVisible(true);\n        break;\n      case 'exportAll':\n        exportAll();\n        break;\n      case 'exportFilteredList':\n        exportSelectedThreats(filteredThreats || []);\n        break;\n      case 'removeAll':\n        setRemoveDataModalVisible(true);\n        break;\n      case 'delete':\n        currentWorkspace && setRemoveWorkspaceModalVisible(true);\n        break;\n      case 'renameWorkspace':\n        setEditWorkspaceModalVisible(true);\n        break;\n      default:\n        console.log('Unknown action', detail.id);\n    }\n  }, [\n    setFileImportModalVisible,\n    exportAll,\n    exportSelectedThreats,\n    filteredThreats,\n    currentWorkspace,\n    setRemoveDataModalVisible,\n    setRemoveWorkspaceModalVisible,\n    setAddWorkspaceModalVisible,\n  ]);\n\n  const handleRemoveData = useCallback(async () => {\n    try {\n      await removeData?.();\n    } catch (e) {\n      console.log('Error in removing data from workspace', e);\n    } finally {\n      setRemoveDataModalVisible(false);\n    }\n  }, [removeData]);\n\n  const handleDeleteWorkspace = useCallback(async (toDeleteWorkspaceId: string) => {\n    setIsRemovingWorkspace(true);\n\n    try {\n      await deleteCurrentWorkspace(toDeleteWorkspaceId);\n    } catch (e) {\n      console.log('Error in deleting workspace', e);\n    } finally {\n      setRemoveWorkspaceModalVisible(false);\n      setIsRemovingWorkspace(false);\n    }\n  }, [deleteCurrentWorkspace]);\n\n  const handleImport = useCallback((data: DataExchangeFormat) => {\n    importData(data);\n    onImported?.();\n  }, [importData, onImported]);\n\n  return (<>\n    <SpaceBetween direction=\"horizontal\" size=\"xs\">\n      <Select\n        controlId='WorkspacesSelect'\n        selectedOption={{\n          value: currentWorkspace?.id || DEFAULT_WORKSPACE_ID,\n          label: `Workspace: ${currentWorkspace?.name || DEFAULT_WORKSPACE_LABEL}`,\n        }}\n        options={workspacesOptions}\n        onChange={handleSelectWorkspace}\n      />\n      {children}\n      <ButtonDropdown\n        items={[\n          ...[\n            { id: 'add', text: 'Add new workspace' },\n            {\n              id: 'import',\n              text: 'Import',\n              disabled: currentWorkspace?.id === EXAMPLE_WORKSPACE_ID,\n            },\n            {\n              id: 'exportAll',\n              text: embededMode ? 'Export all statements from current workspace' : 'Export data from current workspace',\n              disabled: embededMode && !enabledExportAll,\n            },\n          ],\n          ...(embededMode ? [{\n            id: 'exportFilteredList',\n            text: 'Export filtered statement list from current workspace',\n            disabled: !enabledExportFiltered,\n          }] :\n            []),\n          {\n            id: 'removeAll',\n            text: embededMode ? 'Remove all statements from current workspace' : 'Remove data from current workspace',\n            disabled: (embededMode && !enabledRemoveAll) || currentWorkspace?.id === EXAMPLE_WORKSPACE_ID,\n          },\n          {\n            id: 'delete',\n            text: 'Delete workspace',\n            disabled: !currentWorkspace || currentWorkspace.id === EXAMPLE_WORKSPACE_ID,\n          },\n          {\n            id: 'renameWorkspace',\n            text: 'Rename workspace',\n            disabled: !currentWorkspace || currentWorkspace.id === EXAMPLE_WORKSPACE_ID,\n          },\n        ]}\n        ariaLabel=\"More actions\"\n        variant=\"icon\"\n        onItemClick={handleMoreActions}\n      />\n    </SpaceBetween>\n    {fileImportModalVisible && <FileImport\n      composerMode={composerMode}\n      visible={fileImportModalVisible}\n      setVisible={setFileImportModalVisible}\n      onExport={exportAll}\n      onImport={handleImport}\n      onPreview={onPreview}\n      onPreviewClose={onPreviewClose}\n    />}\n    {addWorkspaceModalVisible && <AddWorkspace\n      visible={addWorkspaceModalVisible}\n      setVisible={setAddWorkspaceModalVisible}\n      onConfirm={addWorkspace}\n    />}\n    {editWorkspaceModalVisible && currentWorkspace && <AddWorkspace\n      visible={editWorkspaceModalVisible}\n      setVisible={setEditWorkspaceModalVisible}\n      editMode\n      value={currentWorkspace.name}\n      onConfirm={(newWorkspaceName) => renameWorkspace(currentWorkspace.id, newWorkspaceName)}\n    />}\n    {removeDataModalVisible && <DeleteConfirmationDialog\n      variant='friction'\n      visible={removeDataModalVisible}\n      title='Delete data from current workspace?'\n      onCancelClicked={() => setRemoveDataModalVisible(false)}\n      onDeleteClicked={handleRemoveData}\n      deleteButtonText='Remove data'\n    >\n      <Alert\n        action={<Button\n          onClick={() => exportAll()}\n        >\n          Export data\n        </Button>}\n        type='warning'>\n        Delete <b>Data from {currentWorkspace ? `workspace ${currentWorkspace.name}` : 'Default workspace'}</b> permenantly? This action cannot be undone.\n        <br />\n        You can export the data to a json file as backup.\n      </Alert>\n    </DeleteConfirmationDialog>}\n    {removeWorkspaceModalVisible && currentWorkspace && <DeleteConfirmationDialog\n      variant='friction'\n      visible={removeWorkspaceModalVisible}\n      title='Delete Workspace?'\n      onCancelClicked={() => setRemoveWorkspaceModalVisible(false)}\n      onDeleteClicked={() => handleDeleteWorkspace(currentWorkspace.id)}\n      loading={isRemovingWorkspace}\n      deleteButtonText='Delete workspace'\n    >\n      <Alert\n        action={<Button\n          onClick={() => exportAll()}\n        >\n          Export data\n        </Button>}\n        type='warning'>\n        Delete <b>workspace {currentWorkspace?.name}</b> permenantly? All the data inside workspace will be deleted. This action cannot be undone.\n        <br />\n        You can export the data to a json file as backup.\n      </Alert>\n    </DeleteConfirmationDialog>}\n  </>);\n};\n\nexport default WorkspaceSelector;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}