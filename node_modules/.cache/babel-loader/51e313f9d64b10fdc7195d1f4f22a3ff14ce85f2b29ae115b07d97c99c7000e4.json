{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useState } from 'react';\nimport InternalBox from '../box/internal';\nimport { InternalButton } from '../button/internal';\nimport InternalCheckbox from '../checkbox/internal';\nimport InternalColumnLayout from '../column-layout/internal';\nimport InternalFormField from '../form-field/internal';\nimport InternalModal from '../modal/internal';\nimport InternalSelect from '../select/internal';\nimport InternalSpaceBetween from '../space-between/internal';\nimport { DarkThemes, LightThemes } from './ace-themes';\nfunction filterThemes(allThemes, available) {\n  return allThemes.filter(theme => available.indexOf(theme.value) > -1);\n}\nexport default props => {\n  var _a, _b, _c, _d;\n  const [wrapLines, setWrapLines] = useState((_b = (_a = props.preferences) === null || _a === void 0 ? void 0 : _a.wrapLines) !== null && _b !== void 0 ? _b : true);\n  const [theme, setTheme] = useState((_d = (_c = props.preferences) === null || _c === void 0 ? void 0 : _c.theme) !== null && _d !== void 0 ? _d : props.defaultTheme);\n  const themeOptions = [{\n    label: props.i18nStrings.lightThemes,\n    options: filterThemes(LightThemes, props.themes.light)\n  }, {\n    label: props.i18nStrings.darkThemes,\n    options: filterThemes(DarkThemes, props.themes.dark)\n  }];\n  const [selectedThemeOption, setSelectedThemeOption] = useState(() => [...LightThemes, ...DarkThemes].filter(t => t.value === theme)[0]);\n  const onThemeSelected = e => {\n    setTheme(e.detail.selectedOption.value);\n    setSelectedThemeOption(e.detail.selectedOption);\n  };\n  return React.createElement(InternalModal, {\n    size: \"medium\",\n    visible: true,\n    getModalRoot: props.getModalRoot,\n    removeModalRoot: props.removeModalRoot,\n    onDismiss: props.onDismiss,\n    header: props.i18nStrings.header,\n    closeAriaLabel: props.i18nStrings.cancel,\n    footer: React.createElement(InternalBox, {\n      float: \"right\"\n    }, React.createElement(InternalSpaceBetween, {\n      direction: \"horizontal\",\n      size: \"xs\"\n    }, React.createElement(InternalButton, {\n      onClick: props.onDismiss\n    }, props.i18nStrings.cancel), React.createElement(InternalButton, {\n      onClick: () => props.onConfirm({\n        wrapLines,\n        theme\n      }),\n      variant: \"primary\"\n    }, props.i18nStrings.confirm)))\n  }, React.createElement(InternalColumnLayout, {\n    columns: 2,\n    variant: \"text-grid\"\n  }, React.createElement(\"div\", null, React.createElement(InternalCheckbox, {\n    checked: wrapLines,\n    onChange: e => setWrapLines(e.detail.checked)\n  }, props.i18nStrings.wrapLines)), React.createElement(\"div\", null, React.createElement(InternalFormField, {\n    label: props.i18nStrings.theme\n  }, React.createElement(InternalSelect, {\n    selectedOption: selectedThemeOption,\n    onChange: onThemeSelected,\n    options: themeOptions,\n    filteringType: \"auto\",\n    filteringAriaLabel: props.i18nStrings.themeFilteringAriaLabel,\n    filteringClearAriaLabel: props.i18nStrings.themeFilteringClearAriaLabel,\n    filteringPlaceholder: props.i18nStrings.themeFilteringPlaceholder\n  })))));\n};","map":{"version":3,"names":["React","useState","InternalBox","InternalButton","InternalCheckbox","InternalColumnLayout","InternalFormField","InternalModal","InternalSelect","InternalSpaceBetween","DarkThemes","LightThemes","filterThemes","allThemes","available","filter","theme","indexOf","value","props","wrapLines","setWrapLines","_b","_a","preferences","setTheme","_d","_c","defaultTheme","themeOptions","label","i18nStrings","lightThemes","options","themes","light","darkThemes","dark","selectedThemeOption","setSelectedThemeOption","t","onThemeSelected","e","detail","selectedOption","createElement","size","visible","getModalRoot","removeModalRoot","onDismiss","header","closeAriaLabel","cancel","footer","float","direction","onClick","onConfirm","variant","confirm","columns","checked","onChange","filteringType","filteringAriaLabel","themeFilteringAriaLabel","filteringClearAriaLabel","themeFilteringClearAriaLabel","filteringPlaceholder","themeFilteringPlaceholder"],"sources":["/Users/sohailsajid/Desktop/threat-modeling-app/node_modules/src/code-editor/preferences-modal.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useState } from 'react';\n\nimport InternalBox from '../box/internal';\nimport { InternalButton } from '../button/internal';\nimport InternalCheckbox from '../checkbox/internal';\nimport InternalColumnLayout from '../column-layout/internal';\nimport InternalFormField from '../form-field/internal';\nimport { NonCancelableCustomEvent } from '../internal/events';\nimport InternalModal from '../modal/internal';\nimport { SelectProps } from '../select/interfaces';\nimport InternalSelect from '../select/internal';\nimport InternalSpaceBetween from '../space-between/internal';\nimport { DarkThemes, LightThemes } from './ace-themes';\nimport { CodeEditorProps } from './interfaces';\n\ninterface PreferencesModali18nStrings {\n  header?: string;\n  cancel?: string;\n  confirm?: string;\n  wrapLines?: string;\n  theme?: string;\n  lightThemes?: string;\n  darkThemes?: string;\n  themeFilteringPlaceholder?: string;\n  themeFilteringAriaLabel?: string;\n  themeFilteringClearAriaLabel?: string;\n}\n\ninterface PreferencesModalProps {\n  preferences?: Partial<CodeEditorProps.Preferences>;\n  getModalRoot: CodeEditorProps['getModalRoot'];\n  removeModalRoot: CodeEditorProps['removeModalRoot'];\n\n  i18nStrings: PreferencesModali18nStrings;\n\n  themes: CodeEditorProps.AvailableThemes;\n  defaultTheme: CodeEditorProps.Theme;\n\n  onConfirm: (preferences: CodeEditorProps.Preferences) => void;\n  onDismiss: () => void;\n}\n\nfunction filterThemes(allThemes: ReadonlyArray<SelectProps.Option>, available: ReadonlyArray<string>) {\n  return allThemes.filter(theme => available.indexOf(theme.value!) > -1);\n}\n\nexport default (props: PreferencesModalProps) => {\n  const [wrapLines, setWrapLines] = useState<boolean>(props.preferences?.wrapLines ?? true);\n  const [theme, setTheme] = useState<CodeEditorProps.Theme>(props.preferences?.theme ?? props.defaultTheme);\n  const themeOptions = [\n    {\n      label: props.i18nStrings.lightThemes,\n      options: filterThemes(LightThemes, props.themes.light),\n    },\n    {\n      label: props.i18nStrings.darkThemes,\n      options: filterThemes(DarkThemes, props.themes.dark),\n    },\n  ];\n  const [selectedThemeOption, setSelectedThemeOption] = useState<SelectProps.Option>(\n    () => [...LightThemes, ...DarkThemes].filter(t => t.value === theme)[0]\n  );\n\n  const onThemeSelected = (e: NonCancelableCustomEvent<SelectProps.ChangeDetail>) => {\n    setTheme(e.detail.selectedOption.value as CodeEditorProps.Theme);\n    setSelectedThemeOption(e.detail.selectedOption);\n  };\n\n  return (\n    <InternalModal\n      size=\"medium\"\n      visible={true}\n      getModalRoot={props.getModalRoot}\n      removeModalRoot={props.removeModalRoot}\n      onDismiss={props.onDismiss}\n      header={props.i18nStrings.header}\n      closeAriaLabel={props.i18nStrings.cancel}\n      footer={\n        <InternalBox float=\"right\">\n          <InternalSpaceBetween direction=\"horizontal\" size=\"xs\">\n            <InternalButton onClick={props.onDismiss}>{props.i18nStrings.cancel}</InternalButton>\n            <InternalButton onClick={() => props.onConfirm({ wrapLines, theme })} variant=\"primary\">\n              {props.i18nStrings.confirm}\n            </InternalButton>\n          </InternalSpaceBetween>\n        </InternalBox>\n      }\n    >\n      <InternalColumnLayout columns={2} variant=\"text-grid\">\n        <div>\n          <InternalCheckbox checked={wrapLines} onChange={e => setWrapLines(e.detail.checked)}>\n            {props.i18nStrings.wrapLines}\n          </InternalCheckbox>\n        </div>\n        <div>\n          <InternalFormField label={props.i18nStrings.theme}>\n            <InternalSelect\n              selectedOption={selectedThemeOption}\n              onChange={onThemeSelected}\n              options={themeOptions}\n              filteringType=\"auto\"\n              filteringAriaLabel={props.i18nStrings.themeFilteringAriaLabel}\n              filteringClearAriaLabel={props.i18nStrings.themeFilteringClearAriaLabel}\n              filteringPlaceholder={props.i18nStrings.themeFilteringPlaceholder}\n            />\n          </InternalFormField>\n        </div>\n      </InternalColumnLayout>\n    </InternalModal>\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}