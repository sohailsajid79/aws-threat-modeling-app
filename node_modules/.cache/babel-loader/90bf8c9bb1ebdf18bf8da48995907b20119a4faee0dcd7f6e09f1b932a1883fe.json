{"ast":null,"code":"import{memo,useEffect,useState}from'react';import{ColumnLayout,Form,FormField,Textarea,Checkbox,TagEditor,ExpandableSection,Multiselect}from'@cloudscape-design/components';import{dataFeaturesOptions,securityFeaturesOptions,techFeaturesOptions}from'./panel-config';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default/*#__PURE__*/memo(_ref=>{var _data$tags;let{component,changeHandler}=_ref;const[data,setData]=useState(component&&component.data||{});useEffect(()=>{setData(component&&component.data||{});},[component]);const updateData=(key,value,defaultValue)=>{if(component){setData({...data,[key]:value||defaultValue});changeHandler({[key]:value||defaultValue});}};return/*#__PURE__*/_jsx(\"form\",{onSubmit:e=>e.preventDefault(),children:/*#__PURE__*/_jsxs(Form,{variant:\"embedded\",children:[/*#__PURE__*/_jsxs(ColumnLayout,{borders:\"vertical\",columns:3,variant:\"text-grid\",children:[/*#__PURE__*/_jsx(FormField,{label:\"name\",stretch:true,children:/*#__PURE__*/_jsx(Textarea,{value:data.name||'',onChange:e=>{var _e$detail;return updateData('name',(_e$detail=e.detail)===null||_e$detail===void 0?void 0:_e$detail.value,'');},placeholder:\"name\",rows:3})}),/*#__PURE__*/_jsx(FormField,{label:\"description\",stretch:true,children:/*#__PURE__*/_jsx(Textarea,{value:data.description||'',onChange:e=>{var _e$detail2;return updateData('description',(_e$detail2=e.detail)===null||_e$detail2===void 0?void 0:_e$detail2.value,'');},placeholder:\"description\",rows:3})}),/*#__PURE__*/_jsxs(FormField,{label:\"scope\",stretch:true,children:[/*#__PURE__*/_jsx(Checkbox,{checked:(data===null||data===void 0?void 0:data.outOfScope)||false,onChange:e=>{var _e$detail3;return updateData('outOfScope',(_e$detail3=e.detail)===null||_e$detail3===void 0?void 0:_e$detail3.checked,false);},children:\"out of scope\"}),/*#__PURE__*/_jsx(Textarea,{value:data.scopeReason||'',onChange:e=>{var _e$detail4;return updateData('scopeReason',(_e$detail4=e.detail)===null||_e$detail4===void 0?void 0:_e$detail4.value,'');},placeholder:\"a kind reminder for future-you\",rows:2})]})]}),/*#__PURE__*/_jsxs(ColumnLayout,{borders:\"vertical\",columns:3,variant:\"text-grid\",children:[/*#__PURE__*/_jsx(Multiselect,{selectedOptions:(data===null||data===void 0?void 0:data.dataTags)||[],placeholder:\"Data features that apply to selected component\",tokenLimit:3// number of visible selected options\n,disabled:(data===null||data===void 0?void 0:data.outOfScope)||false,options:dataFeaturesOptions(component===null||component===void 0?void 0:component.type),onChange:e=>{var _e$detail5;return updateData('dataTags',(_e$detail5=e.detail)===null||_e$detail5===void 0?void 0:_e$detail5.selectedOptions,[]);}}),/*#__PURE__*/_jsx(Multiselect,{selectedOptions:(data===null||data===void 0?void 0:data.techTags)||[],placeholder:\"Tech features that apply to selected component\",tokenLimit:3// number of visible selected options\n,disabled:(data===null||data===void 0?void 0:data.outOfScope)||false,options:techFeaturesOptions(component===null||component===void 0?void 0:component.type),onChange:e=>{var _e$detail6;return updateData('techTags',(_e$detail6=e.detail)===null||_e$detail6===void 0?void 0:_e$detail6.selectedOptions,[]);}}),/*#__PURE__*/_jsx(Multiselect,{selectedOptions:(data===null||data===void 0?void 0:data.securityTags)||[],placeholder:\"Security features that apply to selected component\",tokenLimit:3// number of visible selected options\n,disabled:(data===null||data===void 0?void 0:data.outOfScope)||false,options:securityFeaturesOptions(component===null||component===void 0?void 0:component.type),onChange:e=>{var _e$detail7;return updateData('securityTags',(_e$detail7=e.detail)===null||_e$detail7===void 0?void 0:_e$detail7.selectedOptions,[]);}})]}),/*#__PURE__*/_jsx(ColumnLayout,{borders:\"vertical\",columns:1,variant:\"text-grid\",children:/*#__PURE__*/_jsx(ExpandableSection,{headerText:`Tags (${((_data$tags=data.tags)===null||_data$tags===void 0?void 0:_data$tags.length)||0})`,children:/*#__PURE__*/_jsx(TagEditor,{i18nStrings:{tagLimit:(availableTags,tagLimit)=>availableTags===tagLimit?'You can add up to '+tagLimit+' tags.':availableTags===1?'You can add up to 1 more tag.':'You can add up to '+availableTags+' more tags.',keyHeader:'Key',valueHeader:'Value (optional)',addButton:'Add new tag',removeButton:'Remove',keyPlaceholder:'Enter key',valuePlaceholder:'Enter value',emptyKeyError:'You must specify a tag key'},tags:data.tags,onChange:e=>{var _e$detail8;return updateData('tags',(_e$detail8=e.detail)===null||_e$detail8===void 0?void 0:_e$detail8.tags,[]);},tagLimit:5})})})]})},component===null||component===void 0?void 0:component.id);});","map":{"version":3,"names":["memo","useEffect","useState","ColumnLayout","Form","FormField","Textarea","Checkbox","TagEditor","ExpandableSection","Multiselect","dataFeaturesOptions","securityFeaturesOptions","techFeaturesOptions","jsx","_jsx","jsxs","_jsxs","_ref","_data$tags","component","changeHandler","data","setData","updateData","key","value","defaultValue","onSubmit","e","preventDefault","children","variant","borders","columns","label","stretch","name","onChange","_e$detail","detail","placeholder","rows","description","_e$detail2","checked","outOfScope","_e$detail3","scopeReason","_e$detail4","selectedOptions","dataTags","tokenLimit","disabled","options","type","_e$detail5","techTags","_e$detail6","securityTags","_e$detail7","headerText","tags","length","i18nStrings","tagLimit","availableTags","keyHeader","valueHeader","addButton","removeButton","keyPlaceholder","valuePlaceholder","emptyKeyError","_e$detail8","id"],"sources":["/Users/sohailsajid/Desktop/threat-modeling-app/src/components/generic/Flow/Properties/PropertiesPanel.tsx"],"sourcesContent":["import { memo, useEffect, useState } from 'react';\n\nimport { ColumnLayout, Form, FormField, Textarea, Checkbox, TagEditor, ExpandableSection, Multiselect } from '@cloudscape-design/components';\nimport { dataFeaturesOptions, securityFeaturesOptions, techFeaturesOptions } from './panel-config';\n\nexport default memo(({ component, changeHandler }: { component: any; changeHandler: any } ) => {\n\n  const [data, setData] = useState((component && component.data) || {});\n\n  useEffect(() => {\n    setData((component && component.data) || {});\n  }, [component]);\n\n  const updateData = (key, value, defaultValue) => {\n    if (component) {\n      setData({ ...data, [key]: value || defaultValue });\n      changeHandler({ [key]: value || defaultValue });\n    }\n  };\n\n  return (\n    <form onSubmit={e => e.preventDefault()} key={component?.id} >\n      <Form\n        variant=\"embedded\" >\n        <ColumnLayout\n          borders=\"vertical\"\n          columns={3}\n          variant=\"text-grid\" >\n          <FormField\n            label=\"name\"\n            stretch={true} >\n            <Textarea\n              value={data.name || ''}\n              onChange={e => updateData('name', e.detail?.value, '')}\n              placeholder='name'\n              rows={3} />\n          </FormField>\n          <FormField\n            label=\"description\"\n            stretch={true} >\n            <Textarea\n              value={data.description || ''}\n              onChange={e => updateData('description', e.detail?.value, '')}\n              placeholder=\"description\"\n              rows={3} />\n          </FormField>\n          <FormField\n            label=\"scope\"\n            stretch={true} >\n            <Checkbox\n              checked={data?.outOfScope || false}\n              onChange={e => updateData('outOfScope', e.detail?.checked, false)}\n            >\n            out of scope\n            </Checkbox>\n            <Textarea\n              value={data.scopeReason || ''}\n              onChange={e => updateData('scopeReason', e.detail?.value, '')}\n              placeholder=\"a kind reminder for future-you\"\n              rows={2} />\n          </FormField>\n        </ColumnLayout>\n        <ColumnLayout\n          borders=\"vertical\"\n          columns={3}\n          variant=\"text-grid\" >\n          <Multiselect\n            selectedOptions={data?.dataTags || []}\n            placeholder='Data features that apply to selected component'\n            tokenLimit={3} // number of visible selected options\n            disabled={data?.outOfScope || false}\n            options={dataFeaturesOptions(component?.type)}\n            onChange={e => updateData('dataTags', e.detail?.selectedOptions, [])}\n          />\n          <Multiselect\n            selectedOptions={data?.techTags || []}\n            placeholder='Tech features that apply to selected component'\n            tokenLimit={3} // number of visible selected options\n            disabled={data?.outOfScope || false}\n            options={techFeaturesOptions(component?.type)}\n            onChange={e => updateData('techTags', e.detail?.selectedOptions, [])}\n          />\n          <Multiselect\n            selectedOptions={data?.securityTags || []}\n            placeholder='Security features that apply to selected component'\n            tokenLimit={3} // number of visible selected options\n            disabled={data?.outOfScope || false}\n            options={securityFeaturesOptions(component?.type)}\n            onChange={e => updateData('securityTags', e.detail?.selectedOptions, [])}\n          />\n        </ColumnLayout>\n        <ColumnLayout\n          borders=\"vertical\"\n          columns={1}\n          variant=\"text-grid\" >\n          <ExpandableSection headerText={`Tags (${data.tags?.length || 0})`}>\n            <TagEditor\n              i18nStrings={{\n                tagLimit: (availableTags, tagLimit) =>\n                  availableTags === tagLimit\n                    ? 'You can add up to ' + tagLimit + ' tags.'\n                    : availableTags === 1\n                      ? 'You can add up to 1 more tag.'\n                      : 'You can add up to ' + availableTags + ' more tags.',\n                keyHeader: 'Key',\n                valueHeader: 'Value (optional)',\n                addButton: 'Add new tag',\n                removeButton: 'Remove',\n                keyPlaceholder: 'Enter key',\n                valuePlaceholder: 'Enter value',\n                emptyKeyError: 'You must specify a tag key',\n              }}\n              tags={data.tags}\n              onChange={e => updateData('tags', e.detail?.tags, [])}\n              tagLimit={5}\n            />\n          </ExpandableSection>\n        </ColumnLayout>\n      </Form>\n    </form>\n  );\n});"],"mappings":"AAAA,OAASA,IAAI,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAEjD,OAASC,YAAY,CAAEC,IAAI,CAAEC,SAAS,CAAEC,QAAQ,CAAEC,QAAQ,CAAEC,SAAS,CAAEC,iBAAiB,CAAEC,WAAW,KAAQ,+BAA+B,CAC5I,OAASC,mBAAmB,CAAEC,uBAAuB,CAAEC,mBAAmB,KAAQ,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEnG,2BAAejB,IAAI,CAACkB,IAAA,EAA2E,KAAAC,UAAA,IAA1E,CAAEC,SAAS,CAAEC,aAAsD,CAAC,CAAAH,IAAA,CAEvF,KAAM,CAACI,IAAI,CAAEC,OAAO,CAAC,CAAGrB,QAAQ,CAAEkB,SAAS,EAAIA,SAAS,CAACE,IAAI,EAAK,CAAC,CAAC,CAAC,CAErErB,SAAS,CAAC,IAAM,CACdsB,OAAO,CAAEH,SAAS,EAAIA,SAAS,CAACE,IAAI,EAAK,CAAC,CAAC,CAAC,CAC9C,CAAC,CAAE,CAACF,SAAS,CAAC,CAAC,CAEf,KAAM,CAAAI,UAAU,CAAGA,CAACC,GAAG,CAAEC,KAAK,CAAEC,YAAY,GAAK,CAC/C,GAAIP,SAAS,CAAE,CACbG,OAAO,CAAC,CAAE,GAAGD,IAAI,CAAE,CAACG,GAAG,EAAGC,KAAK,EAAIC,YAAa,CAAC,CAAC,CAClDN,aAAa,CAAC,CAAE,CAACI,GAAG,EAAGC,KAAK,EAAIC,YAAa,CAAC,CAAC,CACjD,CACF,CAAC,CAED,mBACEZ,IAAA,SAAMa,QAAQ,CAAEC,CAAC,EAAIA,CAAC,CAACC,cAAc,CAAC,CAAE,CAAAC,QAAA,cACtCd,KAAA,CAACb,IAAI,EACH4B,OAAO,CAAC,UAAU,CAAAD,QAAA,eAClBd,KAAA,CAACd,YAAY,EACX8B,OAAO,CAAC,UAAU,CAClBC,OAAO,CAAE,CAAE,CACXF,OAAO,CAAC,WAAW,CAAAD,QAAA,eACnBhB,IAAA,CAACV,SAAS,EACR8B,KAAK,CAAC,MAAM,CACZC,OAAO,CAAE,IAAK,CAAAL,QAAA,cACdhB,IAAA,CAACT,QAAQ,EACPoB,KAAK,CAAEJ,IAAI,CAACe,IAAI,EAAI,EAAG,CACvBC,QAAQ,CAAET,CAAC,OAAAU,SAAA,OAAI,CAAAf,UAAU,CAAC,MAAM,EAAAe,SAAA,CAAEV,CAAC,CAACW,MAAM,UAAAD,SAAA,iBAARA,SAAA,CAAUb,KAAK,CAAE,EAAE,CAAC,EAAC,CACvDe,WAAW,CAAC,MAAM,CAClBC,IAAI,CAAE,CAAE,CAAE,CAAC,CACJ,CAAC,cACZ3B,IAAA,CAACV,SAAS,EACR8B,KAAK,CAAC,aAAa,CACnBC,OAAO,CAAE,IAAK,CAAAL,QAAA,cACdhB,IAAA,CAACT,QAAQ,EACPoB,KAAK,CAAEJ,IAAI,CAACqB,WAAW,EAAI,EAAG,CAC9BL,QAAQ,CAAET,CAAC,OAAAe,UAAA,OAAI,CAAApB,UAAU,CAAC,aAAa,EAAAoB,UAAA,CAAEf,CAAC,CAACW,MAAM,UAAAI,UAAA,iBAARA,UAAA,CAAUlB,KAAK,CAAE,EAAE,CAAC,EAAC,CAC9De,WAAW,CAAC,aAAa,CACzBC,IAAI,CAAE,CAAE,CAAE,CAAC,CACJ,CAAC,cACZzB,KAAA,CAACZ,SAAS,EACR8B,KAAK,CAAC,OAAO,CACbC,OAAO,CAAE,IAAK,CAAAL,QAAA,eACdhB,IAAA,CAACR,QAAQ,EACPsC,OAAO,CAAE,CAAAvB,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEwB,UAAU,GAAI,KAAM,CACnCR,QAAQ,CAAET,CAAC,OAAAkB,UAAA,OAAI,CAAAvB,UAAU,CAAC,YAAY,EAAAuB,UAAA,CAAElB,CAAC,CAACW,MAAM,UAAAO,UAAA,iBAARA,UAAA,CAAUF,OAAO,CAAE,KAAK,CAAC,EAAC,CAAAd,QAAA,CACnE,cAED,CAAU,CAAC,cACXhB,IAAA,CAACT,QAAQ,EACPoB,KAAK,CAAEJ,IAAI,CAAC0B,WAAW,EAAI,EAAG,CAC9BV,QAAQ,CAAET,CAAC,OAAAoB,UAAA,OAAI,CAAAzB,UAAU,CAAC,aAAa,EAAAyB,UAAA,CAAEpB,CAAC,CAACW,MAAM,UAAAS,UAAA,iBAARA,UAAA,CAAUvB,KAAK,CAAE,EAAE,CAAC,EAAC,CAC9De,WAAW,CAAC,gCAAgC,CAC5CC,IAAI,CAAE,CAAE,CAAE,CAAC,EACJ,CAAC,EACA,CAAC,cACfzB,KAAA,CAACd,YAAY,EACX8B,OAAO,CAAC,UAAU,CAClBC,OAAO,CAAE,CAAE,CACXF,OAAO,CAAC,WAAW,CAAAD,QAAA,eACnBhB,IAAA,CAACL,WAAW,EACVwC,eAAe,CAAE,CAAA5B,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAE6B,QAAQ,GAAI,EAAG,CACtCV,WAAW,CAAC,gDAAgD,CAC5DW,UAAU,CAAE,CAAG;AAAA,CACfC,QAAQ,CAAE,CAAA/B,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEwB,UAAU,GAAI,KAAM,CACpCQ,OAAO,CAAE3C,mBAAmB,CAACS,SAAS,SAATA,SAAS,iBAATA,SAAS,CAAEmC,IAAI,CAAE,CAC9CjB,QAAQ,CAAET,CAAC,OAAA2B,UAAA,OAAI,CAAAhC,UAAU,CAAC,UAAU,EAAAgC,UAAA,CAAE3B,CAAC,CAACW,MAAM,UAAAgB,UAAA,iBAARA,UAAA,CAAUN,eAAe,CAAE,EAAE,CAAC,EAAC,CACtE,CAAC,cACFnC,IAAA,CAACL,WAAW,EACVwC,eAAe,CAAE,CAAA5B,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEmC,QAAQ,GAAI,EAAG,CACtChB,WAAW,CAAC,gDAAgD,CAC5DW,UAAU,CAAE,CAAG;AAAA,CACfC,QAAQ,CAAE,CAAA/B,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEwB,UAAU,GAAI,KAAM,CACpCQ,OAAO,CAAEzC,mBAAmB,CAACO,SAAS,SAATA,SAAS,iBAATA,SAAS,CAAEmC,IAAI,CAAE,CAC9CjB,QAAQ,CAAET,CAAC,OAAA6B,UAAA,OAAI,CAAAlC,UAAU,CAAC,UAAU,EAAAkC,UAAA,CAAE7B,CAAC,CAACW,MAAM,UAAAkB,UAAA,iBAARA,UAAA,CAAUR,eAAe,CAAE,EAAE,CAAC,EAAC,CACtE,CAAC,cACFnC,IAAA,CAACL,WAAW,EACVwC,eAAe,CAAE,CAAA5B,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEqC,YAAY,GAAI,EAAG,CAC1ClB,WAAW,CAAC,oDAAoD,CAChEW,UAAU,CAAE,CAAG;AAAA,CACfC,QAAQ,CAAE,CAAA/B,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEwB,UAAU,GAAI,KAAM,CACpCQ,OAAO,CAAE1C,uBAAuB,CAACQ,SAAS,SAATA,SAAS,iBAATA,SAAS,CAAEmC,IAAI,CAAE,CAClDjB,QAAQ,CAAET,CAAC,OAAA+B,UAAA,OAAI,CAAApC,UAAU,CAAC,cAAc,EAAAoC,UAAA,CAAE/B,CAAC,CAACW,MAAM,UAAAoB,UAAA,iBAARA,UAAA,CAAUV,eAAe,CAAE,EAAE,CAAC,EAAC,CAC1E,CAAC,EACU,CAAC,cACfnC,IAAA,CAACZ,YAAY,EACX8B,OAAO,CAAC,UAAU,CAClBC,OAAO,CAAE,CAAE,CACXF,OAAO,CAAC,WAAW,CAAAD,QAAA,cACnBhB,IAAA,CAACN,iBAAiB,EAACoD,UAAU,CAAE,SAAS,EAAA1C,UAAA,CAAAG,IAAI,CAACwC,IAAI,UAAA3C,UAAA,iBAATA,UAAA,CAAW4C,MAAM,GAAI,CAAC,GAAI,CAAAhC,QAAA,cAChEhB,IAAA,CAACP,SAAS,EACRwD,WAAW,CAAE,CACXC,QAAQ,CAAEA,CAACC,aAAa,CAAED,QAAQ,GAChCC,aAAa,GAAKD,QAAQ,CACtB,oBAAoB,CAAGA,QAAQ,CAAG,QAAQ,CAC1CC,aAAa,GAAK,CAAC,CACjB,+BAA+B,CAC/B,oBAAoB,CAAGA,aAAa,CAAG,aAAa,CAC5DC,SAAS,CAAE,KAAK,CAChBC,WAAW,CAAE,kBAAkB,CAC/BC,SAAS,CAAE,aAAa,CACxBC,YAAY,CAAE,QAAQ,CACtBC,cAAc,CAAE,WAAW,CAC3BC,gBAAgB,CAAE,aAAa,CAC/BC,aAAa,CAAE,4BACjB,CAAE,CACFX,IAAI,CAAExC,IAAI,CAACwC,IAAK,CAChBxB,QAAQ,CAAET,CAAC,OAAA6C,UAAA,OAAI,CAAAlD,UAAU,CAAC,MAAM,EAAAkD,UAAA,CAAE7C,CAAC,CAACW,MAAM,UAAAkC,UAAA,iBAARA,UAAA,CAAUZ,IAAI,CAAE,EAAE,CAAC,EAAC,CACtDG,QAAQ,CAAE,CAAE,CACb,CAAC,CACe,CAAC,CACR,CAAC,EACX,CAAC,EAjGqC7C,SAAS,SAATA,SAAS,iBAATA,SAAS,CAAEuD,EAkGnD,CAAC,CAEX,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}