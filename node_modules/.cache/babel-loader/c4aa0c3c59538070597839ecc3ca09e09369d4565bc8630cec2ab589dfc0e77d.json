{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useRef, useState } from 'react';\nimport clsx from 'clsx';\nimport InternalIcon from '../icon/internal';\nimport Tooltip from '../internal/components/tooltip';\nimport useHiddenDescription from '../internal/hooks/use-hidden-description';\nimport { useMergeRefs } from '../internal/hooks/use-merge-refs';\nimport styles from './styles.css.js';\nexport const Segment = React.forwardRef((_ref, ref) => {\n  let {\n    disabled,\n    disabledReason,\n    text,\n    iconName,\n    iconAlt,\n    iconUrl,\n    iconSvg,\n    isActive,\n    onClick,\n    onKeyDown,\n    tabIndex,\n    id\n  } = _ref;\n  const buttonRef = useRef(null);\n  const [showTooltip, setShowTooltip] = useState(false);\n  const isDisabledWithReason = disabled && !!disabledReason;\n  const {\n    targetProps,\n    descriptionEl\n  } = useHiddenDescription(disabledReason);\n  return React.createElement(\"button\", Object.assign({\n    className: clsx(styles.segment, {\n      [styles.disabled]: !!disabled\n    }, {\n      [styles.selected]: isActive\n    }),\n    ref: useMergeRefs(ref, buttonRef),\n    onClick: onClick,\n    onKeyDown: onKeyDown,\n    disabled: disabled && !disabledReason,\n    \"aria-disabled\": isDisabledWithReason ? 'true' : undefined,\n    type: \"button\",\n    tabIndex: tabIndex,\n    \"aria-pressed\": isActive ? 'true' : 'false',\n    \"aria-label\": !text ? iconAlt : undefined,\n    onFocus: isDisabledWithReason ? () => setShowTooltip(true) : undefined,\n    onBlur: isDisabledWithReason ? () => setShowTooltip(false) : undefined,\n    onMouseEnter: isDisabledWithReason ? () => setShowTooltip(true) : undefined,\n    onMouseLeave: isDisabledWithReason ? () => setShowTooltip(false) : undefined\n  }, isDisabledWithReason ? targetProps : {}, {\n    \"data-testid\": id\n  }), (iconName || iconUrl || iconSvg) && React.createElement(InternalIcon, {\n    className: clsx(styles.icon, text ? styles['with-text'] : styles['with-no-text']),\n    name: iconName,\n    url: iconUrl,\n    svg: iconSvg,\n    alt: iconAlt,\n    variant: disabled ? 'disabled' : 'normal'\n  }), React.createElement(\"span\", null, text), isDisabledWithReason && React.createElement(React.Fragment, null, descriptionEl, showTooltip && React.createElement(Tooltip, {\n    className: styles['disabled-reason-tooltip'],\n    trackRef: buttonRef,\n    value: disabledReason\n  })));\n});","map":{"version":3,"names":["React","useRef","useState","clsx","InternalIcon","Tooltip","useHiddenDescription","useMergeRefs","styles","Segment","forwardRef","_ref","ref","disabled","disabledReason","text","iconName","iconAlt","iconUrl","iconSvg","isActive","onClick","onKeyDown","tabIndex","id","buttonRef","showTooltip","setShowTooltip","isDisabledWithReason","targetProps","descriptionEl","createElement","Object","assign","className","segment","selected","undefined","type","onFocus","onBlur","onMouseEnter","onMouseLeave","icon","name","url","svg","alt","variant","Fragment","trackRef","value"],"sources":["/Users/sohailsajid/Desktop/threat-modeling-app/node_modules/src/segmented-control/segment.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useRef, useState } from 'react';\nimport clsx from 'clsx';\n\nimport InternalIcon from '../icon/internal';\nimport Tooltip from '../internal/components/tooltip';\nimport useHiddenDescription from '../internal/hooks/use-hidden-description';\nimport { useMergeRefs } from '../internal/hooks/use-merge-refs';\nimport { SegmentedControlProps } from './interfaces';\n\nimport styles from './styles.css.js';\n\nexport interface SegmentProps extends SegmentedControlProps.Option {\n  onClick: (event: React.MouseEvent<HTMLButtonElement>) => void;\n  onKeyDown: (event: React.KeyboardEvent<HTMLButtonElement>) => void;\n  isActive: boolean;\n  tabIndex: number;\n}\n\nexport const Segment = React.forwardRef(\n  (\n    {\n      disabled,\n      disabledReason,\n      text,\n      iconName,\n      iconAlt,\n      iconUrl,\n      iconSvg,\n      isActive,\n      onClick,\n      onKeyDown,\n      tabIndex,\n      id,\n    }: SegmentProps,\n    ref: React.Ref<HTMLButtonElement>\n  ) => {\n    const buttonRef = useRef<HTMLElement>(null);\n    const [showTooltip, setShowTooltip] = useState(false);\n    const isDisabledWithReason = disabled && !!disabledReason;\n\n    const { targetProps, descriptionEl } = useHiddenDescription(disabledReason);\n\n    return (\n      <button\n        className={clsx(styles.segment, { [styles.disabled]: !!disabled }, { [styles.selected]: isActive })}\n        ref={useMergeRefs(ref, buttonRef)}\n        onClick={onClick}\n        onKeyDown={onKeyDown}\n        disabled={disabled && !disabledReason}\n        aria-disabled={isDisabledWithReason ? 'true' : undefined}\n        type=\"button\"\n        tabIndex={tabIndex}\n        aria-pressed={isActive ? 'true' : 'false'}\n        aria-label={!text ? iconAlt : undefined}\n        onFocus={isDisabledWithReason ? () => setShowTooltip(true) : undefined}\n        onBlur={isDisabledWithReason ? () => setShowTooltip(false) : undefined}\n        onMouseEnter={isDisabledWithReason ? () => setShowTooltip(true) : undefined}\n        onMouseLeave={isDisabledWithReason ? () => setShowTooltip(false) : undefined}\n        {...(isDisabledWithReason ? targetProps : {})}\n        data-testid={id}\n      >\n        {(iconName || iconUrl || iconSvg) && (\n          <InternalIcon\n            className={clsx(styles.icon, text ? styles['with-text'] : styles['with-no-text'])}\n            name={iconName}\n            url={iconUrl}\n            svg={iconSvg}\n            alt={iconAlt}\n            variant={disabled ? 'disabled' : 'normal'}\n          />\n        )}\n        <span>{text}</span>\n\n        {isDisabledWithReason && (\n          <>\n            {descriptionEl}\n            {showTooltip && (\n              <Tooltip className={styles['disabled-reason-tooltip']} trackRef={buttonRef} value={disabledReason!} />\n            )}\n          </>\n        )}\n      </button>\n    );\n  }\n);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}