{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useEffect } from 'react';\nimport { useStableCallback } from '@cloudscape-design/component-toolkit/internal';\nimport { fireNonCancelableEvent } from '../internal/events';\nimport { useDebounceCallback } from '../internal/hooks/use-debounce-callback';\nexport function useChangeEffect(editor, onChange, onDelayedChange) {\n  const debouncedChangeHandler = useDebounceCallback(detail => {\n    fireNonCancelableEvent(onDelayedChange, detail);\n  }, 0);\n  const handleChange = useStableCallback(() => {\n    const changeDetail = {\n      value: (editor === null || editor === void 0 ? void 0 : editor.getValue()) || ''\n    };\n    fireNonCancelableEvent(onChange, changeDetail);\n    debouncedChangeHandler(changeDetail);\n  });\n  useEffect(() => {\n    if (!editor) {\n      return;\n    }\n    editor.on('change', handleChange);\n    return () => editor.off('change', handleChange);\n  }, [editor, handleChange]);\n}","map":{"version":3,"names":["useEffect","useStableCallback","fireNonCancelableEvent","useDebounceCallback","useChangeEffect","editor","onChange","onDelayedChange","debouncedChangeHandler","detail","handleChange","changeDetail","value","getValue","on","off"],"sources":["/Users/sohailsajid/Desktop/threat-modeling-app/node_modules/src/code-editor/listeners.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useEffect } from 'react';\nimport { Ace } from 'ace-builds';\n\nimport { useStableCallback } from '@cloudscape-design/component-toolkit/internal';\n\nimport { fireNonCancelableEvent, NonCancelableEventHandler } from '../internal/events';\nimport { useDebounceCallback } from '../internal/hooks/use-debounce-callback';\nimport { CodeEditorProps } from './interfaces';\n\nexport function useChangeEffect(\n  editor: null | Ace.Editor,\n  onChange?: NonCancelableEventHandler<CodeEditorProps.ChangeDetail>,\n  onDelayedChange?: NonCancelableEventHandler<CodeEditorProps.ChangeDetail>\n) {\n  const debouncedChangeHandler = useDebounceCallback((detail: CodeEditorProps.ChangeDetail) => {\n    fireNonCancelableEvent(onDelayedChange, detail);\n  }, 0);\n  const handleChange = useStableCallback(() => {\n    const changeDetail = { value: editor?.getValue() || '' };\n    fireNonCancelableEvent(onChange, changeDetail);\n    debouncedChangeHandler(changeDetail);\n  });\n  useEffect(() => {\n    if (!editor) {\n      return;\n    }\n\n    editor.on('change', handleChange);\n    return () => editor.off('change', handleChange);\n  }, [editor, handleChange]);\n}\n"],"mappings":"AAAA;AACA;AACA,SAASA,SAAS,QAAQ,OAAO;AAGjC,SAASC,iBAAiB,QAAQ,+CAA+C;AAEjF,SAASC,sBAAsB,QAAmC,oBAAoB;AACtF,SAASC,mBAAmB,QAAQ,yCAAyC;AAG7E,OAAM,SAAUC,eAAeA,CAC7BC,MAAyB,EACzBC,QAAkE,EAClEC,eAAyE;EAEzE,MAAMC,sBAAsB,GAAGL,mBAAmB,CAAEM,MAAoC,IAAI;IAC1FP,sBAAsB,CAACK,eAAe,EAAEE,MAAM,CAAC;EACjD,CAAC,EAAE,CAAC,CAAC;EACL,MAAMC,YAAY,GAAGT,iBAAiB,CAAC,MAAK;IAC1C,MAAMU,YAAY,GAAG;MAAEC,KAAK,EAAE,CAAAP,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEQ,QAAQ,EAAE,KAAI;IAAE,CAAE;IACxDX,sBAAsB,CAACI,QAAQ,EAAEK,YAAY,CAAC;IAC9CH,sBAAsB,CAACG,YAAY,CAAC;EACtC,CAAC,CAAC;EACFX,SAAS,CAAC,MAAK;IACb,IAAI,CAACK,MAAM,EAAE;MACX;;IAGFA,MAAM,CAACS,EAAE,CAAC,QAAQ,EAAEJ,YAAY,CAAC;IACjC,OAAO,MAAML,MAAM,CAACU,GAAG,CAAC,QAAQ,EAAEL,YAAY,CAAC;EACjD,CAAC,EAAE,CAACL,MAAM,EAAEK,YAAY,CAAC,CAAC;AAC5B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}