{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useState } from 'react';\nimport clsx from 'clsx';\nimport ChartPopover from '../internal/components/chart-popover';\nimport ChartPopoverFooter from '../internal/components/chart-popover-footer';\nimport ChartSeriesDetails from '../internal/components/chart-series-details';\nimport { Transition } from '../internal/components/transition';\nimport styles from './styles.css.js';\nexport default React.forwardRef(MixedChartPopover);\nfunction MixedChartPopover(_ref, popoverRef) {\n  let {\n    containerRef,\n    trackRef,\n    isOpen,\n    isPinned,\n    highlightDetails,\n    footer,\n    onDismiss,\n    size = 'medium',\n    dismissAriaLabel,\n    onMouseEnter,\n    onMouseLeave,\n    onBlur,\n    setPopoverText\n  } = _ref;\n  const [expandedSeries, setExpandedSeries] = useState({});\n  return React.createElement(Transition, {\n    in: isOpen\n  }, (state, ref) => React.createElement(\"div\", {\n    ref: ref,\n    className: clsx(state === 'exiting' && styles.exiting)\n  }, (isOpen || state !== 'exited') && highlightDetails && React.createElement(ChartPopover, {\n    ref: popoverRef,\n    title: highlightDetails.position,\n    trackRef: trackRef,\n    trackKey: highlightDetails.position,\n    dismissButton: isPinned,\n    dismissAriaLabel: dismissAriaLabel,\n    onDismiss: onDismiss,\n    container: containerRef.current,\n    size: size,\n    onMouseEnter: onMouseEnter,\n    onMouseLeave: onMouseLeave,\n    onBlur: onBlur\n  }, React.createElement(ChartSeriesDetails, {\n    key: highlightDetails.position,\n    details: highlightDetails.details,\n    setPopoverText: setPopoverText,\n    expandedSeries: expandedSeries[highlightDetails.position],\n    setExpandedState: (id, isExpanded) => setExpandedSeries(oldState => {\n      const expandedSeriesInCurrentCoordinate = new Set(oldState[highlightDetails.position]);\n      if (isExpanded) {\n        expandedSeriesInCurrentCoordinate.add(id);\n      } else {\n        expandedSeriesInCurrentCoordinate.delete(id);\n      }\n      return Object.assign(Object.assign({}, oldState), {\n        [highlightDetails.position]: expandedSeriesInCurrentCoordinate\n      });\n    })\n  }), footer && React.createElement(ChartPopoverFooter, null, footer))));\n}","map":{"version":3,"names":["React","useState","clsx","ChartPopover","ChartPopoverFooter","ChartSeriesDetails","Transition","styles","forwardRef","MixedChartPopover","_ref","popoverRef","containerRef","trackRef","isOpen","isPinned","highlightDetails","footer","onDismiss","size","dismissAriaLabel","onMouseEnter","onMouseLeave","onBlur","setPopoverText","expandedSeries","setExpandedSeries","createElement","in","state","ref","className","exiting","title","position","trackKey","dismissButton","container","current","key","details","setExpandedState","id","isExpanded","oldState","expandedSeriesInCurrentCoordinate","Set","add","delete","Object","assign"],"sources":["/Users/sohailsajid/Desktop/threat-modeling-app/node_modules/src/mixed-line-bar-chart/chart-popover.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useState } from 'react';\nimport clsx from 'clsx';\n\nimport ChartPopover from '../internal/components/chart-popover';\nimport ChartPopoverFooter from '../internal/components/chart-popover-footer';\nimport ChartSeriesDetails, { ExpandedSeries } from '../internal/components/chart-series-details';\nimport { Transition } from '../internal/components/transition';\nimport { HighlightDetails } from './format-highlighted';\nimport { ChartDataTypes, MixedLineBarChartProps } from './interfaces';\n\nimport styles from './styles.css.js';\n\nexport interface MixedChartPopoverProps<T extends ChartDataTypes> {\n  containerRef: React.RefObject<HTMLDivElement>;\n  trackRef: React.RefObject<SVGElement>;\n  isOpen: boolean;\n  isPinned: boolean;\n  highlightDetails: null | HighlightDetails;\n  onDismiss(): void;\n  size: MixedLineBarChartProps<T>['detailPopoverSize'];\n  footer?: React.ReactNode;\n  dismissAriaLabel?: string;\n  onMouseEnter?: (event: React.MouseEvent) => void;\n  onMouseLeave?: (event: React.MouseEvent) => void;\n  onBlur?: (event: React.FocusEvent) => void;\n  setPopoverText: (s: string) => void;\n}\n\nexport default React.forwardRef(MixedChartPopover);\n\nfunction MixedChartPopover<T extends ChartDataTypes>(\n  {\n    containerRef,\n    trackRef,\n    isOpen,\n    isPinned,\n    highlightDetails,\n    footer,\n    onDismiss,\n    size = 'medium',\n    dismissAriaLabel,\n    onMouseEnter,\n    onMouseLeave,\n    onBlur,\n    setPopoverText,\n  }: MixedChartPopoverProps<T>,\n  popoverRef: React.Ref<HTMLElement>\n) {\n  const [expandedSeries, setExpandedSeries] = useState<Record<string, ExpandedSeries>>({});\n  return (\n    <Transition in={isOpen}>\n      {(state, ref) => (\n        <div ref={ref} className={clsx(state === 'exiting' && styles.exiting)}>\n          {(isOpen || state !== 'exited') && highlightDetails && (\n            <ChartPopover\n              ref={popoverRef}\n              title={highlightDetails.position}\n              trackRef={trackRef}\n              trackKey={highlightDetails.position}\n              dismissButton={isPinned}\n              dismissAriaLabel={dismissAriaLabel}\n              onDismiss={onDismiss}\n              container={containerRef.current}\n              size={size}\n              onMouseEnter={onMouseEnter}\n              onMouseLeave={onMouseLeave}\n              onBlur={onBlur}\n            >\n              <ChartSeriesDetails\n                key={highlightDetails.position}\n                details={highlightDetails.details}\n                setPopoverText={setPopoverText}\n                expandedSeries={expandedSeries[highlightDetails.position]}\n                setExpandedState={(id, isExpanded) =>\n                  setExpandedSeries(oldState => {\n                    const expandedSeriesInCurrentCoordinate = new Set(oldState[highlightDetails.position]);\n                    if (isExpanded) {\n                      expandedSeriesInCurrentCoordinate.add(id);\n                    } else {\n                      expandedSeriesInCurrentCoordinate.delete(id);\n                    }\n                    return {\n                      ...oldState,\n                      [highlightDetails.position]: expandedSeriesInCurrentCoordinate,\n                    };\n                  })\n                }\n              />\n              {footer && <ChartPopoverFooter>{footer}</ChartPopoverFooter>}\n            </ChartPopover>\n          )}\n        </div>\n      )}\n    </Transition>\n  );\n}\n"],"mappings":"AAAA;AACA;AACA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,IAAI,MAAM,MAAM;AAEvB,OAAOC,YAAY,MAAM,sCAAsC;AAC/D,OAAOC,kBAAkB,MAAM,6CAA6C;AAC5E,OAAOC,kBAAsC,MAAM,6CAA6C;AAChG,SAASC,UAAU,QAAQ,mCAAmC;AAI9D,OAAOC,MAAM,MAAM,iBAAiB;AAkBpC,eAAeP,KAAK,CAACQ,UAAU,CAACC,iBAAiB,CAAC;AAElD,SAASA,iBAAiBA,CAAAC,IAAA,EAgBxBC,UAAkC;EAAA,IAflC;IACEC,YAAY;IACZC,QAAQ;IACRC,MAAM;IACNC,QAAQ;IACRC,gBAAgB;IAChBC,MAAM;IACNC,SAAS;IACTC,IAAI,GAAG,QAAQ;IACfC,gBAAgB;IAChBC,YAAY;IACZC,YAAY;IACZC,MAAM;IACNC;EAAc,CACY,GAAAd,IAAA;EAG5B,MAAM,CAACe,cAAc,EAAEC,iBAAiB,CAAC,GAAGzB,QAAQ,CAAiC,EAAE,CAAC;EACxF,OACED,KAAA,CAAA2B,aAAA,CAACrB,UAAU;IAACsB,EAAE,EAAEd;EAAM,GACnB,CAACe,KAAK,EAAEC,GAAG,KACV9B,KAAA,CAAA2B,aAAA;IAAKG,GAAG,EAAEA,GAAG;IAAEC,SAAS,EAAE7B,IAAI,CAAC2B,KAAK,KAAK,SAAS,IAAItB,MAAM,CAACyB,OAAO;EAAC,GAClE,CAAClB,MAAM,IAAIe,KAAK,KAAK,QAAQ,KAAKb,gBAAgB,IACjDhB,KAAA,CAAA2B,aAAA,CAACxB,YAAY;IACX2B,GAAG,EAAEnB,UAAU;IACfsB,KAAK,EAAEjB,gBAAgB,CAACkB,QAAQ;IAChCrB,QAAQ,EAAEA,QAAQ;IAClBsB,QAAQ,EAAEnB,gBAAgB,CAACkB,QAAQ;IACnCE,aAAa,EAAErB,QAAQ;IACvBK,gBAAgB,EAAEA,gBAAgB;IAClCF,SAAS,EAAEA,SAAS;IACpBmB,SAAS,EAAEzB,YAAY,CAAC0B,OAAO;IAC/BnB,IAAI,EAAEA,IAAI;IACVE,YAAY,EAAEA,YAAY;IAC1BC,YAAY,EAAEA,YAAY;IAC1BC,MAAM,EAAEA;EAAM,GAEdvB,KAAA,CAAA2B,aAAA,CAACtB,kBAAkB;IACjBkC,GAAG,EAAEvB,gBAAgB,CAACkB,QAAQ;IAC9BM,OAAO,EAAExB,gBAAgB,CAACwB,OAAO;IACjChB,cAAc,EAAEA,cAAc;IAC9BC,cAAc,EAAEA,cAAc,CAACT,gBAAgB,CAACkB,QAAQ,CAAC;IACzDO,gBAAgB,EAAEA,CAACC,EAAE,EAAEC,UAAU,KAC/BjB,iBAAiB,CAACkB,QAAQ,IAAG;MAC3B,MAAMC,iCAAiC,GAAG,IAAIC,GAAG,CAACF,QAAQ,CAAC5B,gBAAgB,CAACkB,QAAQ,CAAC,CAAC;MACtF,IAAIS,UAAU,EAAE;QACdE,iCAAiC,CAACE,GAAG,CAACL,EAAE,CAAC;OAC1C,MAAM;QACLG,iCAAiC,CAACG,MAAM,CAACN,EAAE,CAAC;;MAE9C,OAAAO,MAAA,CAAAC,MAAA,CAAAD,MAAA,CAAAC,MAAA,KACKN,QAAQ;QACX,CAAC5B,gBAAgB,CAACkB,QAAQ,GAAGW;MAAiC;IAElE,CAAC;EAAC,EAEJ,EACD5B,MAAM,IAAIjB,KAAA,CAAA2B,aAAA,CAACvB,kBAAkB,QAAEa,MAAM,CAAsB,CAE/D,CAEJ,CACU;AAEjB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}