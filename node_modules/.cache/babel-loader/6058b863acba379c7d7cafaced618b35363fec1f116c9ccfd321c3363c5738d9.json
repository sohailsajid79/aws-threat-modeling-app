{"ast":null,"code":"import _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _toArray from \"@babel/runtime/helpers/toArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _typeof from \"@babel/runtime/helpers/typeof\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nvar _excluded = [\"when\"];\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nvar mergeFunctionTrigger = function mergeFunctionTrigger(fn, field) {\n  var internalTriggers = [];\n  var internalWhen = fn(field);\n  if (Array.isArray(internalWhen)) {\n    internalTriggers = _toConsumableArray(internalWhen);\n  } else {\n    internalTriggers.push(internalWhen);\n  }\n  return internalTriggers;\n};\nvar getConditionTriggers = function getConditionTriggers(condition, field) {\n  var conditionMapper = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var triggers = [];\n  if (Array.isArray(condition)) {\n    return condition.reduce(function (acc, item) {\n      return [].concat(_toConsumableArray(acc), _toConsumableArray(getConditionTriggers(item, field, conditionMapper)));\n    }, []);\n  } // extract mapped attributes to a new static condition object\n\n  if (_typeof(condition.mappedAttributes) === 'object') {\n    try {\n      var newCondition = _objectSpread(_objectSpread({}, condition), {}, {\n        mappedAttributes: undefined\n      });\n      Object.entries(condition.mappedAttributes).forEach(function (_ref) {\n        var _ref2 = _slicedToArray(_ref, 2),\n          attribute = _ref2[0],\n          _ref2$ = _toArray(_ref2[1]),\n          functionName = _ref2$[0],\n          args = _ref2$.slice(1);\n        if (!conditionMapper[functionName]) {\n          throw new Error(\"Missing condition mapper function \\\"\".concat(functionName, \"\\\" for field \").concat(field.name, \"!\"));\n        }\n        newCondition[attribute] = conditionMapper[functionName].apply(conditionMapper, _toConsumableArray(args));\n      });\n      return getConditionTriggers(newCondition, field, conditionMapper);\n    } catch (error) {\n      console.error(error.toString());\n    }\n  }\n  var when = condition.when,\n    rest = _objectWithoutProperties(condition, _excluded);\n  var nestedKeys = ['and', 'or', 'sequence'];\n  if (typeof when === 'string') {\n    triggers = [].concat(_toConsumableArray(triggers), [when]);\n  }\n  if (typeof when === 'function') {\n    triggers = [].concat(_toConsumableArray(triggers), _toConsumableArray(mergeFunctionTrigger(when, field)));\n  }\n  if (Array.isArray(when)) {\n    when.forEach(function (item) {\n      if (typeof item === 'string') {\n        triggers = [].concat(_toConsumableArray(triggers), [item]);\n      }\n      if (typeof item === 'function') {\n        triggers = [].concat(_toConsumableArray(triggers), _toConsumableArray(mergeFunctionTrigger(item, field)));\n      }\n    });\n  }\n  nestedKeys.forEach(function (key) {\n    if (typeof rest[key] !== 'undefined') {\n      rest[key].forEach(function (item) {\n        triggers = [].concat(_toConsumableArray(triggers), _toConsumableArray(getConditionTriggers(item, field, conditionMapper)));\n      });\n    }\n  });\n  if (_typeof(condition.not) === 'object') {\n    triggers = [].concat(_toConsumableArray(triggers), _toConsumableArray(getConditionTriggers(condition.not, field, conditionMapper)));\n  }\n  return Array.from(new Set(triggers));\n};\nexport default getConditionTriggers;","map":{"version":3,"names":["_objectWithoutProperties","_toArray","_slicedToArray","_defineProperty","_typeof","_toConsumableArray","_excluded","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","mergeFunctionTrigger","fn","field","internalTriggers","internalWhen","Array","isArray","getConditionTriggers","condition","conditionMapper","undefined","triggers","reduce","acc","item","concat","mappedAttributes","newCondition","entries","_ref","_ref2","attribute","_ref2$","functionName","args","slice","Error","name","error","console","toString","when","rest","nestedKeys","not","from","Set"],"sources":["/Users/sohailsajid/Desktop/threat-modeling-app/node_modules/@data-driven-forms/react-form-renderer/esm/get-condition-triggers/get-condition-triggers.js"],"sourcesContent":["import _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _toArray from \"@babel/runtime/helpers/toArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _typeof from \"@babel/runtime/helpers/typeof\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nvar _excluded = [\"when\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nvar mergeFunctionTrigger = function mergeFunctionTrigger(fn, field) {\n  var internalTriggers = [];\n  var internalWhen = fn(field);\n\n  if (Array.isArray(internalWhen)) {\n    internalTriggers = _toConsumableArray(internalWhen);\n  } else {\n    internalTriggers.push(internalWhen);\n  }\n\n  return internalTriggers;\n};\n\nvar getConditionTriggers = function getConditionTriggers(condition, field) {\n  var conditionMapper = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var triggers = [];\n\n  if (Array.isArray(condition)) {\n    return condition.reduce(function (acc, item) {\n      return [].concat(_toConsumableArray(acc), _toConsumableArray(getConditionTriggers(item, field, conditionMapper)));\n    }, []);\n  } // extract mapped attributes to a new static condition object\n\n\n  if (_typeof(condition.mappedAttributes) === 'object') {\n    try {\n      var newCondition = _objectSpread(_objectSpread({}, condition), {}, {\n        mappedAttributes: undefined\n      });\n\n      Object.entries(condition.mappedAttributes).forEach(function (_ref) {\n        var _ref2 = _slicedToArray(_ref, 2),\n            attribute = _ref2[0],\n            _ref2$ = _toArray(_ref2[1]),\n            functionName = _ref2$[0],\n            args = _ref2$.slice(1);\n\n        if (!conditionMapper[functionName]) {\n          throw new Error(\"Missing condition mapper function \\\"\".concat(functionName, \"\\\" for field \").concat(field.name, \"!\"));\n        }\n\n        newCondition[attribute] = conditionMapper[functionName].apply(conditionMapper, _toConsumableArray(args));\n      });\n      return getConditionTriggers(newCondition, field, conditionMapper);\n    } catch (error) {\n      console.error(error.toString());\n    }\n  }\n\n  var when = condition.when,\n      rest = _objectWithoutProperties(condition, _excluded);\n\n  var nestedKeys = ['and', 'or', 'sequence'];\n\n  if (typeof when === 'string') {\n    triggers = [].concat(_toConsumableArray(triggers), [when]);\n  }\n\n  if (typeof when === 'function') {\n    triggers = [].concat(_toConsumableArray(triggers), _toConsumableArray(mergeFunctionTrigger(when, field)));\n  }\n\n  if (Array.isArray(when)) {\n    when.forEach(function (item) {\n      if (typeof item === 'string') {\n        triggers = [].concat(_toConsumableArray(triggers), [item]);\n      }\n\n      if (typeof item === 'function') {\n        triggers = [].concat(_toConsumableArray(triggers), _toConsumableArray(mergeFunctionTrigger(item, field)));\n      }\n    });\n  }\n\n  nestedKeys.forEach(function (key) {\n    if (typeof rest[key] !== 'undefined') {\n      rest[key].forEach(function (item) {\n        triggers = [].concat(_toConsumableArray(triggers), _toConsumableArray(getConditionTriggers(item, field, conditionMapper)));\n      });\n    }\n  });\n\n  if (_typeof(condition.not) === 'object') {\n    triggers = [].concat(_toConsumableArray(triggers), _toConsumableArray(getConditionTriggers(condition.not, field, conditionMapper)));\n  }\n\n  return Array.from(new Set(triggers));\n};\n\nexport default getConditionTriggers;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}