{"ast":null,"code":"/** *******************************************************************************************************************\n  Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n\n  Licensed under the Apache License, Version 2.0 (the \"License\").\n  You may not use this file except in compliance with the License.\n  You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n  Unless required by applicable law or agreed to in writing, software\n  distributed under the License is distributed on an \"AS IS\" BASIS,\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  See the License for the specific language governing permissions and\n  limitations under the License.\n ******************************************************************************************************************** *//** @jsxImportSource @emotion/react */import Box from'@cloudscape-design/components/box';import Button from'@cloudscape-design/components/button';import Header from'@cloudscape-design/components/header';import Popover from'@cloudscape-design/components/popover';import SpaceBetween from'@cloudscape-design/components/space-between';import Spinner from'@cloudscape-design/components/spinner';import StatusIndicator from'@cloudscape-design/components/status-indicator';import*as awsui from'@cloudscape-design/design-tokens';import{css}from'@emotion/react';import{useEffect,useCallback,useState}from'react';import printStyles from'../../../../../styles/print';import downloadContentAsMarkdown from'../../../../../utils/downloadObjectAsMarkdown';import sanitizeHtml from'../../../../../utils/sanitizeHtml';import MarkdownViewer from'../../../../generic/MarkdownViewer';import{getApplicationInfoContent}from'../../utils/getApplicationInfo';import{getApplicationName}from'../../utils/getApplicationName';import{getArchitectureContent}from'../../utils/getArchitecture';import{getAssetsContent}from'../../utils/getAssets';import{getAssumptionsContent}from'../../utils/getAssumptions';import{getControlsContent}from'../../utils/getControls';//import { getDataflowContent } from '../../utils/getDataFlow';\nimport{getMitigationsContent}from'../../utils/getMitigations';import{getThreatsContent}from'../../utils/getThreats';import{jsx as _jsx,jsxs as _jsxs}from\"@emotion/react/jsx-runtime\";const styles={text:css({display:'flex',alignItems:'center',height:'100%'}),nextStepsContainer:css({borderTop:`2px solid ${awsui.colorBorderDividerDefault}`,paddingTop:awsui.spaceScaledS}),noData:css({textAlign:'center',width:'100%'})};const ThreatModelView=_ref=>{let{data,isPreview=false,composerMode,downloadFileName,onPrintButtonClick,hasContentDetails,...props}=_ref;const[content,setContent]=useState('');const[loading,setLoading]=useState(true);useEffect(()=>{const updateContent=async()=>{setLoading(true);const sanitizedData=sanitizeHtml(data);const processedContent=(composerMode==='Full'?[(!hasContentDetails||hasContentDetails.applicationName)&&(await getApplicationName(sanitizedData)),(!hasContentDetails||hasContentDetails.applicationInfo)&&(await getApplicationInfoContent(sanitizedData)),(!hasContentDetails||hasContentDetails.architecture)&&(await getArchitectureContent(sanitizedData)),//(!hasContentDetails || hasContentDetails.dataflow) && await getDataflowContent(sanitizedData),\n(!hasContentDetails||hasContentDetails.assumptions)&&(await getAssumptionsContent(sanitizedData)),(!hasContentDetails||hasContentDetails.threats)&&(await getThreatsContent(sanitizedData)),(!hasContentDetails||hasContentDetails.controls)&&(await getControlsContent(sanitizedData)),(!hasContentDetails||hasContentDetails.mitigations)&&(await getMitigationsContent(sanitizedData)),(!hasContentDetails||hasContentDetails.threats)&&(await getAssetsContent(sanitizedData))]:[await getThreatsContent(sanitizedData,true)]).filter(x=>!!x).join('\\n');setContent(processedContent);setLoading(false);};updateContent().catch(err=>console.log('Error',err));},[data,composerMode,hasContentDetails]);const handleCopyMarkdown=useCallback(async()=>{await navigator.clipboard.writeText(content);},[content]);const handleDownloadMarkdown=useCallback(()=>{downloadFileName&&downloadContentAsMarkdown(content,downloadFileName);},[content,downloadFileName]);const getNextStepButtons=useCallback(()=>{const buttons=[];if(!(hasContentDetails!==null&&hasContentDetails!==void 0&&hasContentDetails.applicationInfo)){buttons.push(_jsx(Button,{onClick:props.onApplicationInfoView,children:\"Add Application Info\"},'appInfoBtn'));}if(!(hasContentDetails!==null&&hasContentDetails!==void 0&&hasContentDetails.architecture)){buttons.push(_jsx(Button,{onClick:props.onArchitectureView,children:\"Add Architecture\"},'architectureViewBtn'));}//if (!hasContentDetails?.diagram) {\n//  buttons.push(<Button key='diagramViewBtn' onClick={props.onDiagramView}>Add Diagram</Button>);\n//}\nif(!(hasContentDetails!==null&&hasContentDetails!==void 0&&hasContentDetails.assumptions)){buttons.push(_jsx(Button,{onClick:props.onAssumptionListView,children:\"Add Assumptions\"},'assumptionsViewBtn'));}if(!(hasContentDetails!==null&&hasContentDetails!==void 0&&hasContentDetails.threats)){buttons.push(_jsx(Button,{onClick:()=>{var _props$onThreatListVi;return(_props$onThreatListVi=props.onThreatListView)===null||_props$onThreatListVi===void 0?void 0:_props$onThreatListVi.call(props);},children:\"Add Threats\"},'threatListViewBtn'));}if(!(hasContentDetails!==null&&hasContentDetails!==void 0&&hasContentDetails.controls)){buttons.push(_jsx(Button,{onClick:props.onControlListView,children:\"Add Security Controls\"},'controlsViewBtn'));}if(!(hasContentDetails!==null&&hasContentDetails!==void 0&&hasContentDetails.threats)){buttons.push(_jsx(Button,{onClick:props.onMitigationListView,children:\"Add Mitigations\"},'mitigationsViewBtn'));}const len=buttons.length;return buttons.flatMap((b,index)=>index===len-1?_jsx(Box,{children:b}):[b,_jsx(Box,{fontWeight:\"bold\",css:styles.text,children:\"or\"})]);},[hasContentDetails,props]);return _jsx(\"div\",{children:_jsxs(SpaceBetween,{direction:\"vertical\",size:\"s\",children:[_jsx(\"div\",{css:printStyles.hiddenPrint,children:_jsx(Header,{actions:_jsxs(SpaceBetween,{direction:\"horizontal\",size:\"xs\",children:[_jsx(Popover,{dismissButton:false,position:\"top\",size:\"small\",triggerType:\"custom\",content:_jsx(StatusIndicator,{type:\"success\",children:\"Content copied\"}),children:_jsx(Button,{onClick:handleCopyMarkdown,children:\"Copy as Markdown\"},'handleCopyMarkdownBtn')}),downloadFileName&&_jsx(Button,{onClick:handleDownloadMarkdown,children:\"Download as Markdown File\"},'handleDownloadMarkdownBtn'),_jsx(Button,{variant:\"primary\",onClick:onPrintButtonClick||(()=>window.print()),children:\"Print\"},'onPrintButtonClickBtn')]})})}),content?_jsx(MarkdownViewer,{allowHtml:true,children:content}):_jsx(Box,{fontSize:\"body-m\",margin:\"xxl\",fontWeight:\"bold\",css:styles.noData,children:loading?_jsx(Spinner,{}):'No data available'},'boxNoDataAvailable'),!isPreview&&composerMode==='Full'&&hasContentDetails&&Object.values(hasContentDetails).some(x=>!x)&&_jsx(\"div\",{css:printStyles.hiddenPrint,children:_jsx(Box,{css:styles.nextStepsContainer,children:_jsxs(SpaceBetween,{direction:\"horizontal\",size:\"xs\",children:[_jsx(Box,{fontWeight:\"bold\",css:styles.text,children:\"Suggested next steps: \"},'boxSuggestedSteps'),getNextStepButtons()]})})})]})});};export default ThreatModelView;","map":{"version":3,"names":["Box","Button","Header","Popover","SpaceBetween","Spinner","StatusIndicator","awsui","css","useEffect","useCallback","useState","printStyles","downloadContentAsMarkdown","sanitizeHtml","MarkdownViewer","getApplicationInfoContent","getApplicationName","getArchitectureContent","getAssetsContent","getAssumptionsContent","getControlsContent","getMitigationsContent","getThreatsContent","jsx","_jsx","jsxs","_jsxs","styles","text","display","alignItems","height","nextStepsContainer","borderTop","colorBorderDividerDefault","paddingTop","spaceScaledS","noData","textAlign","width","ThreatModelView","_ref","data","isPreview","composerMode","downloadFileName","onPrintButtonClick","hasContentDetails","props","content","setContent","loading","setLoading","updateContent","sanitizedData","processedContent","applicationName","applicationInfo","architecture","assumptions","threats","controls","mitigations","filter","x","join","catch","err","console","log","handleCopyMarkdown","navigator","clipboard","writeText","handleDownloadMarkdown","getNextStepButtons","buttons","push","onClick","onApplicationInfoView","children","onArchitectureView","onAssumptionListView","_props$onThreatListVi","onThreatListView","call","onControlListView","onMitigationListView","len","length","flatMap","b","index","fontWeight","direction","size","hiddenPrint","actions","dismissButton","position","triggerType","type","variant","window","print","allowHtml","fontSize","margin","Object","values","some"],"sources":["/Users/sohailsajid/Desktop/threat-modeling-app/src/components/report/ThreatModel/components/ThreatModelView/index.tsx"],"sourcesContent":["/** *******************************************************************************************************************\n  Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n\n  Licensed under the Apache License, Version 2.0 (the \"License\").\n  You may not use this file except in compliance with the License.\n  You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n  Unless required by applicable law or agreed to in writing, software\n  distributed under the License is distributed on an \"AS IS\" BASIS,\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  See the License for the specific language governing permissions and\n  limitations under the License.\n ******************************************************************************************************************** */\n\n/** @jsxImportSource @emotion/react */\nimport Box from '@cloudscape-design/components/box';\nimport Button from '@cloudscape-design/components/button';\nimport Header from '@cloudscape-design/components/header';\nimport Popover from '@cloudscape-design/components/popover';\nimport SpaceBetween from '@cloudscape-design/components/space-between';\nimport Spinner from '@cloudscape-design/components/spinner';\nimport StatusIndicator from '@cloudscape-design/components/status-indicator';\nimport * as awsui from '@cloudscape-design/design-tokens';\nimport { css } from '@emotion/react';\nimport { FC, useEffect, useCallback, useState, ReactNode } from 'react';\nimport { DataExchangeFormat, HasContentDetails, ViewNavigationEvent } from '../../../../../customTypes';\nimport printStyles from '../../../../../styles/print';\nimport downloadContentAsMarkdown from '../../../../../utils/downloadObjectAsMarkdown';\nimport sanitizeHtml from '../../../../../utils/sanitizeHtml';\nimport MarkdownViewer from '../../../../generic/MarkdownViewer';\nimport { getApplicationInfoContent } from '../../utils/getApplicationInfo';\nimport { getApplicationName } from '../../utils/getApplicationName';\nimport { getArchitectureContent } from '../../utils/getArchitecture';\nimport { getAssetsContent } from '../../utils/getAssets';\nimport { getAssumptionsContent } from '../../utils/getAssumptions';\nimport { getControlsContent } from '../../utils/getControls';\n//import { getDataflowContent } from '../../utils/getDataFlow';\nimport { getMitigationsContent } from '../../utils/getMitigations';\nimport { getThreatsContent } from '../../utils/getThreats';\n\nconst styles = {\n  text: css({\n    display: 'flex',\n    alignItems: 'center',\n    height: '100%',\n  }),\n  nextStepsContainer: css({\n    borderTop: `2px solid ${awsui.colorBorderDividerDefault}`,\n    paddingTop: awsui.spaceScaledS,\n  }),\n  noData: css({\n    textAlign: 'center',\n    width: '100%',\n  }),\n};\n\nexport interface ThreatModelViewProps extends ViewNavigationEvent {\n  isPreview?: boolean;\n  composerMode: string;\n  data: DataExchangeFormat;\n  downloadFileName?: string;\n  onPrintButtonClick?: () => void;\n  hasContentDetails?: HasContentDetails;\n}\n\nconst ThreatModelView: FC<ThreatModelViewProps> = ({\n  data,\n  isPreview = false,\n  composerMode,\n  downloadFileName,\n  onPrintButtonClick,\n  hasContentDetails,\n  ...props\n}) => {\n  const [content, setContent] = useState('');\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const updateContent = async () => {\n      setLoading(true);\n      const sanitizedData = sanitizeHtml(data);\n      const processedContent = (composerMode === 'Full' ? [\n        (!hasContentDetails || hasContentDetails.applicationName) && await getApplicationName(sanitizedData),\n        (!hasContentDetails || hasContentDetails.applicationInfo) && await getApplicationInfoContent(sanitizedData),\n        (!hasContentDetails || hasContentDetails.architecture) && await getArchitectureContent(sanitizedData),\n        //(!hasContentDetails || hasContentDetails.dataflow) && await getDataflowContent(sanitizedData),\n        (!hasContentDetails || hasContentDetails.assumptions) && await getAssumptionsContent(sanitizedData),\n        (!hasContentDetails || hasContentDetails.threats) && await getThreatsContent(sanitizedData),\n        (!hasContentDetails || hasContentDetails.controls) && await getControlsContent(sanitizedData),\n        (!hasContentDetails || hasContentDetails.mitigations) && await getMitigationsContent(sanitizedData),\n        (!hasContentDetails || hasContentDetails.threats) && await getAssetsContent(sanitizedData),\n      ] : [await getThreatsContent(sanitizedData, true)]).filter(x => !!x).join('\\n');\n\n      setContent(processedContent);\n      setLoading(false);\n    };\n\n    updateContent().catch(err => console.log('Error', err));\n  }, [data, composerMode, hasContentDetails]);\n\n  const handleCopyMarkdown = useCallback(async () => {\n    await navigator.clipboard.writeText(content);\n  }, [content]);\n\n  const handleDownloadMarkdown = useCallback(() => {\n    downloadFileName && downloadContentAsMarkdown(content, downloadFileName);\n  }, [content, downloadFileName]);\n\n  const getNextStepButtons = useCallback(() => {\n    const buttons: ReactNode[] = [];\n    if (!hasContentDetails?.applicationInfo) {\n      buttons.push(<Button key='appInfoBtn' onClick={props.onApplicationInfoView}>Add Application Info</Button>);\n    }\n    if (!hasContentDetails?.architecture) {\n      buttons.push(<Button key='architectureViewBtn' onClick={props.onArchitectureView}>Add Architecture</Button>);\n    }\n    //if (!hasContentDetails?.diagram) {\n    //  buttons.push(<Button key='diagramViewBtn' onClick={props.onDiagramView}>Add Diagram</Button>);\n    //}\n    if (!hasContentDetails?.assumptions) {\n      buttons.push(<Button key='assumptionsViewBtn' onClick={props.onAssumptionListView}>Add Assumptions</Button>);\n    }\n    if (!hasContentDetails?.threats) {\n      buttons.push(<Button key='threatListViewBtn' onClick={() => props.onThreatListView?.()}>Add Threats</Button>);\n    }\n    if (!hasContentDetails?.controls) {\n      buttons.push(<Button key='controlsViewBtn' onClick={props.onControlListView}>Add Security Controls</Button>);\n    }\n    if (!hasContentDetails?.threats) {\n      buttons.push(<Button key='mitigationsViewBtn' onClick={props.onMitigationListView}>Add Mitigations</Button>);\n    }\n    const len = buttons.length;\n    return buttons.flatMap((b, index) => index === len - 1 ? <Box>{b}</Box> : [b, <Box fontWeight=\"bold\" css={styles.text}>or</Box>]);\n  }, [hasContentDetails, props]);\n\n  return (<div>\n    <SpaceBetween direction='vertical' size='s'>\n      <div css={printStyles.hiddenPrint}><Header\n        actions={\n          <SpaceBetween direction=\"horizontal\" size=\"xs\">\n            <Popover\n              dismissButton={false}\n              position=\"top\"\n              size=\"small\"\n              triggerType=\"custom\"\n              content={\n                <StatusIndicator type=\"success\">\n                  Content copied\n                </StatusIndicator>\n              }\n            >\n              <Button\n                key='handleCopyMarkdownBtn'\n                onClick={handleCopyMarkdown}>\n                Copy as Markdown\n              </Button>\n            </Popover>\n            {downloadFileName && <Button\n              key='handleDownloadMarkdownBtn'\n              onClick={handleDownloadMarkdown}>\n              Download as Markdown File\n            </Button>}\n            <Button key='onPrintButtonClickBtn' variant=\"primary\" onClick={onPrintButtonClick || (() => window.print())}>Print</Button>\n          </SpaceBetween>\n        }\n      >\n      </Header></div>\n      {content ?\n        (<MarkdownViewer allowHtml>{content}</MarkdownViewer>) :\n        (<Box key='boxNoDataAvailable' fontSize='body-m' margin='xxl' fontWeight=\"bold\" css={styles.noData}>{loading ? <Spinner /> : 'No data available'}</Box>)\n      }\n      {!isPreview && composerMode === 'Full' && hasContentDetails && Object.values(hasContentDetails).some(x => !x) && <div css={printStyles.hiddenPrint}>\n        <Box css={styles.nextStepsContainer}>\n          <SpaceBetween direction=\"horizontal\" size=\"xs\">\n            <Box key='boxSuggestedSteps' fontWeight=\"bold\" css={styles.text}>Suggested next steps: </Box>\n            {getNextStepButtons()}\n          </SpaceBetween>\n        </Box>\n      </div>}\n    </SpaceBetween>\n  </div>);\n};\n\nexport default ThreatModelView;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}