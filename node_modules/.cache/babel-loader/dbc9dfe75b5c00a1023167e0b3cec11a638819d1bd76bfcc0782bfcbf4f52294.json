{"ast":null,"code":"import { createFilterPredicate } from './filter.js';\nimport { createPropertyFilterPredicate } from './property-filter.js';\nimport { createComparator } from './sort.js';\nimport { createPageProps } from './pagination.js';\nimport { ItemsTree } from './items-tree.js';\nimport { composeFilters } from './compose-filters.js';\nexport function processItems(items, _a, _b) {\n  var filteringText = _a.filteringText,\n    sortingState = _a.sortingState,\n    currentPageIndex = _a.currentPageIndex,\n    propertyFilteringQuery = _a.propertyFilteringQuery;\n  var filtering = _b.filtering,\n    sorting = _b.sorting,\n    pagination = _b.pagination,\n    propertyFiltering = _b.propertyFiltering,\n    expandableRows = _b.expandableRows;\n  var itemsTree = new ItemsTree(items, expandableRows);\n  var filterPredicate = composeFilters(createPropertyFilterPredicate(propertyFiltering, propertyFilteringQuery), createFilterPredicate(filtering, filteringText));\n  if (filterPredicate) {\n    itemsTree.filter(filterPredicate);\n  }\n  var comparator = createComparator(sorting, sortingState);\n  if (comparator) {\n    itemsTree.sort(comparator);\n  }\n  var allPageItems = itemsTree.getItems();\n  var filteredItemsCount = filterPredicate ? itemsTree.getSize() : undefined;\n  var pageProps = createPageProps(pagination, currentPageIndex, allPageItems);\n  if (pageProps) {\n    return {\n      items: allPageItems.slice((pageProps.pageIndex - 1) * pageProps.pageSize, pageProps.pageIndex * pageProps.pageSize),\n      allPageItems: allPageItems,\n      filteredItemsCount: filteredItemsCount,\n      pagesCount: pageProps === null || pageProps === void 0 ? void 0 : pageProps.pagesCount,\n      actualPageIndex: pageProps === null || pageProps === void 0 ? void 0 : pageProps.pageIndex,\n      itemsTree: itemsTree\n    };\n  }\n  return {\n    items: allPageItems,\n    allPageItems: allPageItems,\n    filteredItemsCount: filteredItemsCount,\n    pagesCount: undefined,\n    actualPageIndex: undefined,\n    itemsTree: itemsTree\n  };\n}\nexport var getTrackableValue = function (trackBy, item) {\n  if (!trackBy) {\n    return item;\n  }\n  if (typeof trackBy === 'function') {\n    return trackBy(item);\n  }\n  return item[trackBy];\n};\nexport var processSelectedItems = function (items, selectedItems, trackBy) {\n  var selectedSet = new Set();\n  selectedItems.forEach(function (item) {\n    return selectedSet.add(getTrackableValue(trackBy, item));\n  });\n  return items.filter(function (item) {\n    return selectedSet.has(getTrackableValue(trackBy, item));\n  });\n};\nexport var itemsAreEqual = function (items1, items2, trackBy) {\n  if (items1.length !== items2.length) {\n    return false;\n  }\n  var set1 = new Set();\n  items1.forEach(function (item) {\n    return set1.add(getTrackableValue(trackBy, item));\n  });\n  return items2.every(function (item) {\n    return set1.has(getTrackableValue(trackBy, item));\n  });\n};","map":{"version":3,"names":["createFilterPredicate","createPropertyFilterPredicate","createComparator","createPageProps","ItemsTree","composeFilters","processItems","items","_a","_b","filteringText","sortingState","currentPageIndex","propertyFilteringQuery","filtering","sorting","pagination","propertyFiltering","expandableRows","itemsTree","filterPredicate","filter","comparator","sort","allPageItems","getItems","filteredItemsCount","getSize","undefined","pageProps","slice","pageIndex","pageSize","pagesCount","actualPageIndex","getTrackableValue","trackBy","item","processSelectedItems","selectedItems","selectedSet","Set","forEach","add","has","itemsAreEqual","items1","items2","length","set1","every"],"sources":["/Users/sohailsajid/Desktop/threat-modeling-app/node_modules/@cloudscape-design/collection-hooks/mjs/operations/index.js"],"sourcesContent":["import { createFilterPredicate } from './filter.js';\nimport { createPropertyFilterPredicate } from './property-filter.js';\nimport { createComparator } from './sort.js';\nimport { createPageProps } from './pagination.js';\nimport { ItemsTree } from './items-tree.js';\nimport { composeFilters } from './compose-filters.js';\nexport function processItems(items, _a, _b) {\n    var filteringText = _a.filteringText, sortingState = _a.sortingState, currentPageIndex = _a.currentPageIndex, propertyFilteringQuery = _a.propertyFilteringQuery;\n    var filtering = _b.filtering, sorting = _b.sorting, pagination = _b.pagination, propertyFiltering = _b.propertyFiltering, expandableRows = _b.expandableRows;\n    var itemsTree = new ItemsTree(items, expandableRows);\n    var filterPredicate = composeFilters(createPropertyFilterPredicate(propertyFiltering, propertyFilteringQuery), createFilterPredicate(filtering, filteringText));\n    if (filterPredicate) {\n        itemsTree.filter(filterPredicate);\n    }\n    var comparator = createComparator(sorting, sortingState);\n    if (comparator) {\n        itemsTree.sort(comparator);\n    }\n    var allPageItems = itemsTree.getItems();\n    var filteredItemsCount = filterPredicate ? itemsTree.getSize() : undefined;\n    var pageProps = createPageProps(pagination, currentPageIndex, allPageItems);\n    if (pageProps) {\n        return {\n            items: allPageItems.slice((pageProps.pageIndex - 1) * pageProps.pageSize, pageProps.pageIndex * pageProps.pageSize),\n            allPageItems: allPageItems,\n            filteredItemsCount: filteredItemsCount,\n            pagesCount: pageProps === null || pageProps === void 0 ? void 0 : pageProps.pagesCount,\n            actualPageIndex: pageProps === null || pageProps === void 0 ? void 0 : pageProps.pageIndex,\n            itemsTree: itemsTree,\n        };\n    }\n    return {\n        items: allPageItems,\n        allPageItems: allPageItems,\n        filteredItemsCount: filteredItemsCount,\n        pagesCount: undefined,\n        actualPageIndex: undefined,\n        itemsTree: itemsTree,\n    };\n}\nexport var getTrackableValue = function (trackBy, item) {\n    if (!trackBy) {\n        return item;\n    }\n    if (typeof trackBy === 'function') {\n        return trackBy(item);\n    }\n    return item[trackBy];\n};\nexport var processSelectedItems = function (items, selectedItems, trackBy) {\n    var selectedSet = new Set();\n    selectedItems.forEach(function (item) { return selectedSet.add(getTrackableValue(trackBy, item)); });\n    return items.filter(function (item) { return selectedSet.has(getTrackableValue(trackBy, item)); });\n};\nexport var itemsAreEqual = function (items1, items2, trackBy) {\n    if (items1.length !== items2.length) {\n        return false;\n    }\n    var set1 = new Set();\n    items1.forEach(function (item) { return set1.add(getTrackableValue(trackBy, item)); });\n    return items2.every(function (item) { return set1.has(getTrackableValue(trackBy, item)); });\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}