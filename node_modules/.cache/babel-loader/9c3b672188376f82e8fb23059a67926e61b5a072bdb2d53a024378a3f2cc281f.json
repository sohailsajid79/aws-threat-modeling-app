{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect, useRef } from 'react';\nimport clsx from 'clsx';\nimport { useContainerQuery } from '@cloudscape-design/component-toolkit';\nimport { useResizeObserver } from '@cloudscape-design/component-toolkit/internal';\nimport { highContrastHeaderClassName } from '../../../internal/utils/content-header-utils';\nimport { createWidgetizedComponent } from '../../../internal/widgets';\nimport { NotificationsSlot } from '../skeleton/slot-wrappers';\nimport testutilStyles from '../../test-classes/styles.css.js';\nimport styles from './styles.css.js';\nexport function AppLayoutNotificationsImplementation({\n  appLayoutInternals,\n  children\n}) {\n  const {\n    ariaLabels,\n    stickyNotifications,\n    setNotificationsHeight,\n    verticalOffsets\n  } = appLayoutInternals;\n  const [hasNotificationsContent, contentRef] = useContainerQuery(rect => rect.borderBoxHeight > 0);\n  const rootRef = useRef(null);\n  useResizeObserver(rootRef, entry => setNotificationsHeight(entry.borderBoxHeight));\n  useEffect(() => {\n    return () => {\n      setNotificationsHeight(0);\n    };\n    // unmount effect only\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  return React.createElement(NotificationsSlot, {\n    ref: rootRef,\n    className: clsx(appLayoutInternals.headerVariant === 'high-contrast' && highContrastHeaderClassName, stickyNotifications && styles['sticky-notifications'], hasNotificationsContent && styles['has-notifications-content'], appLayoutInternals.headerVariant !== 'high-contrast' && styles['sticky-notifications-with-background']),\n    style: {\n      insetBlockStart: stickyNotifications ? verticalOffsets.notifications : undefined\n    }\n  }, React.createElement(\"div\", {\n    ref: contentRef,\n    className: testutilStyles.notifications,\n    role: \"region\",\n    \"aria-label\": ariaLabels === null || ariaLabels === void 0 ? void 0 : ariaLabels.notifications\n  }, children));\n}\nexport const createWidgetizedAppLayoutNotifications = createWidgetizedComponent(AppLayoutNotificationsImplementation);","map":{"version":3,"names":["React","useEffect","useRef","clsx","useContainerQuery","useResizeObserver","highContrastHeaderClassName","createWidgetizedComponent","NotificationsSlot","testutilStyles","styles","AppLayoutNotificationsImplementation","appLayoutInternals","children","ariaLabels","stickyNotifications","setNotificationsHeight","verticalOffsets","hasNotificationsContent","contentRef","rect","borderBoxHeight","rootRef","entry","createElement","ref","className","headerVariant","style","insetBlockStart","notifications","undefined","role","createWidgetizedAppLayoutNotifications"],"sources":["/Users/sohailsajid/Desktop/threat-modeling-app/node_modules/src/app-layout/visual-refresh-toolbar/notifications/index.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect, useRef } from 'react';\nimport clsx from 'clsx';\n\nimport { useContainerQuery } from '@cloudscape-design/component-toolkit';\nimport { useResizeObserver } from '@cloudscape-design/component-toolkit/internal';\n\nimport { highContrastHeaderClassName } from '../../../internal/utils/content-header-utils';\nimport { createWidgetizedComponent } from '../../../internal/widgets';\nimport { AppLayoutInternals } from '../interfaces';\nimport { NotificationsSlot } from '../skeleton/slot-wrappers';\n\nimport testutilStyles from '../../test-classes/styles.css.js';\nimport styles from './styles.css.js';\n\ninterface AppLayoutNotificationsImplementationProps {\n  appLayoutInternals: AppLayoutInternals;\n  children: React.ReactNode;\n}\n\nexport function AppLayoutNotificationsImplementation({\n  appLayoutInternals,\n  children,\n}: AppLayoutNotificationsImplementationProps) {\n  const { ariaLabels, stickyNotifications, setNotificationsHeight, verticalOffsets } = appLayoutInternals;\n  const [hasNotificationsContent, contentRef] = useContainerQuery(rect => rect.borderBoxHeight > 0);\n  const rootRef = useRef<HTMLDivElement>(null);\n  useResizeObserver(rootRef, entry => setNotificationsHeight(entry.borderBoxHeight));\n  useEffect(() => {\n    return () => {\n      setNotificationsHeight(0);\n    };\n    // unmount effect only\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  return (\n    <NotificationsSlot\n      ref={rootRef}\n      className={clsx(\n        appLayoutInternals.headerVariant === 'high-contrast' && highContrastHeaderClassName,\n        stickyNotifications && styles['sticky-notifications'],\n        hasNotificationsContent && styles['has-notifications-content'],\n        appLayoutInternals.headerVariant !== 'high-contrast' && styles['sticky-notifications-with-background']\n      )}\n      style={{\n        insetBlockStart: stickyNotifications ? verticalOffsets.notifications : undefined,\n      }}\n    >\n      <div\n        ref={contentRef}\n        className={testutilStyles.notifications}\n        role=\"region\"\n        aria-label={ariaLabels?.notifications}\n      >\n        {children}\n      </div>\n    </NotificationsSlot>\n  );\n}\n\nexport const createWidgetizedAppLayoutNotifications = createWidgetizedComponent(AppLayoutNotificationsImplementation);\n"],"mappings":"AAAA;AACA;AACA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAChD,OAAOC,IAAI,MAAM,MAAM;AAEvB,SAASC,iBAAiB,QAAQ,sCAAsC;AACxE,SAASC,iBAAiB,QAAQ,+CAA+C;AAEjF,SAASC,2BAA2B,QAAQ,8CAA8C;AAC1F,SAASC,yBAAyB,QAAQ,2BAA2B;AAErE,SAASC,iBAAiB,QAAQ,2BAA2B;AAE7D,OAAOC,cAAc,MAAM,kCAAkC;AAC7D,OAAOC,MAAM,MAAM,iBAAiB;AAOpC,OAAM,SAAUC,oCAAoCA,CAAC;EACnDC,kBAAkB;EAClBC;AAAQ,CACkC;EAC1C,MAAM;IAAEC,UAAU;IAAEC,mBAAmB;IAAEC,sBAAsB;IAAEC;EAAe,CAAE,GAAGL,kBAAkB;EACvG,MAAM,CAACM,uBAAuB,EAAEC,UAAU,CAAC,GAAGf,iBAAiB,CAACgB,IAAI,IAAIA,IAAI,CAACC,eAAe,GAAG,CAAC,CAAC;EACjG,MAAMC,OAAO,GAAGpB,MAAM,CAAiB,IAAI,CAAC;EAC5CG,iBAAiB,CAACiB,OAAO,EAAEC,KAAK,IAAIP,sBAAsB,CAACO,KAAK,CAACF,eAAe,CAAC,CAAC;EAClFpB,SAAS,CAAC,MAAK;IACb,OAAO,MAAK;MACVe,sBAAsB,CAAC,CAAC,CAAC;IAC3B,CAAC;IACD;IACA;EACF,CAAC,EAAE,EAAE,CAAC;EACN,OACEhB,KAAA,CAAAwB,aAAA,CAAChB,iBAAiB;IAChBiB,GAAG,EAAEH,OAAO;IACZI,SAAS,EAAEvB,IAAI,CACbS,kBAAkB,CAACe,aAAa,KAAK,eAAe,IAAIrB,2BAA2B,EACnFS,mBAAmB,IAAIL,MAAM,CAAC,sBAAsB,CAAC,EACrDQ,uBAAuB,IAAIR,MAAM,CAAC,2BAA2B,CAAC,EAC9DE,kBAAkB,CAACe,aAAa,KAAK,eAAe,IAAIjB,MAAM,CAAC,sCAAsC,CAAC,CACvG;IACDkB,KAAK,EAAE;MACLC,eAAe,EAAEd,mBAAmB,GAAGE,eAAe,CAACa,aAAa,GAAGC;;EACxE,GAED/B,KAAA,CAAAwB,aAAA;IACEC,GAAG,EAAEN,UAAU;IACfO,SAAS,EAAEjB,cAAc,CAACqB,aAAa;IACvCE,IAAI,EAAC,QAAQ;IAAA,cACDlB,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAEgB;EAAa,GAEpCjB,QAAQ,CACL,CACY;AAExB;AAEA,OAAO,MAAMoB,sCAAsC,GAAG1B,yBAAyB,CAACI,oCAAoC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}