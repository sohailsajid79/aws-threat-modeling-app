{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useCallback, useEffect, useRef, useState } from 'react';\nimport { useResizeObserver } from '@cloudscape-design/component-toolkit/internal';\nimport { getLogicalBoundingClientRect } from '@cloudscape-design/component-toolkit/internal';\nimport { useObservedElement } from './use-observed-element';\nexport function useAppLayoutPlacement(headerSelector, footerSelector) {\n  const mainElementRef = useRef(null);\n  const headerHeight = useObservedElement(mainElementRef, headerSelector);\n  const footerHeight = useObservedElement(mainElementRef, footerSelector);\n  const [offsets, setOffsets] = useState({\n    insetInlineStart: 0,\n    insetInlineEnd: 0,\n    inlineSize: Number.POSITIVE_INFINITY\n  });\n  const updatePosition = useCallback(() => {\n    if (!mainElementRef.current) {\n      return;\n    }\n    const {\n      insetInlineStart,\n      insetInlineEnd,\n      inlineSize\n    } = getLogicalBoundingClientRect(mainElementRef.current);\n    // skip reading sizes in JSDOM\n    if (inlineSize === 0) {\n      return;\n    }\n    setOffsets({\n      insetInlineStart,\n      insetInlineEnd: inlineSize - insetInlineEnd,\n      inlineSize\n    });\n  }, []);\n  useEffect(() => {\n    window.addEventListener('resize', updatePosition);\n    return () => window.removeEventListener('resize', updatePosition);\n  }, [updatePosition]);\n  useResizeObserver(mainElementRef, updatePosition);\n  return [mainElementRef, Object.assign(Object.assign({}, offsets), {\n    insetBlockStart: headerHeight,\n    insetBlockEnd: footerHeight\n  })];\n}","map":{"version":3,"names":["useCallback","useEffect","useRef","useState","useResizeObserver","getLogicalBoundingClientRect","useObservedElement","useAppLayoutPlacement","headerSelector","footerSelector","mainElementRef","headerHeight","footerHeight","offsets","setOffsets","insetInlineStart","insetInlineEnd","inlineSize","Number","POSITIVE_INFINITY","updatePosition","current","window","addEventListener","removeEventListener","Object","assign","insetBlockStart","insetBlockEnd"],"sources":["/Users/sohailsajid/Desktop/threat-modeling-app/node_modules/src/app-layout/utils/use-app-layout-placement.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useCallback, useEffect, useRef, useState } from 'react';\n\nimport { useResizeObserver } from '@cloudscape-design/component-toolkit/internal';\nimport { getLogicalBoundingClientRect } from '@cloudscape-design/component-toolkit/internal';\n\nimport { useObservedElement } from './use-observed-element';\n\nexport function useAppLayoutPlacement(headerSelector: string, footerSelector: string) {\n  const mainElementRef = useRef<HTMLElement>(null);\n  const headerHeight = useObservedElement(mainElementRef, headerSelector);\n  const footerHeight = useObservedElement(mainElementRef, footerSelector);\n  const [offsets, setOffsets] = useState({\n    insetInlineStart: 0,\n    insetInlineEnd: 0,\n    inlineSize: Number.POSITIVE_INFINITY,\n  });\n\n  const updatePosition = useCallback(() => {\n    if (!mainElementRef.current) {\n      return;\n    }\n    const { insetInlineStart, insetInlineEnd, inlineSize } = getLogicalBoundingClientRect(mainElementRef.current);\n\n    // skip reading sizes in JSDOM\n    if (inlineSize === 0) {\n      return;\n    }\n\n    setOffsets({ insetInlineStart, insetInlineEnd: inlineSize - insetInlineEnd, inlineSize });\n  }, []);\n\n  useEffect(() => {\n    window.addEventListener('resize', updatePosition);\n    return () => window.removeEventListener('resize', updatePosition);\n  }, [updatePosition]);\n\n  useResizeObserver(mainElementRef, updatePosition);\n\n  return [mainElementRef, { ...offsets, insetBlockStart: headerHeight, insetBlockEnd: footerHeight }] as const;\n}\n"],"mappings":"AAAA;AACA;AACA,SAASA,WAAW,EAAEC,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAEhE,SAASC,iBAAiB,QAAQ,+CAA+C;AACjF,SAASC,4BAA4B,QAAQ,+CAA+C;AAE5F,SAASC,kBAAkB,QAAQ,wBAAwB;AAE3D,OAAM,SAAUC,qBAAqBA,CAACC,cAAsB,EAAEC,cAAsB;EAClF,MAAMC,cAAc,GAAGR,MAAM,CAAc,IAAI,CAAC;EAChD,MAAMS,YAAY,GAAGL,kBAAkB,CAACI,cAAc,EAAEF,cAAc,CAAC;EACvE,MAAMI,YAAY,GAAGN,kBAAkB,CAACI,cAAc,EAAED,cAAc,CAAC;EACvE,MAAM,CAACI,OAAO,EAAEC,UAAU,CAAC,GAAGX,QAAQ,CAAC;IACrCY,gBAAgB,EAAE,CAAC;IACnBC,cAAc,EAAE,CAAC;IACjBC,UAAU,EAAEC,MAAM,CAACC;GACpB,CAAC;EAEF,MAAMC,cAAc,GAAGpB,WAAW,CAAC,MAAK;IACtC,IAAI,CAACU,cAAc,CAACW,OAAO,EAAE;MAC3B;;IAEF,MAAM;MAAEN,gBAAgB;MAAEC,cAAc;MAAEC;IAAU,CAAE,GAAGZ,4BAA4B,CAACK,cAAc,CAACW,OAAO,CAAC;IAE7G;IACA,IAAIJ,UAAU,KAAK,CAAC,EAAE;MACpB;;IAGFH,UAAU,CAAC;MAAEC,gBAAgB;MAAEC,cAAc,EAAEC,UAAU,GAAGD,cAAc;MAAEC;IAAU,CAAE,CAAC;EAC3F,CAAC,EAAE,EAAE,CAAC;EAENhB,SAAS,CAAC,MAAK;IACbqB,MAAM,CAACC,gBAAgB,CAAC,QAAQ,EAAEH,cAAc,CAAC;IACjD,OAAO,MAAME,MAAM,CAACE,mBAAmB,CAAC,QAAQ,EAAEJ,cAAc,CAAC;EACnE,CAAC,EAAE,CAACA,cAAc,CAAC,CAAC;EAEpBhB,iBAAiB,CAACM,cAAc,EAAEU,cAAc,CAAC;EAEjD,OAAO,CAACV,cAAc,EAAAe,MAAA,CAAAC,MAAA,CAAAD,MAAA,CAAAC,MAAA,KAAOb,OAAO;IAAEc,eAAe,EAAEhB,YAAY;IAAEiB,aAAa,EAAEhB;EAAY,GAAY;AAC9G","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}