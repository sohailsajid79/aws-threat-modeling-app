{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useState } from 'react';\nimport clsx from 'clsx';\nimport { getAnalyticsMetadataAttribute } from '@cloudscape-design/component-toolkit/internal/analytics-metadata';\nimport InternalButton from '../button/internal.js';\nimport InternalButtonDropdown from '../button-dropdown/internal.js';\nimport InternalFormField from '../form-field/internal.js';\nimport { FormFieldContext } from '../internal/context/form-field-context.js';\nimport { useListFocusController } from '../internal/hooks/use-list-focus-controller.js';\nimport { useMobile } from '../internal/hooks/use-mobile/index.js';\nimport { useUniqueId } from '../internal/hooks/use-unique-id/index.js';\nimport { getAllowedOperators } from './controller.js';\nimport { OperatorInput, PropertyInput, ValueInput } from './token-editor-inputs.js';\nimport styles from './styles.css.js';\nimport testUtilStyles from './test-classes/styles.css.js';\nexport function TokenEditor(_ref) {\n  let {\n    supportsGroups,\n    asyncProperties,\n    asyncProps,\n    customGroupsText,\n    freeTextFiltering,\n    filteringProperties,\n    filteringOptions,\n    i18nStrings,\n    onLoadItems,\n    onSubmit,\n    onDismiss,\n    tokensToCapture,\n    onTokenCapture,\n    onTokenRelease,\n    tempGroup,\n    onChangeTempGroup\n  } = _ref;\n  var _a;\n  const [nextFocusIndex, setNextFocusIndex] = useState(null);\n  const tokenListRef = useListFocusController({\n    nextFocusIndex,\n    onFocusMoved: target => {\n      target.focus();\n      setNextFocusIndex(null);\n    },\n    listItemSelector: `.${styles['token-editor-field-property']}`,\n    fallbackSelector: `.${styles['token-editor-add-token']}`\n  });\n  const groups = tempGroup.map((temporaryToken, index) => {\n    const setTemporaryToken = newToken => {\n      const copy = [...tempGroup];\n      copy[index] = newToken;\n      onChangeTempGroup(copy);\n    };\n    const property = temporaryToken.property;\n    const onChangePropertyKey = newPropertyKey => {\n      var _a;\n      const filteringProperty = filteringProperties.reduce((acc, property) => property.propertyKey === newPropertyKey ? property : acc, undefined);\n      const allowedOperators = filteringProperty ? getAllowedOperators(filteringProperty) : freeTextFiltering.operators;\n      const operator = temporaryToken.operator && allowedOperators.indexOf(temporaryToken.operator) !== -1 ? temporaryToken.operator : allowedOperators[0];\n      const matchedProperty = (_a = filteringProperties.find(property => property.propertyKey === newPropertyKey)) !== null && _a !== void 0 ? _a : null;\n      setTemporaryToken(Object.assign(Object.assign({}, temporaryToken), {\n        property: matchedProperty,\n        operator,\n        value: null\n      }));\n    };\n    const operator = temporaryToken.operator;\n    const onChangeOperator = newOperator => {\n      setTemporaryToken(Object.assign(Object.assign({}, temporaryToken), {\n        operator: newOperator\n      }));\n    };\n    const value = temporaryToken.value;\n    const onChangeValue = newValue => {\n      setTemporaryToken(Object.assign(Object.assign({}, temporaryToken), {\n        value: newValue\n      }));\n    };\n    return {\n      token: temporaryToken,\n      property,\n      onChangePropertyKey,\n      operator,\n      onChangeOperator,\n      value,\n      onChangeValue\n    };\n  });\n  return React.createElement(\"div\", {\n    className: styles['token-editor'],\n    ref: tokenListRef\n  }, React.createElement(TokenEditorFields, {\n    supportsGroups: supportsGroups,\n    tokens: groups.map(group => group.token),\n    onRemove: index => {\n      const updated = tempGroup.filter((_, existingIndex) => existingIndex !== index);\n      onChangeTempGroup(updated);\n      setNextFocusIndex(index);\n    },\n    onRemoveFromGroup: index => {\n      const releasedToken = tempGroup[index];\n      const updated = tempGroup.filter((_, existingIndex) => existingIndex !== index);\n      onChangeTempGroup(updated);\n      onTokenRelease(releasedToken);\n      setNextFocusIndex(index);\n    },\n    onSubmit: onSubmit,\n    renderProperty: index => React.createElement(PropertyInput, {\n      property: groups[index].property,\n      onChangePropertyKey: groups[index].onChangePropertyKey,\n      asyncProps: asyncProperties ? asyncProps : null,\n      filteringProperties: filteringProperties,\n      onLoadItems: onLoadItems,\n      customGroupsText: customGroupsText,\n      i18nStrings: i18nStrings,\n      freeTextFiltering: freeTextFiltering\n    }),\n    renderOperator: index => React.createElement(OperatorInput, {\n      property: groups[index].property,\n      operator: groups[index].operator,\n      onChangeOperator: groups[index].onChangeOperator,\n      i18nStrings: i18nStrings,\n      freeTextFiltering: freeTextFiltering,\n      triggerVariant: supportsGroups ? 'label' : 'option'\n    }),\n    renderValue: index => React.createElement(ValueInput, {\n      property: groups[index].property,\n      operator: groups[index].operator,\n      value: groups[index].value,\n      onChangeValue: groups[index].onChangeValue,\n      asyncProps: asyncProps,\n      filteringOptions: filteringOptions,\n      onLoadItems: onLoadItems,\n      i18nStrings: i18nStrings\n    }),\n    i18nStrings: i18nStrings\n  }), supportsGroups && React.createElement(\"div\", {\n    className: clsx(styles['token-editor-add-token'], testUtilStyles['token-editor-token-add-actions'])\n  }, React.createElement(InternalButtonDropdown, {\n    variant: \"normal\",\n    ariaLabel: i18nStrings.tokenEditorAddTokenActionsAriaLabel,\n    items: tokensToCapture.map((token, index) => {\n      var _a, _b, _c, _d;\n      return {\n        id: index.toString(),\n        text: (_b = (_a = i18nStrings.tokenEditorAddExistingTokenLabel) === null || _a === void 0 ? void 0 : _a.call(i18nStrings, token)) !== null && _b !== void 0 ? _b : '',\n        ariaLabel: (_d = (_c = i18nStrings.tokenEditorAddExistingTokenAriaLabel) === null || _c === void 0 ? void 0 : _c.call(i18nStrings, token)) !== null && _d !== void 0 ? _d : ''\n      };\n    }),\n    onItemClick: _ref2 => {\n      let {\n        detail\n      } = _ref2;\n      const index = parseInt(detail.id);\n      if (!isNaN(index) && tokensToCapture[index]) {\n        onChangeTempGroup([...tempGroup, Object.assign({}, tokensToCapture[index])]);\n        setNextFocusIndex(groups.length);\n        onTokenCapture(tokensToCapture[index]);\n      }\n    },\n    disabled: tokensToCapture.length === 0,\n    showMainActionOnly: tokensToCapture.length === 0,\n    mainAction: {\n      text: (_a = i18nStrings.tokenEditorAddNewTokenLabel) !== null && _a !== void 0 ? _a : '',\n      onClick: () => {\n        onChangeTempGroup([...tempGroup, {\n          property: null,\n          operator: ':',\n          value: null\n        }]);\n        setNextFocusIndex(groups.length);\n      }\n    }\n  })), React.createElement(\"div\", {\n    className: styles['token-editor-actions']\n  }, React.createElement(\"span\", Object.assign({}, getAnalyticsMetadataAttribute({\n    action: 'editCancel'\n  })), React.createElement(InternalButton, {\n    formAction: \"none\",\n    variant: \"link\",\n    className: clsx(styles['token-editor-cancel'], testUtilStyles['token-editor-cancel']),\n    onClick: onDismiss\n  }, i18nStrings.cancelActionText)), React.createElement(\"span\", Object.assign({}, getAnalyticsMetadataAttribute({\n    action: 'editConfirm'\n  })), React.createElement(InternalButton, {\n    className: clsx(styles['token-editor-submit'], testUtilStyles['token-editor-submit']),\n    formAction: \"none\",\n    onClick: onSubmit\n  }, i18nStrings.applyActionText))));\n}\nfunction TokenEditorFields(_ref3) {\n  let {\n    tokens,\n    supportsGroups,\n    onRemove,\n    onRemoveFromGroup,\n    onSubmit,\n    renderProperty,\n    renderOperator,\n    renderValue,\n    i18nStrings\n  } = _ref3;\n  const isMobile = useMobile();\n  const isNarrow = isMobile || !supportsGroups;\n  const propertyLabelId = useUniqueId();\n  const operatorLabelId = useUniqueId();\n  const valueLabelId = useUniqueId();\n  const headers = React.createElement(\"div\", {\n    className: styles['token-editor-grid-group']\n  }, React.createElement(\"div\", {\n    id: propertyLabelId,\n    className: styles['token-editor-grid-header']\n  }, i18nStrings.propertyText), React.createElement(\"div\", {\n    id: operatorLabelId,\n    className: styles['token-editor-grid-header']\n  }, i18nStrings.operatorText), React.createElement(\"div\", {\n    id: valueLabelId,\n    className: styles['token-editor-grid-header']\n  }, i18nStrings.valueText), React.createElement(\"div\", {\n    className: styles['token-editor-grid-header']\n  }));\n  return React.createElement(\"form\", {\n    className: clsx(styles['token-editor-grid'], isNarrow && styles['token-editor-narrow'], styles['token-editor-form']),\n    onSubmit: event => {\n      event.preventDefault();\n      onSubmit();\n    }\n  }, !isNarrow && headers, tokens.map((token, index) => {\n    var _a, _b, _c, _d, _e, _f;\n    return React.createElement(\"div\", {\n      key: index,\n      role: \"group\",\n      \"aria-label\": i18nStrings.formatToken(token).formattedText,\n      className: clsx(styles['token-editor-grid-group'], supportsGroups && styles['token-editor-supports-groups'])\n    }, React.createElement(\"div\", {\n      className: clsx(styles['token-editor-grid-cell'], isNarrow && styles['token-editor-narrow'])\n    }, React.createElement(TokenEditorField, {\n      isNarrow: isNarrow,\n      label: i18nStrings.propertyText,\n      labelId: propertyLabelId,\n      className: clsx(styles['token-editor-field-property'], testUtilStyles['token-editor-field-property']),\n      index: index\n    }, renderProperty(index))), React.createElement(\"div\", {\n      className: clsx(styles['token-editor-grid-cell'], isNarrow && styles['token-editor-narrow'])\n    }, React.createElement(TokenEditorField, {\n      isNarrow: isNarrow,\n      label: i18nStrings.operatorText,\n      labelId: operatorLabelId,\n      className: clsx(styles['token-editor-field-operator'], testUtilStyles['token-editor-field-operator']),\n      index: index\n    }, renderOperator(index))), React.createElement(\"div\", {\n      className: clsx(styles['token-editor-grid-cell'], isNarrow && styles['token-editor-narrow'])\n    }, React.createElement(TokenEditorField, {\n      isNarrow: isNarrow,\n      label: i18nStrings.valueText,\n      labelId: valueLabelId,\n      className: clsx(styles['token-editor-field-value'], testUtilStyles['token-editor-field-value']),\n      index: index\n    }, renderValue(index))), supportsGroups && React.createElement(\"div\", {\n      className: clsx(styles['token-editor-grid-cell'], isNarrow && styles['token-editor-narrow'])\n    }, React.createElement(\"div\", {\n      className: styles['token-editor-remove-token']\n    }, React.createElement(TokenEditorRemoveActions, {\n      isNarrow: isNarrow,\n      ariaLabel: (_b = (_a = i18nStrings.tokenEditorTokenActionsAriaLabel) === null || _a === void 0 ? void 0 : _a.call(i18nStrings, token)) !== null && _b !== void 0 ? _b : '',\n      mainActionAriaLabel: (_d = (_c = i18nStrings.tokenEditorTokenRemoveAriaLabel) === null || _c === void 0 ? void 0 : _c.call(i18nStrings, token)) !== null && _d !== void 0 ? _d : '',\n      disabled: tokens.length === 1,\n      items: [{\n        id: 'remove',\n        text: (_e = i18nStrings.tokenEditorTokenRemoveLabel) !== null && _e !== void 0 ? _e : '',\n        disabled: token.standaloneIndex !== undefined\n      }, {\n        id: 'remove-from-group',\n        text: (_f = i18nStrings.tokenEditorTokenRemoveFromGroupLabel) !== null && _f !== void 0 ? _f : ''\n      }],\n      onItemClick: itemId => {\n        switch (itemId) {\n          case 'remove':\n            return onRemove(index);\n          case 'remove-from-group':\n            return onRemoveFromGroup(index);\n        }\n      },\n      index: index\n    }))));\n  }));\n}\nfunction TokenEditorField(_ref4) {\n  let {\n    isNarrow,\n    label,\n    labelId,\n    children,\n    className,\n    index\n  } = _ref4;\n  return isNarrow ? React.createElement(InternalFormField, {\n    label: label,\n    className: className,\n    stretch: true,\n    \"data-testindex\": index\n  }, children) : React.createElement(FormFieldContext.Provider, {\n    value: {\n      ariaLabelledby: labelId\n    }\n  }, React.createElement(InternalFormField, {\n    className: className,\n    \"data-testindex\": index\n  }, children));\n}\nfunction TokenEditorRemoveActions(_ref5) {\n  let {\n    isNarrow,\n    ariaLabel,\n    mainActionAriaLabel,\n    disabled,\n    items,\n    onItemClick,\n    index\n  } = _ref5;\n  return isNarrow ? React.createElement(InternalButtonDropdown, {\n    variant: \"normal\",\n    ariaLabel: ariaLabel,\n    items: items.slice(1),\n    onItemClick: _ref6 => {\n      let {\n        detail\n      } = _ref6;\n      return onItemClick(detail.id);\n    },\n    disabled: disabled,\n    mainAction: {\n      text: items[0].text,\n      onClick: () => onItemClick(items[0].id),\n      disabled,\n      ariaLabel: mainActionAriaLabel\n    },\n    className: testUtilStyles['token-editor-token-remove-actions'],\n    \"data-testindex\": index\n  }) : React.createElement(InternalButtonDropdown, {\n    variant: \"icon\",\n    ariaLabel: ariaLabel,\n    items: items,\n    onItemClick: _ref7 => {\n      let {\n        detail\n      } = _ref7;\n      return onItemClick(detail.id);\n    },\n    disabled: disabled,\n    className: testUtilStyles['token-editor-token-remove-actions'],\n    \"data-testindex\": index\n  });\n}","map":{"version":3,"names":["React","useState","clsx","getAnalyticsMetadataAttribute","InternalButton","InternalButtonDropdown","InternalFormField","FormFieldContext","useListFocusController","useMobile","useUniqueId","getAllowedOperators","OperatorInput","PropertyInput","ValueInput","styles","testUtilStyles","TokenEditor","_ref","supportsGroups","asyncProperties","asyncProps","customGroupsText","freeTextFiltering","filteringProperties","filteringOptions","i18nStrings","onLoadItems","onSubmit","onDismiss","tokensToCapture","onTokenCapture","onTokenRelease","tempGroup","onChangeTempGroup","nextFocusIndex","setNextFocusIndex","tokenListRef","onFocusMoved","target","focus","listItemSelector","fallbackSelector","groups","map","temporaryToken","index","setTemporaryToken","newToken","copy","property","onChangePropertyKey","newPropertyKey","filteringProperty","reduce","acc","propertyKey","undefined","allowedOperators","operators","operator","indexOf","matchedProperty","_a","find","Object","assign","value","onChangeOperator","newOperator","onChangeValue","newValue","token","createElement","className","ref","TokenEditorFields","tokens","group","onRemove","updated","filter","_","existingIndex","onRemoveFromGroup","releasedToken","renderProperty","renderOperator","triggerVariant","renderValue","variant","ariaLabel","tokenEditorAddTokenActionsAriaLabel","items","id","toString","text","_b","tokenEditorAddExistingTokenLabel","call","_d","_c","tokenEditorAddExistingTokenAriaLabel","onItemClick","_ref2","detail","parseInt","isNaN","length","disabled","showMainActionOnly","mainAction","tokenEditorAddNewTokenLabel","onClick","action","formAction","cancelActionText","applyActionText","_ref3","isMobile","isNarrow","propertyLabelId","operatorLabelId","valueLabelId","headers","propertyText","operatorText","valueText","event","preventDefault","key","role","formatToken","formattedText","TokenEditorField","label","labelId","TokenEditorRemoveActions","tokenEditorTokenActionsAriaLabel","mainActionAriaLabel","tokenEditorTokenRemoveAriaLabel","_e","tokenEditorTokenRemoveLabel","standaloneIndex","_f","tokenEditorTokenRemoveFromGroupLabel","itemId","_ref4","children","stretch","Provider","ariaLabelledby","_ref5","slice","_ref6","_ref7"],"sources":["/Users/sohailsajid/Desktop/threat-modeling-app/node_modules/src/property-filter/token-editor.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React, { useState } from 'react';\nimport clsx from 'clsx';\n\nimport { getAnalyticsMetadataAttribute } from '@cloudscape-design/component-toolkit/internal/analytics-metadata';\n\nimport InternalButton from '../button/internal.js';\nimport { ButtonDropdownProps } from '../button-dropdown/interfaces.js';\nimport InternalButtonDropdown from '../button-dropdown/internal.js';\nimport InternalFormField from '../form-field/internal.js';\nimport { DropdownStatusProps } from '../internal/components/dropdown-status/interfaces.js';\nimport { FormFieldContext } from '../internal/context/form-field-context.js';\nimport { NonCancelableEventHandler } from '../internal/events/index.js';\nimport { useListFocusController } from '../internal/hooks/use-list-focus-controller.js';\nimport { useMobile } from '../internal/hooks/use-mobile/index.js';\nimport { useUniqueId } from '../internal/hooks/use-unique-id/index.js';\nimport {\n  GeneratedAnalyticsMetadataPropertyEditCancel,\n  GeneratedAnalyticsMetadataPropertyEditConfirm,\n} from './analytics-metadata/interfaces';\nimport { getAllowedOperators } from './controller.js';\nimport { I18nStringsInternal } from './i18n-utils.js';\nimport {\n  ComparisonOperator,\n  GroupText,\n  InternalFilteringOption,\n  InternalFilteringProperty,\n  InternalFreeTextFiltering,\n  InternalToken,\n  LoadItemsDetail,\n} from './interfaces.js';\nimport { OperatorInput, PropertyInput, ValueInput } from './token-editor-inputs.js';\n\nimport styles from './styles.css.js';\nimport testUtilStyles from './test-classes/styles.css.js';\n\nexport interface TokenEditorProps {\n  supportsGroups: boolean;\n  asyncProperties?: boolean;\n  asyncProps: DropdownStatusProps;\n  customGroupsText: readonly GroupText[];\n  freeTextFiltering: InternalFreeTextFiltering;\n  filteringProperties: readonly InternalFilteringProperty[];\n  filteringOptions: readonly InternalFilteringOption[];\n  i18nStrings: I18nStringsInternal;\n  onLoadItems?: NonCancelableEventHandler<LoadItemsDetail>;\n  onSubmit: () => void;\n  onDismiss: () => void;\n  tokensToCapture: InternalToken[];\n  onTokenCapture: (token: InternalToken) => void;\n  onTokenRelease: (token: InternalToken) => void;\n  tempGroup: InternalToken[];\n  onChangeTempGroup: (token: InternalToken[]) => void;\n}\n\nexport function TokenEditor({\n  supportsGroups,\n  asyncProperties,\n  asyncProps,\n  customGroupsText,\n  freeTextFiltering,\n  filteringProperties,\n  filteringOptions,\n  i18nStrings,\n  onLoadItems,\n  onSubmit,\n  onDismiss,\n  tokensToCapture,\n  onTokenCapture,\n  onTokenRelease,\n  tempGroup,\n  onChangeTempGroup,\n}: TokenEditorProps) {\n  const [nextFocusIndex, setNextFocusIndex] = useState<null | number>(null);\n  const tokenListRef = useListFocusController({\n    nextFocusIndex,\n    onFocusMoved: target => {\n      target.focus();\n      setNextFocusIndex(null);\n    },\n    listItemSelector: `.${styles['token-editor-field-property']}`,\n    fallbackSelector: `.${styles['token-editor-add-token']}`,\n  });\n\n  const groups = tempGroup.map((temporaryToken, index) => {\n    const setTemporaryToken = (newToken: InternalToken) => {\n      const copy = [...tempGroup];\n      copy[index] = newToken;\n      onChangeTempGroup(copy);\n    };\n    const property = temporaryToken.property;\n    const onChangePropertyKey = (newPropertyKey: undefined | string) => {\n      const filteringProperty = filteringProperties.reduce<InternalFilteringProperty | undefined>(\n        (acc, property) => (property.propertyKey === newPropertyKey ? property : acc),\n        undefined\n      );\n      const allowedOperators = filteringProperty ? getAllowedOperators(filteringProperty) : freeTextFiltering.operators;\n      const operator =\n        temporaryToken.operator && allowedOperators.indexOf(temporaryToken.operator) !== -1\n          ? temporaryToken.operator\n          : allowedOperators[0];\n      const matchedProperty = filteringProperties.find(property => property.propertyKey === newPropertyKey) ?? null;\n      setTemporaryToken({ ...temporaryToken, property: matchedProperty, operator, value: null });\n    };\n\n    const operator = temporaryToken.operator;\n    const onChangeOperator = (newOperator: ComparisonOperator) => {\n      setTemporaryToken({ ...temporaryToken, operator: newOperator });\n    };\n\n    const value = temporaryToken.value;\n    const onChangeValue = (newValue: unknown) => {\n      setTemporaryToken({ ...temporaryToken, value: newValue });\n    };\n\n    return { token: temporaryToken, property, onChangePropertyKey, operator, onChangeOperator, value, onChangeValue };\n  });\n\n  return (\n    <div className={styles['token-editor']} ref={tokenListRef}>\n      <TokenEditorFields\n        supportsGroups={supportsGroups}\n        tokens={groups.map(group => group.token)}\n        onRemove={index => {\n          const updated = tempGroup.filter((_, existingIndex) => existingIndex !== index);\n          onChangeTempGroup(updated);\n          setNextFocusIndex(index);\n        }}\n        onRemoveFromGroup={index => {\n          const releasedToken = tempGroup[index];\n          const updated = tempGroup.filter((_, existingIndex) => existingIndex !== index);\n          onChangeTempGroup(updated);\n          onTokenRelease(releasedToken);\n          setNextFocusIndex(index);\n        }}\n        onSubmit={onSubmit}\n        renderProperty={index => (\n          <PropertyInput\n            property={groups[index].property}\n            onChangePropertyKey={groups[index].onChangePropertyKey}\n            asyncProps={asyncProperties ? asyncProps : null}\n            filteringProperties={filteringProperties}\n            onLoadItems={onLoadItems}\n            customGroupsText={customGroupsText}\n            i18nStrings={i18nStrings}\n            freeTextFiltering={freeTextFiltering}\n          />\n        )}\n        renderOperator={index => (\n          <OperatorInput\n            property={groups[index].property}\n            operator={groups[index].operator}\n            onChangeOperator={groups[index].onChangeOperator}\n            i18nStrings={i18nStrings}\n            freeTextFiltering={freeTextFiltering}\n            triggerVariant={supportsGroups ? 'label' : 'option'}\n          />\n        )}\n        renderValue={index => (\n          <ValueInput\n            property={groups[index].property}\n            operator={groups[index].operator}\n            value={groups[index].value}\n            onChangeValue={groups[index].onChangeValue}\n            asyncProps={asyncProps}\n            filteringOptions={filteringOptions}\n            onLoadItems={onLoadItems}\n            i18nStrings={i18nStrings}\n          />\n        )}\n        i18nStrings={i18nStrings}\n      />\n\n      {supportsGroups && (\n        <div className={clsx(styles['token-editor-add-token'], testUtilStyles['token-editor-token-add-actions'])}>\n          <InternalButtonDropdown\n            variant=\"normal\"\n            ariaLabel={i18nStrings.tokenEditorAddTokenActionsAriaLabel}\n            items={tokensToCapture.map((token, index) => {\n              return {\n                id: index.toString(),\n                text: i18nStrings.tokenEditorAddExistingTokenLabel?.(token) ?? '',\n                ariaLabel: i18nStrings.tokenEditorAddExistingTokenAriaLabel?.(token) ?? '',\n              };\n            })}\n            onItemClick={({ detail }) => {\n              const index = parseInt(detail.id);\n              if (!isNaN(index) && tokensToCapture[index]) {\n                onChangeTempGroup([...tempGroup, { ...tokensToCapture[index] }]);\n                setNextFocusIndex(groups.length);\n                onTokenCapture(tokensToCapture[index]);\n              }\n            }}\n            disabled={tokensToCapture.length === 0}\n            showMainActionOnly={tokensToCapture.length === 0}\n            mainAction={{\n              text: i18nStrings.tokenEditorAddNewTokenLabel ?? '',\n              onClick: () => {\n                onChangeTempGroup([...tempGroup, { property: null, operator: ':', value: null }]);\n                setNextFocusIndex(groups.length);\n              },\n            }}\n          />\n        </div>\n      )}\n\n      <div className={styles['token-editor-actions']}>\n        <span\n          {...getAnalyticsMetadataAttribute({\n            action: 'editCancel',\n          } as Partial<GeneratedAnalyticsMetadataPropertyEditCancel>)}\n        >\n          <InternalButton\n            formAction=\"none\"\n            variant=\"link\"\n            className={clsx(styles['token-editor-cancel'], testUtilStyles['token-editor-cancel'])}\n            onClick={onDismiss}\n          >\n            {i18nStrings.cancelActionText}\n          </InternalButton>\n        </span>\n        <span\n          {...getAnalyticsMetadataAttribute({\n            action: 'editConfirm',\n          } as Partial<GeneratedAnalyticsMetadataPropertyEditConfirm>)}\n        >\n          <InternalButton\n            className={clsx(styles['token-editor-submit'], testUtilStyles['token-editor-submit'])}\n            formAction=\"none\"\n            onClick={onSubmit}\n          >\n            {i18nStrings.applyActionText}\n          </InternalButton>\n        </span>\n      </div>\n    </div>\n  );\n}\n\ninterface TokenEditorLayout {\n  tokens: InternalToken[];\n  supportsGroups: boolean;\n  onRemove: (index: number) => void;\n  onRemoveFromGroup: (index: number) => void;\n  onSubmit: () => void;\n  renderProperty: (index: number) => React.ReactNode;\n  renderOperator: (index: number) => React.ReactNode;\n  renderValue: (index: number) => React.ReactNode;\n  i18nStrings: I18nStringsInternal;\n}\n\nfunction TokenEditorFields({\n  tokens,\n  supportsGroups,\n  onRemove,\n  onRemoveFromGroup,\n  onSubmit,\n  renderProperty,\n  renderOperator,\n  renderValue,\n  i18nStrings,\n}: TokenEditorLayout) {\n  const isMobile = useMobile();\n  const isNarrow = isMobile || !supportsGroups;\n\n  const propertyLabelId = useUniqueId();\n  const operatorLabelId = useUniqueId();\n  const valueLabelId = useUniqueId();\n  const headers = (\n    <div className={styles['token-editor-grid-group']}>\n      <div id={propertyLabelId} className={styles['token-editor-grid-header']}>\n        {i18nStrings.propertyText}\n      </div>\n      <div id={operatorLabelId} className={styles['token-editor-grid-header']}>\n        {i18nStrings.operatorText}\n      </div>\n      <div id={valueLabelId} className={styles['token-editor-grid-header']}>\n        {i18nStrings.valueText}\n      </div>\n      <div className={styles['token-editor-grid-header']}></div>\n    </div>\n  );\n\n  return (\n    <form\n      className={clsx(\n        styles['token-editor-grid'],\n        isNarrow && styles['token-editor-narrow'],\n        styles['token-editor-form']\n      )}\n      onSubmit={event => {\n        event.preventDefault();\n        onSubmit();\n      }}\n    >\n      {!isNarrow && headers}\n\n      {tokens.map((token, index) => (\n        <div\n          key={index}\n          role=\"group\"\n          aria-label={i18nStrings.formatToken(token).formattedText}\n          className={clsx(styles['token-editor-grid-group'], supportsGroups && styles['token-editor-supports-groups'])}\n        >\n          <div className={clsx(styles['token-editor-grid-cell'], isNarrow && styles['token-editor-narrow'])}>\n            <TokenEditorField\n              isNarrow={isNarrow}\n              label={i18nStrings.propertyText}\n              labelId={propertyLabelId}\n              className={clsx(styles['token-editor-field-property'], testUtilStyles['token-editor-field-property'])}\n              index={index}\n            >\n              {renderProperty(index)}\n            </TokenEditorField>\n          </div>\n\n          <div className={clsx(styles['token-editor-grid-cell'], isNarrow && styles['token-editor-narrow'])}>\n            <TokenEditorField\n              isNarrow={isNarrow}\n              label={i18nStrings.operatorText}\n              labelId={operatorLabelId}\n              className={clsx(styles['token-editor-field-operator'], testUtilStyles['token-editor-field-operator'])}\n              index={index}\n            >\n              {renderOperator(index)}\n            </TokenEditorField>\n          </div>\n\n          <div className={clsx(styles['token-editor-grid-cell'], isNarrow && styles['token-editor-narrow'])}>\n            <TokenEditorField\n              isNarrow={isNarrow}\n              label={i18nStrings.valueText}\n              labelId={valueLabelId}\n              className={clsx(styles['token-editor-field-value'], testUtilStyles['token-editor-field-value'])}\n              index={index}\n            >\n              {renderValue(index)}\n            </TokenEditorField>\n          </div>\n\n          {supportsGroups && (\n            <div className={clsx(styles['token-editor-grid-cell'], isNarrow && styles['token-editor-narrow'])}>\n              <div className={styles['token-editor-remove-token']}>\n                <TokenEditorRemoveActions\n                  isNarrow={isNarrow}\n                  ariaLabel={i18nStrings.tokenEditorTokenActionsAriaLabel?.(token) ?? ''}\n                  mainActionAriaLabel={i18nStrings.tokenEditorTokenRemoveAriaLabel?.(token) ?? ''}\n                  disabled={tokens.length === 1}\n                  items={[\n                    {\n                      id: 'remove',\n                      text: i18nStrings.tokenEditorTokenRemoveLabel ?? '',\n                      disabled: token.standaloneIndex !== undefined,\n                    },\n                    { id: 'remove-from-group', text: i18nStrings.tokenEditorTokenRemoveFromGroupLabel ?? '' },\n                  ]}\n                  onItemClick={itemId => {\n                    switch (itemId) {\n                      case 'remove':\n                        return onRemove(index);\n                      case 'remove-from-group':\n                        return onRemoveFromGroup(index);\n                    }\n                  }}\n                  index={index}\n                />\n              </div>\n            </div>\n          )}\n        </div>\n      ))}\n    </form>\n  );\n}\n\nfunction TokenEditorField({\n  isNarrow,\n  label,\n  labelId,\n  children,\n  className,\n  index,\n}: {\n  isNarrow: boolean;\n  label: React.ReactNode;\n  labelId: string;\n  children: React.ReactNode;\n  className: string;\n  index: number;\n}) {\n  return isNarrow ? (\n    <InternalFormField label={label} className={className} stretch={true} data-testindex={index}>\n      {children}\n    </InternalFormField>\n  ) : (\n    <FormFieldContext.Provider value={{ ariaLabelledby: labelId }}>\n      <InternalFormField className={className} data-testindex={index}>\n        {children}\n      </InternalFormField>\n    </FormFieldContext.Provider>\n  );\n}\n\nfunction TokenEditorRemoveActions({\n  isNarrow,\n  ariaLabel,\n  mainActionAriaLabel,\n  disabled,\n  items,\n  onItemClick,\n  index,\n}: {\n  isNarrow: boolean;\n  ariaLabel: string;\n  mainActionAriaLabel: string;\n  disabled: boolean;\n  items: ButtonDropdownProps.Item[];\n  onItemClick: (itemId: string) => void;\n  index: number;\n}) {\n  return isNarrow ? (\n    <InternalButtonDropdown\n      variant=\"normal\"\n      ariaLabel={ariaLabel}\n      items={items.slice(1)}\n      onItemClick={({ detail }) => onItemClick(detail.id)}\n      disabled={disabled}\n      mainAction={{\n        text: items[0].text,\n        onClick: () => onItemClick(items[0].id),\n        disabled,\n        ariaLabel: mainActionAriaLabel,\n      }}\n      className={testUtilStyles['token-editor-token-remove-actions']}\n      data-testindex={index}\n    />\n  ) : (\n    <InternalButtonDropdown\n      variant=\"icon\"\n      ariaLabel={ariaLabel}\n      items={items}\n      onItemClick={({ detail }) => onItemClick(detail.id)}\n      disabled={disabled}\n      className={testUtilStyles['token-editor-token-remove-actions']}\n      data-testindex={index}\n    />\n  );\n}\n"],"mappings":"AAAA;AACA;AAEA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,IAAI,MAAM,MAAM;AAEvB,SAASC,6BAA6B,QAAQ,kEAAkE;AAEhH,OAAOC,cAAc,MAAM,uBAAuB;AAElD,OAAOC,sBAAsB,MAAM,gCAAgC;AACnE,OAAOC,iBAAiB,MAAM,2BAA2B;AAEzD,SAASC,gBAAgB,QAAQ,2CAA2C;AAE5E,SAASC,sBAAsB,QAAQ,gDAAgD;AACvF,SAASC,SAAS,QAAQ,uCAAuC;AACjE,SAASC,WAAW,QAAQ,0CAA0C;AAKtE,SAASC,mBAAmB,QAAQ,iBAAiB;AAWrD,SAASC,aAAa,EAAEC,aAAa,EAAEC,UAAU,QAAQ,0BAA0B;AAEnF,OAAOC,MAAM,MAAM,iBAAiB;AACpC,OAAOC,cAAc,MAAM,8BAA8B;AAqBzD,OAAM,SAAUC,WAAWA,CAAAC,IAAA,EAiBR;EAAA,IAjBS;IAC1BC,cAAc;IACdC,eAAe;IACfC,UAAU;IACVC,gBAAgB;IAChBC,iBAAiB;IACjBC,mBAAmB;IACnBC,gBAAgB;IAChBC,WAAW;IACXC,WAAW;IACXC,QAAQ;IACRC,SAAS;IACTC,eAAe;IACfC,cAAc;IACdC,cAAc;IACdC,SAAS;IACTC;EAAiB,CACA,GAAAhB,IAAA;;EACjB,MAAM,CAACiB,cAAc,EAAEC,iBAAiB,CAAC,GAAGnC,QAAQ,CAAgB,IAAI,CAAC;EACzE,MAAMoC,YAAY,GAAG7B,sBAAsB,CAAC;IAC1C2B,cAAc;IACdG,YAAY,EAAEC,MAAM,IAAG;MACrBA,MAAM,CAACC,KAAK,EAAE;MACdJ,iBAAiB,CAAC,IAAI,CAAC;IACzB,CAAC;IACDK,gBAAgB,EAAE,IAAI1B,MAAM,CAAC,6BAA6B,CAAC,EAAE;IAC7D2B,gBAAgB,EAAE,IAAI3B,MAAM,CAAC,wBAAwB,CAAC;GACvD,CAAC;EAEF,MAAM4B,MAAM,GAAGV,SAAS,CAACW,GAAG,CAAC,CAACC,cAAc,EAAEC,KAAK,KAAI;IACrD,MAAMC,iBAAiB,GAAIC,QAAuB,IAAI;MACpD,MAAMC,IAAI,GAAG,CAAC,GAAGhB,SAAS,CAAC;MAC3BgB,IAAI,CAACH,KAAK,CAAC,GAAGE,QAAQ;MACtBd,iBAAiB,CAACe,IAAI,CAAC;IACzB,CAAC;IACD,MAAMC,QAAQ,GAAGL,cAAc,CAACK,QAAQ;IACxC,MAAMC,mBAAmB,GAAIC,cAAkC,IAAI;;MACjE,MAAMC,iBAAiB,GAAG7B,mBAAmB,CAAC8B,MAAM,CAClD,CAACC,GAAG,EAAEL,QAAQ,KAAMA,QAAQ,CAACM,WAAW,KAAKJ,cAAc,GAAGF,QAAQ,GAAGK,GAAI,EAC7EE,SAAS,CACV;MACD,MAAMC,gBAAgB,GAAGL,iBAAiB,GAAG1C,mBAAmB,CAAC0C,iBAAiB,CAAC,GAAG9B,iBAAiB,CAACoC,SAAS;MACjH,MAAMC,QAAQ,GACZf,cAAc,CAACe,QAAQ,IAAIF,gBAAgB,CAACG,OAAO,CAAChB,cAAc,CAACe,QAAQ,CAAC,KAAK,CAAC,CAAC,GAC/Ef,cAAc,CAACe,QAAQ,GACvBF,gBAAgB,CAAC,CAAC,CAAC;MACzB,MAAMI,eAAe,GAAG,CAAAC,EAAA,GAAAvC,mBAAmB,CAACwC,IAAI,CAACd,QAAQ,IAAIA,QAAQ,CAACM,WAAW,KAAKJ,cAAc,CAAC,cAAAW,EAAA,cAAAA,EAAA,GAAI,IAAI;MAC7GhB,iBAAiB,CAAAkB,MAAA,CAAAC,MAAA,CAAAD,MAAA,CAAAC,MAAA,KAAMrB,cAAc;QAAEK,QAAQ,EAAEY,eAAe;QAAEF,QAAQ;QAAEO,KAAK,EAAE;MAAI,GAAG;IAC5F,CAAC;IAED,MAAMP,QAAQ,GAAGf,cAAc,CAACe,QAAQ;IACxC,MAAMQ,gBAAgB,GAAIC,WAA+B,IAAI;MAC3DtB,iBAAiB,CAAAkB,MAAA,CAAAC,MAAA,CAAAD,MAAA,CAAAC,MAAA,KAAMrB,cAAc;QAAEe,QAAQ,EAAES;MAAW,GAAG;IACjE,CAAC;IAED,MAAMF,KAAK,GAAGtB,cAAc,CAACsB,KAAK;IAClC,MAAMG,aAAa,GAAIC,QAAiB,IAAI;MAC1CxB,iBAAiB,CAAAkB,MAAA,CAAAC,MAAA,CAAAD,MAAA,CAAAC,MAAA,KAAMrB,cAAc;QAAEsB,KAAK,EAAEI;MAAQ,GAAG;IAC3D,CAAC;IAED,OAAO;MAAEC,KAAK,EAAE3B,cAAc;MAAEK,QAAQ;MAAEC,mBAAmB;MAAES,QAAQ;MAAEQ,gBAAgB;MAAED,KAAK;MAAEG;IAAa,CAAE;EACnH,CAAC,CAAC;EAEF,OACEtE,KAAA,CAAAyE,aAAA;IAAKC,SAAS,EAAE3D,MAAM,CAAC,cAAc,CAAC;IAAE4D,GAAG,EAAEtC;EAAY,GACvDrC,KAAA,CAAAyE,aAAA,CAACG,iBAAiB;IAChBzD,cAAc,EAAEA,cAAc;IAC9B0D,MAAM,EAAElC,MAAM,CAACC,GAAG,CAACkC,KAAK,IAAIA,KAAK,CAACN,KAAK,CAAC;IACxCO,QAAQ,EAAEjC,KAAK,IAAG;MAChB,MAAMkC,OAAO,GAAG/C,SAAS,CAACgD,MAAM,CAAC,CAACC,CAAC,EAAEC,aAAa,KAAKA,aAAa,KAAKrC,KAAK,CAAC;MAC/EZ,iBAAiB,CAAC8C,OAAO,CAAC;MAC1B5C,iBAAiB,CAACU,KAAK,CAAC;IAC1B,CAAC;IACDsC,iBAAiB,EAAEtC,KAAK,IAAG;MACzB,MAAMuC,aAAa,GAAGpD,SAAS,CAACa,KAAK,CAAC;MACtC,MAAMkC,OAAO,GAAG/C,SAAS,CAACgD,MAAM,CAAC,CAACC,CAAC,EAAEC,aAAa,KAAKA,aAAa,KAAKrC,KAAK,CAAC;MAC/EZ,iBAAiB,CAAC8C,OAAO,CAAC;MAC1BhD,cAAc,CAACqD,aAAa,CAAC;MAC7BjD,iBAAiB,CAACU,KAAK,CAAC;IAC1B,CAAC;IACDlB,QAAQ,EAAEA,QAAQ;IAClB0D,cAAc,EAAExC,KAAK,IACnB9C,KAAA,CAAAyE,aAAA,CAAC5D,aAAa;MACZqC,QAAQ,EAAEP,MAAM,CAACG,KAAK,CAAC,CAACI,QAAQ;MAChCC,mBAAmB,EAAER,MAAM,CAACG,KAAK,CAAC,CAACK,mBAAmB;MACtD9B,UAAU,EAAED,eAAe,GAAGC,UAAU,GAAG,IAAI;MAC/CG,mBAAmB,EAAEA,mBAAmB;MACxCG,WAAW,EAAEA,WAAW;MACxBL,gBAAgB,EAAEA,gBAAgB;MAClCI,WAAW,EAAEA,WAAW;MACxBH,iBAAiB,EAAEA;IAAiB,EAEvC;IACDgE,cAAc,EAAEzC,KAAK,IACnB9C,KAAA,CAAAyE,aAAA,CAAC7D,aAAa;MACZsC,QAAQ,EAAEP,MAAM,CAACG,KAAK,CAAC,CAACI,QAAQ;MAChCU,QAAQ,EAAEjB,MAAM,CAACG,KAAK,CAAC,CAACc,QAAQ;MAChCQ,gBAAgB,EAAEzB,MAAM,CAACG,KAAK,CAAC,CAACsB,gBAAgB;MAChD1C,WAAW,EAAEA,WAAW;MACxBH,iBAAiB,EAAEA,iBAAiB;MACpCiE,cAAc,EAAErE,cAAc,GAAG,OAAO,GAAG;IAAQ,EAEtD;IACDsE,WAAW,EAAE3C,KAAK,IAChB9C,KAAA,CAAAyE,aAAA,CAAC3D,UAAU;MACToC,QAAQ,EAAEP,MAAM,CAACG,KAAK,CAAC,CAACI,QAAQ;MAChCU,QAAQ,EAAEjB,MAAM,CAACG,KAAK,CAAC,CAACc,QAAQ;MAChCO,KAAK,EAAExB,MAAM,CAACG,KAAK,CAAC,CAACqB,KAAK;MAC1BG,aAAa,EAAE3B,MAAM,CAACG,KAAK,CAAC,CAACwB,aAAa;MAC1CjD,UAAU,EAAEA,UAAU;MACtBI,gBAAgB,EAAEA,gBAAgB;MAClCE,WAAW,EAAEA,WAAW;MACxBD,WAAW,EAAEA;IAAW,EAE3B;IACDA,WAAW,EAAEA;EAAW,EACxB,EAEDP,cAAc,IACbnB,KAAA,CAAAyE,aAAA;IAAKC,SAAS,EAAExE,IAAI,CAACa,MAAM,CAAC,wBAAwB,CAAC,EAAEC,cAAc,CAAC,gCAAgC,CAAC;EAAC,GACtGhB,KAAA,CAAAyE,aAAA,CAACpE,sBAAsB;IACrBqF,OAAO,EAAC,QAAQ;IAChBC,SAAS,EAAEjE,WAAW,CAACkE,mCAAmC;IAC1DC,KAAK,EAAE/D,eAAe,CAACc,GAAG,CAAC,CAAC4B,KAAK,EAAE1B,KAAK,KAAI;;MAC1C,OAAO;QACLgD,EAAE,EAAEhD,KAAK,CAACiD,QAAQ,EAAE;QACpBC,IAAI,EAAE,CAAAC,EAAA,IAAAlC,EAAA,GAAArC,WAAW,CAACwE,gCAAgC,cAAAnC,EAAA,uBAAAA,EAAA,CAAAoC,IAAA,CAAAzE,WAAA,EAAG8C,KAAK,CAAC,cAAAyB,EAAA,cAAAA,EAAA,GAAI,EAAE;QACjEN,SAAS,EAAE,CAAAS,EAAA,IAAAC,EAAA,GAAA3E,WAAW,CAAC4E,oCAAoC,cAAAD,EAAA,uBAAAA,EAAA,CAAAF,IAAA,CAAAzE,WAAA,EAAG8C,KAAK,CAAC,cAAA4B,EAAA,cAAAA,EAAA,GAAI;OACzE;IACH,CAAC,CAAC;IACFG,WAAW,EAAEC,KAAA,IAAe;MAAA,IAAd;QAAEC;MAAM,CAAE,GAAAD,KAAA;MACtB,MAAM1D,KAAK,GAAG4D,QAAQ,CAACD,MAAM,CAACX,EAAE,CAAC;MACjC,IAAI,CAACa,KAAK,CAAC7D,KAAK,CAAC,IAAIhB,eAAe,CAACgB,KAAK,CAAC,EAAE;QAC3CZ,iBAAiB,CAAC,CAAC,GAAGD,SAAS,EAAAgC,MAAA,CAAAC,MAAA,KAAOpC,eAAe,CAACgB,KAAK,CAAC,EAAG,CAAC;QAChEV,iBAAiB,CAACO,MAAM,CAACiE,MAAM,CAAC;QAChC7E,cAAc,CAACD,eAAe,CAACgB,KAAK,CAAC,CAAC;;IAE1C,CAAC;IACD+D,QAAQ,EAAE/E,eAAe,CAAC8E,MAAM,KAAK,CAAC;IACtCE,kBAAkB,EAAEhF,eAAe,CAAC8E,MAAM,KAAK,CAAC;IAChDG,UAAU,EAAE;MACVf,IAAI,EAAE,CAAAjC,EAAA,GAAArC,WAAW,CAACsF,2BAA2B,cAAAjD,EAAA,cAAAA,EAAA,GAAI,EAAE;MACnDkD,OAAO,EAAEA,CAAA,KAAK;QACZ/E,iBAAiB,CAAC,CAAC,GAAGD,SAAS,EAAE;UAAEiB,QAAQ,EAAE,IAAI;UAAEU,QAAQ,EAAE,GAAG;UAAEO,KAAK,EAAE;QAAI,CAAE,CAAC,CAAC;QACjF/B,iBAAiB,CAACO,MAAM,CAACiE,MAAM,CAAC;MAClC;;EACD,EACD,CAEL,EAED5G,KAAA,CAAAyE,aAAA;IAAKC,SAAS,EAAE3D,MAAM,CAAC,sBAAsB;EAAC,GAC5Cf,KAAA,CAAAyE,aAAA,SAAAR,MAAA,CAAAC,MAAA,KACM/D,6BAA6B,CAAC;IAChC+G,MAAM,EAAE;GACgD,CAAC,GAE3DlH,KAAA,CAAAyE,aAAA,CAACrE,cAAc;IACb+G,UAAU,EAAC,MAAM;IACjBzB,OAAO,EAAC,MAAM;IACdhB,SAAS,EAAExE,IAAI,CAACa,MAAM,CAAC,qBAAqB,CAAC,EAAEC,cAAc,CAAC,qBAAqB,CAAC,CAAC;IACrFiG,OAAO,EAAEpF;EAAS,GAEjBH,WAAW,CAAC0F,gBAAgB,CACd,CACZ,EACPpH,KAAA,CAAAyE,aAAA,SAAAR,MAAA,CAAAC,MAAA,KACM/D,6BAA6B,CAAC;IAChC+G,MAAM,EAAE;GACiD,CAAC,GAE5DlH,KAAA,CAAAyE,aAAA,CAACrE,cAAc;IACbsE,SAAS,EAAExE,IAAI,CAACa,MAAM,CAAC,qBAAqB,CAAC,EAAEC,cAAc,CAAC,qBAAqB,CAAC,CAAC;IACrFmG,UAAU,EAAC,MAAM;IACjBF,OAAO,EAAErF;EAAQ,GAEhBF,WAAW,CAAC2F,eAAe,CACb,CACZ,CACH,CACF;AAEV;AAcA,SAASzC,iBAAiBA,CAAA0C,KAAA,EAUN;EAAA,IAVO;IACzBzC,MAAM;IACN1D,cAAc;IACd4D,QAAQ;IACRK,iBAAiB;IACjBxD,QAAQ;IACR0D,cAAc;IACdC,cAAc;IACdE,WAAW;IACX/D;EAAW,CACO,GAAA4F,KAAA;EAClB,MAAMC,QAAQ,GAAG9G,SAAS,EAAE;EAC5B,MAAM+G,QAAQ,GAAGD,QAAQ,IAAI,CAACpG,cAAc;EAE5C,MAAMsG,eAAe,GAAG/G,WAAW,EAAE;EACrC,MAAMgH,eAAe,GAAGhH,WAAW,EAAE;EACrC,MAAMiH,YAAY,GAAGjH,WAAW,EAAE;EAClC,MAAMkH,OAAO,GACX5H,KAAA,CAAAyE,aAAA;IAAKC,SAAS,EAAE3D,MAAM,CAAC,yBAAyB;EAAC,GAC/Cf,KAAA,CAAAyE,aAAA;IAAKqB,EAAE,EAAE2B,eAAe;IAAE/C,SAAS,EAAE3D,MAAM,CAAC,0BAA0B;EAAC,GACpEW,WAAW,CAACmG,YAAY,CACrB,EACN7H,KAAA,CAAAyE,aAAA;IAAKqB,EAAE,EAAE4B,eAAe;IAAEhD,SAAS,EAAE3D,MAAM,CAAC,0BAA0B;EAAC,GACpEW,WAAW,CAACoG,YAAY,CACrB,EACN9H,KAAA,CAAAyE,aAAA;IAAKqB,EAAE,EAAE6B,YAAY;IAAEjD,SAAS,EAAE3D,MAAM,CAAC,0BAA0B;EAAC,GACjEW,WAAW,CAACqG,SAAS,CAClB,EACN/H,KAAA,CAAAyE,aAAA;IAAKC,SAAS,EAAE3D,MAAM,CAAC,0BAA0B;EAAC,EAAQ,CAE7D;EAED,OACEf,KAAA,CAAAyE,aAAA;IACEC,SAAS,EAAExE,IAAI,CACba,MAAM,CAAC,mBAAmB,CAAC,EAC3ByG,QAAQ,IAAIzG,MAAM,CAAC,qBAAqB,CAAC,EACzCA,MAAM,CAAC,mBAAmB,CAAC,CAC5B;IACDa,QAAQ,EAAEoG,KAAK,IAAG;MAChBA,KAAK,CAACC,cAAc,EAAE;MACtBrG,QAAQ,EAAE;IACZ;EAAC,GAEA,CAAC4F,QAAQ,IAAII,OAAO,EAEpB/C,MAAM,CAACjC,GAAG,CAAC,CAAC4B,KAAK,EAAE1B,KAAK,KAAI;;IAAC,OAC5B9C,KAAA,CAAAyE,aAAA;MACEyD,GAAG,EAAEpF,KAAK;MACVqF,IAAI,EAAC,OAAO;MAAA,cACAzG,WAAW,CAAC0G,WAAW,CAAC5D,KAAK,CAAC,CAAC6D,aAAa;MACxD3D,SAAS,EAAExE,IAAI,CAACa,MAAM,CAAC,yBAAyB,CAAC,EAAEI,cAAc,IAAIJ,MAAM,CAAC,8BAA8B,CAAC;IAAC,GAE5Gf,KAAA,CAAAyE,aAAA;MAAKC,SAAS,EAAExE,IAAI,CAACa,MAAM,CAAC,wBAAwB,CAAC,EAAEyG,QAAQ,IAAIzG,MAAM,CAAC,qBAAqB,CAAC;IAAC,GAC/Ff,KAAA,CAAAyE,aAAA,CAAC6D,gBAAgB;MACfd,QAAQ,EAAEA,QAAQ;MAClBe,KAAK,EAAE7G,WAAW,CAACmG,YAAY;MAC/BW,OAAO,EAAEf,eAAe;MACxB/C,SAAS,EAAExE,IAAI,CAACa,MAAM,CAAC,6BAA6B,CAAC,EAAEC,cAAc,CAAC,6BAA6B,CAAC,CAAC;MACrG8B,KAAK,EAAEA;IAAK,GAEXwC,cAAc,CAACxC,KAAK,CAAC,CACL,CACf,EAEN9C,KAAA,CAAAyE,aAAA;MAAKC,SAAS,EAAExE,IAAI,CAACa,MAAM,CAAC,wBAAwB,CAAC,EAAEyG,QAAQ,IAAIzG,MAAM,CAAC,qBAAqB,CAAC;IAAC,GAC/Ff,KAAA,CAAAyE,aAAA,CAAC6D,gBAAgB;MACfd,QAAQ,EAAEA,QAAQ;MAClBe,KAAK,EAAE7G,WAAW,CAACoG,YAAY;MAC/BU,OAAO,EAAEd,eAAe;MACxBhD,SAAS,EAAExE,IAAI,CAACa,MAAM,CAAC,6BAA6B,CAAC,EAAEC,cAAc,CAAC,6BAA6B,CAAC,CAAC;MACrG8B,KAAK,EAAEA;IAAK,GAEXyC,cAAc,CAACzC,KAAK,CAAC,CACL,CACf,EAEN9C,KAAA,CAAAyE,aAAA;MAAKC,SAAS,EAAExE,IAAI,CAACa,MAAM,CAAC,wBAAwB,CAAC,EAAEyG,QAAQ,IAAIzG,MAAM,CAAC,qBAAqB,CAAC;IAAC,GAC/Ff,KAAA,CAAAyE,aAAA,CAAC6D,gBAAgB;MACfd,QAAQ,EAAEA,QAAQ;MAClBe,KAAK,EAAE7G,WAAW,CAACqG,SAAS;MAC5BS,OAAO,EAAEb,YAAY;MACrBjD,SAAS,EAAExE,IAAI,CAACa,MAAM,CAAC,0BAA0B,CAAC,EAAEC,cAAc,CAAC,0BAA0B,CAAC,CAAC;MAC/F8B,KAAK,EAAEA;IAAK,GAEX2C,WAAW,CAAC3C,KAAK,CAAC,CACF,CACf,EAEL3B,cAAc,IACbnB,KAAA,CAAAyE,aAAA;MAAKC,SAAS,EAAExE,IAAI,CAACa,MAAM,CAAC,wBAAwB,CAAC,EAAEyG,QAAQ,IAAIzG,MAAM,CAAC,qBAAqB,CAAC;IAAC,GAC/Ff,KAAA,CAAAyE,aAAA;MAAKC,SAAS,EAAE3D,MAAM,CAAC,2BAA2B;IAAC,GACjDf,KAAA,CAAAyE,aAAA,CAACgE,wBAAwB;MACvBjB,QAAQ,EAAEA,QAAQ;MAClB7B,SAAS,EAAE,CAAAM,EAAA,IAAAlC,EAAA,GAAArC,WAAW,CAACgH,gCAAgC,cAAA3E,EAAA,uBAAAA,EAAA,CAAAoC,IAAA,CAAAzE,WAAA,EAAG8C,KAAK,CAAC,cAAAyB,EAAA,cAAAA,EAAA,GAAI,EAAE;MACtE0C,mBAAmB,EAAE,CAAAvC,EAAA,IAAAC,EAAA,GAAA3E,WAAW,CAACkH,+BAA+B,cAAAvC,EAAA,uBAAAA,EAAA,CAAAF,IAAA,CAAAzE,WAAA,EAAG8C,KAAK,CAAC,cAAA4B,EAAA,cAAAA,EAAA,GAAI,EAAE;MAC/ES,QAAQ,EAAEhC,MAAM,CAAC+B,MAAM,KAAK,CAAC;MAC7Bf,KAAK,EAAE,CACL;QACEC,EAAE,EAAE,QAAQ;QACZE,IAAI,EAAE,CAAA6C,EAAA,GAAAnH,WAAW,CAACoH,2BAA2B,cAAAD,EAAA,cAAAA,EAAA,GAAI,EAAE;QACnDhC,QAAQ,EAAErC,KAAK,CAACuE,eAAe,KAAKtF;OACrC,EACD;QAAEqC,EAAE,EAAE,mBAAmB;QAAEE,IAAI,EAAE,CAAAgD,EAAA,GAAAtH,WAAW,CAACuH,oCAAoC,cAAAD,EAAA,cAAAA,EAAA,GAAI;MAAE,CAAE,CAC1F;MACDzC,WAAW,EAAE2C,MAAM,IAAG;QACpB,QAAQA,MAAM;UACZ,KAAK,QAAQ;YACX,OAAOnE,QAAQ,CAACjC,KAAK,CAAC;UACxB,KAAK,mBAAmB;YACtB,OAAOsC,iBAAiB,CAACtC,KAAK,CAAC;;MAErC,CAAC;MACDA,KAAK,EAAEA;IAAK,EACZ,CACE,CAET,CACG;GACP,CAAC,CACG;AAEX;AAEA,SAASwF,gBAAgBA,CAAAa,KAAA,EAcxB;EAAA,IAdyB;IACxB3B,QAAQ;IACRe,KAAK;IACLC,OAAO;IACPY,QAAQ;IACR1E,SAAS;IACT5B;EAAK,CAQN,GAAAqG,KAAA;EACC,OAAO3B,QAAQ,GACbxH,KAAA,CAAAyE,aAAA,CAACnE,iBAAiB;IAACiI,KAAK,EAAEA,KAAK;IAAE7D,SAAS,EAAEA,SAAS;IAAE2E,OAAO,EAAE,IAAI;IAAA,kBAAkBvG;EAAK,GACxFsG,QAAQ,CACS,GAEpBpJ,KAAA,CAAAyE,aAAA,CAAClE,gBAAgB,CAAC+I,QAAQ;IAACnF,KAAK,EAAE;MAAEoF,cAAc,EAAEf;IAAO;EAAE,GAC3DxI,KAAA,CAAAyE,aAAA,CAACnE,iBAAiB;IAACoE,SAAS,EAAEA,SAAS;IAAA,kBAAkB5B;EAAK,GAC3DsG,QAAQ,CACS,CAEvB;AACH;AAEA,SAASX,wBAAwBA,CAAAe,KAAA,EAgBhC;EAAA,IAhBiC;IAChChC,QAAQ;IACR7B,SAAS;IACTgD,mBAAmB;IACnB9B,QAAQ;IACRhB,KAAK;IACLU,WAAW;IACXzD;EAAK,CASN,GAAA0G,KAAA;EACC,OAAOhC,QAAQ,GACbxH,KAAA,CAAAyE,aAAA,CAACpE,sBAAsB;IACrBqF,OAAO,EAAC,QAAQ;IAChBC,SAAS,EAAEA,SAAS;IACpBE,KAAK,EAAEA,KAAK,CAAC4D,KAAK,CAAC,CAAC,CAAC;IACrBlD,WAAW,EAAEmD,KAAA;MAAA,IAAC;QAAEjD;MAAM,CAAE,GAAAiD,KAAA;MAAA,OAAKnD,WAAW,CAACE,MAAM,CAACX,EAAE,CAAC;IAAA;IACnDe,QAAQ,EAAEA,QAAQ;IAClBE,UAAU,EAAE;MACVf,IAAI,EAAEH,KAAK,CAAC,CAAC,CAAC,CAACG,IAAI;MACnBiB,OAAO,EAAEA,CAAA,KAAMV,WAAW,CAACV,KAAK,CAAC,CAAC,CAAC,CAACC,EAAE,CAAC;MACvCe,QAAQ;MACRlB,SAAS,EAAEgD;KACZ;IACDjE,SAAS,EAAE1D,cAAc,CAAC,mCAAmC,CAAC;IAAA,kBAC9C8B;EAAK,EACrB,GAEF9C,KAAA,CAAAyE,aAAA,CAACpE,sBAAsB;IACrBqF,OAAO,EAAC,MAAM;IACdC,SAAS,EAAEA,SAAS;IACpBE,KAAK,EAAEA,KAAK;IACZU,WAAW,EAAEoD,KAAA;MAAA,IAAC;QAAElD;MAAM,CAAE,GAAAkD,KAAA;MAAA,OAAKpD,WAAW,CAACE,MAAM,CAACX,EAAE,CAAC;IAAA;IACnDe,QAAQ,EAAEA,QAAQ;IAClBnC,SAAS,EAAE1D,cAAc,CAAC,mCAAmC,CAAC;IAAA,kBAC9C8B;EAAK,EAExB;AACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}