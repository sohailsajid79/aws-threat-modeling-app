{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect } from 'react';\nimport clsx from 'clsx';\nimport { splitItems } from '../drawer/drawers-helpers';\nimport OverflowMenu from '../drawer/overflow-menu';\nimport { ToggleButton, togglesConfig } from '../toggles';\nimport { TOOLS_DRAWER_ID } from '../utils/use-drawers';\nimport sharedStyles from '../styles.css.js';\nimport testutilStyles from '../test-classes/styles.css.js';\nimport styles from './styles.css.js';\nconst MobileToggle = React.forwardRef((_ref, ref) => {\n  let {\n    className,\n    ariaLabels,\n    type,\n    disabled,\n    onClick\n  } = _ref;\n  const {\n    TagName,\n    iconName,\n    getLabels\n  } = togglesConfig[type];\n  const {\n    mainLabel,\n    openLabel\n  } = getLabels(ariaLabels);\n  return React.createElement(TagName, {\n    className: clsx(styles['mobile-toggle'], styles[`mobile-toggle-type-${type}`]),\n    \"aria-hidden\": disabled,\n    \"aria-label\": mainLabel,\n    onClick: e => e.target === e.currentTarget && onClick()\n  }, React.createElement(ToggleButton, {\n    ref: ref,\n    className: className,\n    iconName: iconName,\n    onClick: onClick,\n    ariaLabel: openLabel,\n    disabled: disabled,\n    ariaExpanded: disabled\n  }));\n});\nexport function MobileToolbar(_ref2) {\n  let {\n    ariaLabels,\n    toggleRefs,\n    topOffset,\n    navigationHide,\n    toolsHide,\n    anyPanelOpen,\n    unfocusable,\n    drawers,\n    activeDrawerId,\n    children,\n    onNavigationOpen,\n    onToolsOpen,\n    onDrawerChange,\n    mobileBarRef\n  } = _ref2;\n  useEffect(() => {\n    if (anyPanelOpen) {\n      document.body.classList.add(styles['block-body-scroll']);\n      return () => {\n        document.body.classList.remove(styles['block-body-scroll']);\n      };\n    } else {\n      document.body.classList.remove(styles['block-body-scroll']);\n    }\n  }, [anyPanelOpen]);\n  const {\n    overflowItems,\n    visibleItems\n  } = splitItems(drawers, 2, activeDrawerId);\n  const overflowMenuHasBadge = !!overflowItems.find(item => item.badge);\n  return React.createElement(\"div\", {\n    ref: mobileBarRef,\n    className: clsx(styles['mobile-bar'], testutilStyles['mobile-bar'], unfocusable && sharedStyles.unfocusable),\n    style: {\n      top: topOffset\n    }\n  }, !navigationHide && React.createElement(MobileToggle, {\n    ref: toggleRefs.navigation,\n    type: \"navigation\",\n    className: testutilStyles['navigation-toggle'],\n    ariaLabels: ariaLabels,\n    disabled: anyPanelOpen,\n    onClick: onNavigationOpen\n  }), React.createElement(\"div\", {\n    className: styles['mobile-bar-breadcrumbs']\n  }, children && React.createElement(\"div\", {\n    className: testutilStyles.breadcrumbs\n  }, children)), !toolsHide && !drawers && React.createElement(MobileToggle, {\n    ref: toggleRefs.tools,\n    type: \"tools\",\n    className: testutilStyles['tools-toggle'],\n    ariaLabels: ariaLabels,\n    disabled: anyPanelOpen,\n    onClick: onToolsOpen\n  }), drawers && React.createElement(\"aside\", {\n    \"aria-label\": ariaLabels === null || ariaLabels === void 0 ? void 0 : ariaLabels.drawers,\n    role: \"region\"\n  }, React.createElement(\"div\", {\n    className: styles['drawers-container'],\n    role: \"toolbar\",\n    \"aria-orientation\": \"horizontal\"\n  }, visibleItems.map((item, index) => {\n    var _a;\n    return React.createElement(\"div\", {\n      className: clsx(styles['mobile-toggle'], styles['mobile-toggle-type-drawer']),\n      key: index,\n      onClick: () => onDrawerChange(item.id)\n    }, React.createElement(ToggleButton, {\n      className: clsx(testutilStyles['drawers-trigger'], item.id === TOOLS_DRAWER_ID && testutilStyles['tools-toggle']),\n      iconName: item.trigger.iconName,\n      iconSvg: item.trigger.iconSvg,\n      badge: item.badge,\n      ariaLabel: (_a = item.ariaLabels) === null || _a === void 0 ? void 0 : _a.triggerButton,\n      ariaExpanded: activeDrawerId === item.id,\n      testId: `awsui-app-layout-trigger-${item.id}`\n    }));\n  }), overflowItems.length > 0 && React.createElement(\"div\", {\n    className: clsx(styles['mobile-toggle'], styles['mobile-toggle-type-drawer'])\n  }, React.createElement(OverflowMenu, {\n    ariaLabel: overflowMenuHasBadge ? ariaLabels === null || ariaLabels === void 0 ? void 0 : ariaLabels.drawersOverflowWithBadge : ariaLabels === null || ariaLabels === void 0 ? void 0 : ariaLabels.drawersOverflow,\n    items: overflowItems,\n    onItemClick: _ref3 => {\n      let {\n        detail\n      } = _ref3;\n      return onDrawerChange(detail.id);\n    }\n  })))));\n}","map":{"version":3,"names":["React","useEffect","clsx","splitItems","OverflowMenu","ToggleButton","togglesConfig","TOOLS_DRAWER_ID","sharedStyles","testutilStyles","styles","MobileToggle","forwardRef","_ref","ref","className","ariaLabels","type","disabled","onClick","TagName","iconName","getLabels","mainLabel","openLabel","createElement","e","target","currentTarget","ariaLabel","ariaExpanded","MobileToolbar","_ref2","toggleRefs","topOffset","navigationHide","toolsHide","anyPanelOpen","unfocusable","drawers","activeDrawerId","children","onNavigationOpen","onToolsOpen","onDrawerChange","mobileBarRef","document","body","classList","add","remove","overflowItems","visibleItems","overflowMenuHasBadge","find","item","badge","style","top","navigation","breadcrumbs","tools","role","map","index","key","id","trigger","iconSvg","_a","triggerButton","testId","length","drawersOverflowWithBadge","drawersOverflow","items","onItemClick","_ref3","detail"],"sources":["/Users/sohailsajid/Desktop/threat-modeling-app/node_modules/src/app-layout/mobile-toolbar/index.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect } from 'react';\nimport clsx from 'clsx';\n\nimport { ButtonProps } from '../../button/interfaces';\nimport { splitItems } from '../drawer/drawers-helpers';\nimport OverflowMenu from '../drawer/overflow-menu';\nimport { AppLayoutProps } from '../interfaces';\nimport { ToggleButton, togglesConfig } from '../toggles';\nimport { TOOLS_DRAWER_ID } from '../utils/use-drawers';\n\nimport sharedStyles from '../styles.css.js';\nimport testutilStyles from '../test-classes/styles.css.js';\nimport styles from './styles.css.js';\n\ninterface MobileToggleProps {\n  className?: string;\n  ariaLabels?: AppLayoutProps.Labels;\n  type: keyof typeof togglesConfig;\n  disabled?: boolean;\n  onClick: () => void;\n}\nconst MobileToggle = React.forwardRef(\n  ({ className, ariaLabels, type, disabled, onClick }: MobileToggleProps, ref: React.Ref<ButtonProps.Ref>) => {\n    const { TagName, iconName, getLabels } = togglesConfig[type];\n    const { mainLabel, openLabel } = getLabels(ariaLabels);\n\n    return (\n      <TagName\n        className={clsx(styles['mobile-toggle'], styles[`mobile-toggle-type-${type}`])}\n        aria-hidden={disabled}\n        aria-label={mainLabel}\n        onClick={e => e.target === e.currentTarget && onClick()}\n      >\n        <ToggleButton\n          ref={ref}\n          className={className}\n          iconName={iconName}\n          onClick={onClick}\n          ariaLabel={openLabel}\n          disabled={disabled}\n          ariaExpanded={disabled}\n        />\n      </TagName>\n    );\n  }\n);\ninterface MobileToolbarProps {\n  anyPanelOpen: boolean;\n  unfocusable: boolean | undefined;\n  toggleRefs: {\n    navigation: React.Ref<ButtonProps.Ref>;\n    tools: React.Ref<ButtonProps.Ref>;\n  };\n  navigationHide: boolean | undefined;\n  toolsHide: boolean | undefined;\n  topOffset?: number;\n  ariaLabels: AppLayoutProps.Labels | undefined;\n  mobileBarRef: React.Ref<HTMLDivElement>;\n  children: React.ReactNode;\n  onNavigationOpen: () => void;\n  onToolsOpen: () => void;\n  drawers: Array<AppLayoutProps.Drawer> | undefined;\n  activeDrawerId: string | null;\n  onDrawerChange: (newDrawerId: string | null) => void;\n}\n\nexport function MobileToolbar({\n  ariaLabels,\n  toggleRefs,\n  topOffset,\n  navigationHide,\n  toolsHide,\n  anyPanelOpen,\n  unfocusable,\n  drawers,\n  activeDrawerId,\n  children,\n  onNavigationOpen,\n  onToolsOpen,\n  onDrawerChange,\n  mobileBarRef,\n}: MobileToolbarProps) {\n  useEffect(() => {\n    if (anyPanelOpen) {\n      document.body.classList.add(styles['block-body-scroll']);\n      return () => {\n        document.body.classList.remove(styles['block-body-scroll']);\n      };\n    } else {\n      document.body.classList.remove(styles['block-body-scroll']);\n    }\n  }, [anyPanelOpen]);\n\n  const { overflowItems, visibleItems } = splitItems(drawers, 2, activeDrawerId);\n  const overflowMenuHasBadge = !!overflowItems.find(item => item.badge);\n\n  return (\n    <div\n      ref={mobileBarRef}\n      className={clsx(styles['mobile-bar'], testutilStyles['mobile-bar'], unfocusable && sharedStyles.unfocusable)}\n      style={{ top: topOffset }}\n    >\n      {!navigationHide && (\n        <MobileToggle\n          ref={toggleRefs.navigation}\n          type=\"navigation\"\n          className={testutilStyles['navigation-toggle']}\n          ariaLabels={ariaLabels}\n          disabled={anyPanelOpen}\n          onClick={onNavigationOpen}\n        />\n      )}\n      <div className={styles['mobile-bar-breadcrumbs']}>\n        {children && <div className={testutilStyles.breadcrumbs}>{children}</div>}\n      </div>\n      {!toolsHide && !drawers && (\n        <MobileToggle\n          ref={toggleRefs.tools}\n          type=\"tools\"\n          className={testutilStyles['tools-toggle']}\n          ariaLabels={ariaLabels}\n          disabled={anyPanelOpen}\n          onClick={onToolsOpen}\n        />\n      )}\n      {drawers && (\n        <aside aria-label={ariaLabels?.drawers} role=\"region\">\n          <div className={styles['drawers-container']} role=\"toolbar\" aria-orientation=\"horizontal\">\n            {visibleItems.map((item, index) => (\n              <div\n                className={clsx(styles['mobile-toggle'], styles['mobile-toggle-type-drawer'])}\n                key={index}\n                onClick={() => onDrawerChange(item.id)}\n              >\n                <ToggleButton\n                  className={clsx(\n                    testutilStyles['drawers-trigger'],\n                    item.id === TOOLS_DRAWER_ID && testutilStyles['tools-toggle']\n                  )}\n                  iconName={item.trigger!.iconName}\n                  iconSvg={item.trigger!.iconSvg}\n                  badge={item.badge}\n                  ariaLabel={item.ariaLabels?.triggerButton}\n                  ariaExpanded={activeDrawerId === item.id}\n                  testId={`awsui-app-layout-trigger-${item.id}`}\n                />\n              </div>\n            ))}\n            {overflowItems.length > 0 && (\n              <div className={clsx(styles['mobile-toggle'], styles['mobile-toggle-type-drawer'])}>\n                <OverflowMenu\n                  ariaLabel={overflowMenuHasBadge ? ariaLabels?.drawersOverflowWithBadge : ariaLabels?.drawersOverflow}\n                  items={overflowItems}\n                  onItemClick={({ detail }) => onDrawerChange(detail.id)}\n                />\n              </div>\n            )}\n          </div>\n        </aside>\n      )}\n    </div>\n  );\n}\n"],"mappings":"AAAA;AACA;AACA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,OAAOC,IAAI,MAAM,MAAM;AAGvB,SAASC,UAAU,QAAQ,2BAA2B;AACtD,OAAOC,YAAY,MAAM,yBAAyB;AAElD,SAASC,YAAY,EAAEC,aAAa,QAAQ,YAAY;AACxD,SAASC,eAAe,QAAQ,sBAAsB;AAEtD,OAAOC,YAAY,MAAM,kBAAkB;AAC3C,OAAOC,cAAc,MAAM,+BAA+B;AAC1D,OAAOC,MAAM,MAAM,iBAAiB;AASpC,MAAMC,YAAY,GAAGX,KAAK,CAACY,UAAU,CACnC,CAAAC,IAAA,EAAwEC,GAA+B,KAAI;EAAA,IAA1G;IAAEC,SAAS;IAAEC,UAAU;IAAEC,IAAI;IAAEC,QAAQ;IAAEC;EAAO,CAAqB,GAAAN,IAAA;EACpE,MAAM;IAAEO,OAAO;IAAEC,QAAQ;IAAEC;EAAS,CAAE,GAAGhB,aAAa,CAACW,IAAI,CAAC;EAC5D,MAAM;IAAEM,SAAS;IAAEC;EAAS,CAAE,GAAGF,SAAS,CAACN,UAAU,CAAC;EAEtD,OACEhB,KAAA,CAAAyB,aAAA,CAACL,OAAO;IACNL,SAAS,EAAEb,IAAI,CAACQ,MAAM,CAAC,eAAe,CAAC,EAAEA,MAAM,CAAC,sBAAsBO,IAAI,EAAE,CAAC,CAAC;IAAA,eACjEC,QAAQ;IAAA,cACTK,SAAS;IACrBJ,OAAO,EAAEO,CAAC,IAAIA,CAAC,CAACC,MAAM,KAAKD,CAAC,CAACE,aAAa,IAAIT,OAAO;EAAE,GAEvDnB,KAAA,CAAAyB,aAAA,CAACpB,YAAY;IACXS,GAAG,EAAEA,GAAG;IACRC,SAAS,EAAEA,SAAS;IACpBM,QAAQ,EAAEA,QAAQ;IAClBF,OAAO,EAAEA,OAAO;IAChBU,SAAS,EAAEL,SAAS;IACpBN,QAAQ,EAAEA,QAAQ;IAClBY,YAAY,EAAEZ;EAAQ,EACtB,CACM;AAEd,CAAC,CACF;AAqBD,OAAM,SAAUa,aAAaA,CAAAC,KAAA,EAeR;EAAA,IAfS;IAC5BhB,UAAU;IACViB,UAAU;IACVC,SAAS;IACTC,cAAc;IACdC,SAAS;IACTC,YAAY;IACZC,WAAW;IACXC,OAAO;IACPC,cAAc;IACdC,QAAQ;IACRC,gBAAgB;IAChBC,WAAW;IACXC,cAAc;IACdC;EAAY,CACO,GAAAb,KAAA;EACnB/B,SAAS,CAAC,MAAK;IACb,IAAIoC,YAAY,EAAE;MAChBS,QAAQ,CAACC,IAAI,CAACC,SAAS,CAACC,GAAG,CAACvC,MAAM,CAAC,mBAAmB,CAAC,CAAC;MACxD,OAAO,MAAK;QACVoC,QAAQ,CAACC,IAAI,CAACC,SAAS,CAACE,MAAM,CAACxC,MAAM,CAAC,mBAAmB,CAAC,CAAC;MAC7D,CAAC;KACF,MAAM;MACLoC,QAAQ,CAACC,IAAI,CAACC,SAAS,CAACE,MAAM,CAACxC,MAAM,CAAC,mBAAmB,CAAC,CAAC;;EAE/D,CAAC,EAAE,CAAC2B,YAAY,CAAC,CAAC;EAElB,MAAM;IAAEc,aAAa;IAAEC;EAAY,CAAE,GAAGjD,UAAU,CAACoC,OAAO,EAAE,CAAC,EAAEC,cAAc,CAAC;EAC9E,MAAMa,oBAAoB,GAAG,CAAC,CAACF,aAAa,CAACG,IAAI,CAACC,IAAI,IAAIA,IAAI,CAACC,KAAK,CAAC;EAErE,OACExD,KAAA,CAAAyB,aAAA;IACEX,GAAG,EAAE+B,YAAY;IACjB9B,SAAS,EAAEb,IAAI,CAACQ,MAAM,CAAC,YAAY,CAAC,EAAED,cAAc,CAAC,YAAY,CAAC,EAAE6B,WAAW,IAAI9B,YAAY,CAAC8B,WAAW,CAAC;IAC5GmB,KAAK,EAAE;MAAEC,GAAG,EAAExB;IAAS;EAAE,GAExB,CAACC,cAAc,IACdnC,KAAA,CAAAyB,aAAA,CAACd,YAAY;IACXG,GAAG,EAAEmB,UAAU,CAAC0B,UAAU;IAC1B1C,IAAI,EAAC,YAAY;IACjBF,SAAS,EAAEN,cAAc,CAAC,mBAAmB,CAAC;IAC9CO,UAAU,EAAEA,UAAU;IACtBE,QAAQ,EAAEmB,YAAY;IACtBlB,OAAO,EAAEuB;EAAgB,EAE5B,EACD1C,KAAA,CAAAyB,aAAA;IAAKV,SAAS,EAAEL,MAAM,CAAC,wBAAwB;EAAC,GAC7C+B,QAAQ,IAAIzC,KAAA,CAAAyB,aAAA;IAAKV,SAAS,EAAEN,cAAc,CAACmD;EAAW,GAAGnB,QAAQ,CAAO,CACrE,EACL,CAACL,SAAS,IAAI,CAACG,OAAO,IACrBvC,KAAA,CAAAyB,aAAA,CAACd,YAAY;IACXG,GAAG,EAAEmB,UAAU,CAAC4B,KAAK;IACrB5C,IAAI,EAAC,OAAO;IACZF,SAAS,EAAEN,cAAc,CAAC,cAAc,CAAC;IACzCO,UAAU,EAAEA,UAAU;IACtBE,QAAQ,EAAEmB,YAAY;IACtBlB,OAAO,EAAEwB;EAAW,EAEvB,EACAJ,OAAO,IACNvC,KAAA,CAAAyB,aAAA;IAAA,cAAmBT,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAEuB,OAAO;IAAEuB,IAAI,EAAC;EAAQ,GACnD9D,KAAA,CAAAyB,aAAA;IAAKV,SAAS,EAAEL,MAAM,CAAC,mBAAmB,CAAC;IAAEoD,IAAI,EAAC,SAAS;IAAA,oBAAkB;EAAY,GACtFV,YAAY,CAACW,GAAG,CAAC,CAACR,IAAI,EAAES,KAAK,KAAI;;IAAC,OACjChE,KAAA,CAAAyB,aAAA;MACEV,SAAS,EAAEb,IAAI,CAACQ,MAAM,CAAC,eAAe,CAAC,EAAEA,MAAM,CAAC,2BAA2B,CAAC,CAAC;MAC7EuD,GAAG,EAAED,KAAK;MACV7C,OAAO,EAAEA,CAAA,KAAMyB,cAAc,CAACW,IAAI,CAACW,EAAE;IAAC,GAEtClE,KAAA,CAAAyB,aAAA,CAACpB,YAAY;MACXU,SAAS,EAAEb,IAAI,CACbO,cAAc,CAAC,iBAAiB,CAAC,EACjC8C,IAAI,CAACW,EAAE,KAAK3D,eAAe,IAAIE,cAAc,CAAC,cAAc,CAAC,CAC9D;MACDY,QAAQ,EAAEkC,IAAI,CAACY,OAAQ,CAAC9C,QAAQ;MAChC+C,OAAO,EAAEb,IAAI,CAACY,OAAQ,CAACC,OAAO;MAC9BZ,KAAK,EAAED,IAAI,CAACC,KAAK;MACjB3B,SAAS,EAAE,CAAAwC,EAAA,GAAAd,IAAI,CAACvC,UAAU,cAAAqD,EAAA,uBAAAA,EAAA,CAAEC,aAAa;MACzCxC,YAAY,EAAEU,cAAc,KAAKe,IAAI,CAACW,EAAE;MACxCK,MAAM,EAAE,4BAA4BhB,IAAI,CAACW,EAAE;IAAE,EAC7C,CACE;GACP,CAAC,EACDf,aAAa,CAACqB,MAAM,GAAG,CAAC,IACvBxE,KAAA,CAAAyB,aAAA;IAAKV,SAAS,EAAEb,IAAI,CAACQ,MAAM,CAAC,eAAe,CAAC,EAAEA,MAAM,CAAC,2BAA2B,CAAC;EAAC,GAChFV,KAAA,CAAAyB,aAAA,CAACrB,YAAY;IACXyB,SAAS,EAAEwB,oBAAoB,GAAGrC,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAEyD,wBAAwB,GAAGzD,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAE0D,eAAe;IACpGC,KAAK,EAAExB,aAAa;IACpByB,WAAW,EAAEC,KAAA;MAAA,IAAC;QAAEC;MAAM,CAAE,GAAAD,KAAA;MAAA,OAAKjC,cAAc,CAACkC,MAAM,CAACZ,EAAE,CAAC;IAAA;EAAA,EACtD,CAEL,CACG,CAET,CACG;AAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}