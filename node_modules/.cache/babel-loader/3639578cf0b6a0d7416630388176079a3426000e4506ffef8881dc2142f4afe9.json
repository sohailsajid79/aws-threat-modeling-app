{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { addDays, addMonths, differenceInYears, isSameMonth, isSameYear, startOfMonth, startOfYear } from 'date-fns';\nexport function moveNextDay(startDate, isDateFocusable) {\n  return moveDay(startDate, isDateFocusable, 1);\n}\nexport function movePrevDay(startDate, isDateFocusable) {\n  return moveDay(startDate, isDateFocusable, -1);\n}\nexport function moveNextWeek(startDate, isDateFocusable) {\n  return moveDay(startDate, isDateFocusable, 7);\n}\nexport function movePrevWeek(startDate, isDateFocusable) {\n  return moveDay(startDate, isDateFocusable, -7);\n}\nexport function moveNextMonth(startDate, isDateFocusable) {\n  return moveMonth(startDate, isDateFocusable, 1);\n}\nexport function movePrevMonth(startDate, isDateFocusable) {\n  return moveMonth(startDate, isDateFocusable, -1);\n}\nexport function moveMonthDown(startDate, isDateFocusable) {\n  return moveMonth(startDate, isDateFocusable, 3);\n}\nexport function moveMonthUp(startDate, isDateFocusable) {\n  return moveMonth(startDate, isDateFocusable, -3);\n}\n// Returns first enabled date of the month corresponding to the given date.\n// If all month's days are disabled, the first day of the month is returned.\nexport function getBaseDay(date, isDateFocusable) {\n  return getBaseDate({\n    date,\n    isDateFocusable,\n    granularity: 'day'\n  });\n}\n// Returns first enabled month of the year corresponding to the given date.\n// If all year's months are disabled, the first month of the year is returned.\nexport function getBaseMonth(date, isDateFocusable) {\n  return getBaseDate({\n    date,\n    isDateFocusable,\n    granularity: 'month'\n  });\n}\nfunction getBaseDate({\n  date,\n  granularity,\n  isDateFocusable\n}) {\n  const isMonthGranularity = granularity === 'month';\n  const getStartDate = isMonthGranularity ? startOfYear : startOfMonth;\n  const moveDate = isMonthGranularity ? moveMonth : moveDay;\n  const isSamePage = isMonthGranularity ? isSameYear : isSameMonth;\n  const startDate = getStartDate(date);\n  if (isDateFocusable(startDate)) {\n    return startDate;\n  }\n  const firstEnabledDate = moveDate(startDate, isDateFocusable, 1);\n  return isSamePage(startDate, firstEnabledDate) ? firstEnabledDate : startDate;\n}\n// Iterates days forwards or backwards until the next active day is found.\n// If there is no active day in a year range, the start day is returned.\nfunction moveDay(startDate, isDateFocusable, step) {\n  return moveDate({\n    startDate,\n    granularity: 'day',\n    isDateFocusable,\n    step\n  });\n}\n// Iterates months forwards or backwards until the next active month is found.\n// If there is no active month in a 10 year range, the start month is returned.\nfunction moveMonth(startDate, isDateFocusable, step) {\n  return moveDate({\n    startDate,\n    granularity: 'month',\n    isDateFocusable,\n    step\n  });\n}\nfunction moveDate({\n  startDate,\n  granularity,\n  isDateFocusable,\n  step\n}) {\n  const isMonthGranularity = granularity === 'month';\n  const addSteps = isMonthGranularity ? addMonths : addDays;\n  const limitYears = isMonthGranularity ? 1 : 10;\n  let current = addSteps(startDate, step);\n  while (!isDateFocusable(current)) {\n    if (Math.abs(differenceInYears(startDate, current)) > limitYears) {\n      return startDate;\n    }\n    current = addSteps(current, step);\n  }\n  return current;\n}","map":{"version":3,"names":["addDays","addMonths","differenceInYears","isSameMonth","isSameYear","startOfMonth","startOfYear","moveNextDay","startDate","isDateFocusable","moveDay","movePrevDay","moveNextWeek","movePrevWeek","moveNextMonth","moveMonth","movePrevMonth","moveMonthDown","moveMonthUp","getBaseDay","date","getBaseDate","granularity","getBaseMonth","isMonthGranularity","getStartDate","moveDate","isSamePage","firstEnabledDate","step","addSteps","limitYears","current","Math","abs"],"sources":["/Users/sohailsajid/Desktop/threat-modeling-app/node_modules/src/calendar/utils/navigation.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { addDays, addMonths, differenceInYears, isSameMonth, isSameYear, startOfMonth, startOfYear } from 'date-fns';\n\nimport { CalendarProps } from '../interfaces';\n\nexport function moveNextDay(startDate: Date, isDateFocusable: CalendarProps.IsDateEnabledFunction) {\n  return moveDay(startDate, isDateFocusable, 1);\n}\n\nexport function movePrevDay(startDate: Date, isDateFocusable: CalendarProps.IsDateEnabledFunction) {\n  return moveDay(startDate, isDateFocusable, -1);\n}\n\nexport function moveNextWeek(startDate: Date, isDateFocusable: CalendarProps.IsDateEnabledFunction) {\n  return moveDay(startDate, isDateFocusable, 7);\n}\n\nexport function movePrevWeek(startDate: Date, isDateFocusable: CalendarProps.IsDateEnabledFunction) {\n  return moveDay(startDate, isDateFocusable, -7);\n}\n\nexport function moveNextMonth(startDate: Date, isDateFocusable: CalendarProps.IsDateEnabledFunction) {\n  return moveMonth(startDate, isDateFocusable, 1);\n}\n\nexport function movePrevMonth(startDate: Date, isDateFocusable: CalendarProps.IsDateEnabledFunction) {\n  return moveMonth(startDate, isDateFocusable, -1);\n}\n\nexport function moveMonthDown(startDate: Date, isDateFocusable: CalendarProps.IsDateEnabledFunction) {\n  return moveMonth(startDate, isDateFocusable, 3);\n}\n\nexport function moveMonthUp(startDate: Date, isDateFocusable: CalendarProps.IsDateEnabledFunction) {\n  return moveMonth(startDate, isDateFocusable, -3);\n}\n\n// Returns first enabled date of the month corresponding to the given date.\n// If all month's days are disabled, the first day of the month is returned.\nexport function getBaseDay(date: Date, isDateFocusable: CalendarProps.IsDateEnabledFunction) {\n  return getBaseDate({ date, isDateFocusable, granularity: 'day' });\n}\n\n// Returns first enabled month of the year corresponding to the given date.\n// If all year's months are disabled, the first month of the year is returned.\nexport function getBaseMonth(date: Date, isDateFocusable: CalendarProps.IsDateEnabledFunction) {\n  return getBaseDate({ date, isDateFocusable, granularity: 'month' });\n}\n\nfunction getBaseDate({\n  date,\n  granularity,\n  isDateFocusable,\n}: {\n  date: Date;\n  granularity: CalendarProps.Granularity;\n  isDateFocusable: CalendarProps.IsDateEnabledFunction;\n}) {\n  const isMonthGranularity = granularity === 'month';\n  const getStartDate = isMonthGranularity ? startOfYear : startOfMonth;\n  const moveDate = isMonthGranularity ? moveMonth : moveDay;\n  const isSamePage = isMonthGranularity ? isSameYear : isSameMonth;\n\n  const startDate = getStartDate(date);\n  if (isDateFocusable(startDate)) {\n    return startDate;\n  }\n  const firstEnabledDate = moveDate(startDate, isDateFocusable, 1);\n  return isSamePage(startDate, firstEnabledDate) ? firstEnabledDate : startDate;\n}\n\n// Iterates days forwards or backwards until the next active day is found.\n// If there is no active day in a year range, the start day is returned.\nfunction moveDay(startDate: Date, isDateFocusable: CalendarProps.IsDateEnabledFunction, step: number): Date {\n  return moveDate({ startDate, granularity: 'day', isDateFocusable, step });\n}\n\n// Iterates months forwards or backwards until the next active month is found.\n// If there is no active month in a 10 year range, the start month is returned.\nfunction moveMonth(startDate: Date, isDateFocusable: CalendarProps.IsDateEnabledFunction, step: number): Date {\n  return moveDate({ startDate, granularity: 'month', isDateFocusable, step });\n}\n\nfunction moveDate({\n  startDate,\n  granularity,\n  isDateFocusable,\n  step,\n}: {\n  startDate: Date;\n  granularity: CalendarProps.Granularity;\n  isDateFocusable: CalendarProps.IsDateEnabledFunction;\n  step: number;\n}) {\n  const isMonthGranularity = granularity === 'month';\n  const addSteps = isMonthGranularity ? addMonths : addDays;\n  const limitYears = isMonthGranularity ? 1 : 10;\n\n  let current = addSteps(startDate, step);\n\n  while (!isDateFocusable(current)) {\n    if (Math.abs(differenceInYears(startDate, current)) > limitYears) {\n      return startDate;\n    }\n    current = addSteps(current, step);\n  }\n\n  return current;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}