{"ast":null,"code":"import handleKey from '../../internal/utils/handle-key';\nconst KEYBOARD_SINGLE_STEP_SIZE = 10;\nconst KEYBOARD_MULTIPLE_STEPS_SIZE = 60;\nconst getCurrentSize = panelRef => {\n  if (!panelRef || !panelRef.current) {\n    return {\n      panelHeight: 0,\n      panelWidth: 0\n    };\n  }\n  return {\n    panelHeight: panelRef.current.clientHeight,\n    panelWidth: panelRef.current.clientWidth\n  };\n};\nexport const useKeyboardEvents = _ref => {\n  let {\n    position,\n    onResize,\n    panelRef\n  } = _ref;\n  return event => {\n    let currentSize;\n    let maxSize;\n    const {\n      panelHeight,\n      panelWidth\n    } = getCurrentSize(panelRef);\n    if (position === 'side') {\n      currentSize = panelWidth;\n      // don't need the exact max size as it's constrained in the set size function\n      maxSize = window.innerWidth;\n    } else {\n      currentSize = panelHeight;\n      // don't need the exact max size as it's constrained in the set size function\n      maxSize = window.innerHeight;\n    }\n    let isEventHandled = true;\n    const singleStepUp = () => onResize(currentSize + KEYBOARD_SINGLE_STEP_SIZE);\n    const singleStepDown = () => onResize(currentSize - KEYBOARD_SINGLE_STEP_SIZE);\n    const multipleStepUp = () => onResize(currentSize + KEYBOARD_MULTIPLE_STEPS_SIZE);\n    const multipleStepDown = () => onResize(currentSize - KEYBOARD_MULTIPLE_STEPS_SIZE);\n    handleKey(event, {\n      onBlockStart: () => {\n        position === 'bottom' ? singleStepUp() : singleStepDown();\n      },\n      onBlockEnd: () => {\n        position === 'bottom' ? singleStepDown() : singleStepUp();\n      },\n      onInlineEnd: () => {\n        position === 'bottom' ? singleStepUp() : singleStepDown();\n      },\n      onInlineStart: () => {\n        position === 'bottom' ? singleStepDown() : singleStepUp();\n      },\n      onPageDown: () => multipleStepDown(),\n      onPageUp: () => multipleStepUp(),\n      onHome: () => onResize(maxSize),\n      onEnd: () => onResize(0),\n      onDefault: () => isEventHandled = false\n    });\n    if (isEventHandled) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n  };\n};","map":{"version":3,"names":["handleKey","KEYBOARD_SINGLE_STEP_SIZE","KEYBOARD_MULTIPLE_STEPS_SIZE","getCurrentSize","panelRef","current","panelHeight","panelWidth","clientHeight","clientWidth","useKeyboardEvents","_ref","position","onResize","event","currentSize","maxSize","window","innerWidth","innerHeight","isEventHandled","singleStepUp","singleStepDown","multipleStepUp","multipleStepDown","onBlockStart","onBlockEnd","onInlineEnd","onInlineStart","onPageDown","onPageUp","onHome","onEnd","onDefault","preventDefault","stopPropagation"],"sources":["/Users/sohailsajid/Desktop/threat-modeling-app/node_modules/src/app-layout/utils/use-keyboard-events.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\n\nimport handleKey from '../../internal/utils/handle-key';\nimport { SizeControlProps } from './interfaces';\n\nconst KEYBOARD_SINGLE_STEP_SIZE = 10;\nconst KEYBOARD_MULTIPLE_STEPS_SIZE = 60;\n\nconst getCurrentSize = (panelRef?: React.RefObject<HTMLDivElement>) => {\n  if (!panelRef || !panelRef.current) {\n    return {\n      panelHeight: 0,\n      panelWidth: 0,\n    };\n  }\n\n  return {\n    panelHeight: panelRef.current.clientHeight,\n    panelWidth: panelRef.current.clientWidth,\n  };\n};\n\nexport const useKeyboardEvents = ({ position, onResize, panelRef }: SizeControlProps) => {\n  return (event: React.KeyboardEvent<HTMLElement>) => {\n    let currentSize: number;\n    let maxSize: number;\n\n    const { panelHeight, panelWidth } = getCurrentSize(panelRef);\n\n    if (position === 'side') {\n      currentSize = panelWidth;\n      // don't need the exact max size as it's constrained in the set size function\n      maxSize = window.innerWidth;\n    } else {\n      currentSize = panelHeight;\n      // don't need the exact max size as it's constrained in the set size function\n      maxSize = window.innerHeight;\n    }\n\n    let isEventHandled = true;\n\n    const singleStepUp = () => onResize(currentSize + KEYBOARD_SINGLE_STEP_SIZE);\n    const singleStepDown = () => onResize(currentSize - KEYBOARD_SINGLE_STEP_SIZE);\n    const multipleStepUp = () => onResize(currentSize + KEYBOARD_MULTIPLE_STEPS_SIZE);\n    const multipleStepDown = () => onResize(currentSize - KEYBOARD_MULTIPLE_STEPS_SIZE);\n\n    handleKey(event, {\n      onBlockStart: () => {\n        position === 'bottom' ? singleStepUp() : singleStepDown();\n      },\n      onBlockEnd: () => {\n        position === 'bottom' ? singleStepDown() : singleStepUp();\n      },\n      onInlineEnd: () => {\n        position === 'bottom' ? singleStepUp() : singleStepDown();\n      },\n      onInlineStart: () => {\n        position === 'bottom' ? singleStepDown() : singleStepUp();\n      },\n      onPageDown: () => multipleStepDown(),\n      onPageUp: () => multipleStepUp(),\n      onHome: () => onResize(maxSize),\n      onEnd: () => onResize(0),\n      onDefault: () => (isEventHandled = false),\n    });\n\n    if (isEventHandled) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n  };\n};\n"],"mappings":"AAIA,OAAOA,SAAS,MAAM,iCAAiC;AAGvD,MAAMC,yBAAyB,GAAG,EAAE;AACpC,MAAMC,4BAA4B,GAAG,EAAE;AAEvC,MAAMC,cAAc,GAAIC,QAA0C,IAAI;EACpE,IAAI,CAACA,QAAQ,IAAI,CAACA,QAAQ,CAACC,OAAO,EAAE;IAClC,OAAO;MACLC,WAAW,EAAE,CAAC;MACdC,UAAU,EAAE;KACb;;EAGH,OAAO;IACLD,WAAW,EAAEF,QAAQ,CAACC,OAAO,CAACG,YAAY;IAC1CD,UAAU,EAAEH,QAAQ,CAACC,OAAO,CAACI;GAC9B;AACH,CAAC;AAED,OAAO,MAAMC,iBAAiB,GAAGC,IAAA,IAAuD;EAAA,IAAtD;IAAEC,QAAQ;IAAEC,QAAQ;IAAET;EAAQ,CAAoB,GAAAO,IAAA;EAClF,OAAQG,KAAuC,IAAI;IACjD,IAAIC,WAAmB;IACvB,IAAIC,OAAe;IAEnB,MAAM;MAAEV,WAAW;MAAEC;IAAU,CAAE,GAAGJ,cAAc,CAACC,QAAQ,CAAC;IAE5D,IAAIQ,QAAQ,KAAK,MAAM,EAAE;MACvBG,WAAW,GAAGR,UAAU;MACxB;MACAS,OAAO,GAAGC,MAAM,CAACC,UAAU;KAC5B,MAAM;MACLH,WAAW,GAAGT,WAAW;MACzB;MACAU,OAAO,GAAGC,MAAM,CAACE,WAAW;;IAG9B,IAAIC,cAAc,GAAG,IAAI;IAEzB,MAAMC,YAAY,GAAGA,CAAA,KAAMR,QAAQ,CAACE,WAAW,GAAGd,yBAAyB,CAAC;IAC5E,MAAMqB,cAAc,GAAGA,CAAA,KAAMT,QAAQ,CAACE,WAAW,GAAGd,yBAAyB,CAAC;IAC9E,MAAMsB,cAAc,GAAGA,CAAA,KAAMV,QAAQ,CAACE,WAAW,GAAGb,4BAA4B,CAAC;IACjF,MAAMsB,gBAAgB,GAAGA,CAAA,KAAMX,QAAQ,CAACE,WAAW,GAAGb,4BAA4B,CAAC;IAEnFF,SAAS,CAACc,KAAK,EAAE;MACfW,YAAY,EAAEA,CAAA,KAAK;QACjBb,QAAQ,KAAK,QAAQ,GAAGS,YAAY,EAAE,GAAGC,cAAc,EAAE;MAC3D,CAAC;MACDI,UAAU,EAAEA,CAAA,KAAK;QACfd,QAAQ,KAAK,QAAQ,GAAGU,cAAc,EAAE,GAAGD,YAAY,EAAE;MAC3D,CAAC;MACDM,WAAW,EAAEA,CAAA,KAAK;QAChBf,QAAQ,KAAK,QAAQ,GAAGS,YAAY,EAAE,GAAGC,cAAc,EAAE;MAC3D,CAAC;MACDM,aAAa,EAAEA,CAAA,KAAK;QAClBhB,QAAQ,KAAK,QAAQ,GAAGU,cAAc,EAAE,GAAGD,YAAY,EAAE;MAC3D,CAAC;MACDQ,UAAU,EAAEA,CAAA,KAAML,gBAAgB,EAAE;MACpCM,QAAQ,EAAEA,CAAA,KAAMP,cAAc,EAAE;MAChCQ,MAAM,EAAEA,CAAA,KAAMlB,QAAQ,CAACG,OAAO,CAAC;MAC/BgB,KAAK,EAAEA,CAAA,KAAMnB,QAAQ,CAAC,CAAC,CAAC;MACxBoB,SAAS,EAAEA,CAAA,KAAOb,cAAc,GAAG;KACpC,CAAC;IAEF,IAAIA,cAAc,EAAE;MAClBN,KAAK,CAACoB,cAAc,EAAE;MACtBpB,KAAK,CAACqB,eAAe,EAAE;;EAE3B,CAAC;AACH,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}