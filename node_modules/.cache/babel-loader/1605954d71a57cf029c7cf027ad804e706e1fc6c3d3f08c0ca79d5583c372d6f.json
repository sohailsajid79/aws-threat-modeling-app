{"ast":null,"code":"import { __rest } from \"tslib\";\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect, useRef, useState } from 'react';\nimport clsx from 'clsx';\nimport InternalIcon from '../../icon/internal';\nimport Tooltip from '../../internal/components/tooltip';\nimport { registerTooltip } from '../../internal/components/tooltip/registry';\nimport { fireCancelableEvent, isPlainLeftClick } from '../../internal/events';\nimport { getEventDetail } from '../utils';\nimport { FunnelBreadcrumbItem } from './funnel';\nimport styles from './styles.css.js';\nconst BreadcrumbItemWithPopover = ({\n  item,\n  isLast,\n  anchorAttributes\n}) => {\n  const [showPopover, setShowPopover] = useState(false);\n  const textRef = useRef(null);\n  const popoverContent = React.createElement(Tooltip, {\n    trackRef: textRef,\n    value: item.text,\n    size: \"medium\"\n  });\n  useEffect(() => {\n    if (showPopover) {\n      return registerTooltip(() => {\n        setShowPopover(false);\n      });\n    }\n  }, [showPopover]);\n  return React.createElement(React.Fragment, null, React.createElement(Item, Object.assign({\n    isLast: isLast,\n    onFocus: () => {\n      setShowPopover(true);\n    },\n    onBlur: () => setShowPopover(false),\n    onMouseEnter: () => {\n      setShowPopover(true);\n    },\n    onMouseLeave: () => setShowPopover(false),\n    anchorAttributes: anchorAttributes\n  }, isLast ? {\n    tabIndex: 0\n  } : {}), React.createElement(FunnelBreadcrumbItem, {\n    ref: textRef,\n    text: item.text,\n    last: isLast\n  })), showPopover && popoverContent);\n};\nconst Item = _a => {\n  var {\n      anchorAttributes,\n      children,\n      isLast\n    } = _a,\n    itemAttributes = __rest(_a, [\"anchorAttributes\", \"children\", \"isLast\"]);\n  return isLast ? React.createElement(\"span\", Object.assign({\n    className: styles.anchor\n  }, itemAttributes), children) : React.createElement(\"a\", Object.assign({\n    className: styles.anchor\n  }, itemAttributes, anchorAttributes), children);\n};\nexport function BreadcrumbItem({\n  item,\n  onClick,\n  onFollow,\n  isLast = false,\n  isGhost = false,\n  isTruncated = false\n}) {\n  const preventDefault = event => event.preventDefault();\n  const onClickHandler = event => {\n    if (isPlainLeftClick(event)) {\n      fireCancelableEvent(onFollow, getEventDetail(item), event);\n    }\n    fireCancelableEvent(onClick, getEventDetail(item), event);\n  };\n  const anchorAttributes = {\n    href: item.href || '#',\n    onClick: isLast ? preventDefault : onClickHandler\n  };\n  if (isGhost) {\n    anchorAttributes.tabIndex = -1;\n  }\n  return React.createElement(\"div\", {\n    className: clsx(!isGhost && styles.breadcrumb, isGhost && styles['ghost-breadcrumb'], isLast && styles.last)\n  }, isTruncated && !isGhost ? React.createElement(BreadcrumbItemWithPopover, {\n    item: item,\n    isLast: isLast,\n    anchorAttributes: anchorAttributes\n  }) : React.createElement(Item, {\n    isLast: isLast,\n    anchorAttributes: anchorAttributes\n  }, React.createElement(FunnelBreadcrumbItem, {\n    text: item.text,\n    last: isLast,\n    ghost: isGhost\n  })), !isLast ? React.createElement(\"span\", {\n    className: styles.icon\n  }, React.createElement(InternalIcon, {\n    name: \"angle-right\"\n  })) : null);\n}","map":{"version":3,"names":["React","useEffect","useRef","useState","clsx","InternalIcon","Tooltip","registerTooltip","fireCancelableEvent","isPlainLeftClick","getEventDetail","FunnelBreadcrumbItem","styles","BreadcrumbItemWithPopover","item","isLast","anchorAttributes","showPopover","setShowPopover","textRef","popoverContent","createElement","trackRef","value","text","size","Fragment","Item","Object","assign","onFocus","onBlur","onMouseEnter","onMouseLeave","tabIndex","ref","last","_a","children","itemAttributes","__rest","className","anchor","BreadcrumbItem","onClick","onFollow","isGhost","isTruncated","preventDefault","event","onClickHandler","href","breadcrumb","ghost","icon","name"],"sources":["/Users/sohailsajid/Desktop/threat-modeling-app/node_modules/src/breadcrumb-group/item/item.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect, useRef, useState } from 'react';\nimport clsx from 'clsx';\n\nimport InternalIcon from '../../icon/internal';\nimport Tooltip from '../../internal/components/tooltip';\nimport { registerTooltip } from '../../internal/components/tooltip/registry';\nimport { fireCancelableEvent, isPlainLeftClick } from '../../internal/events';\nimport { BreadcrumbGroupProps, BreadcrumbItemProps } from '../interfaces';\nimport { getEventDetail } from '../utils';\nimport { FunnelBreadcrumbItem } from './funnel';\n\nimport styles from './styles.css.js';\n\ninterface BreadcrumbItemWithPopoverProps<T extends BreadcrumbGroupProps.Item> {\n  item: T;\n  isLast: boolean;\n  anchorAttributes: React.AnchorHTMLAttributes<HTMLAnchorElement>;\n}\n\nconst BreadcrumbItemWithPopover = <T extends BreadcrumbGroupProps.Item>({\n  item,\n  isLast,\n  anchorAttributes,\n}: BreadcrumbItemWithPopoverProps<T>) => {\n  const [showPopover, setShowPopover] = useState(false);\n  const textRef = useRef<HTMLElement>(null);\n  const popoverContent = <Tooltip trackRef={textRef} value={item.text} size=\"medium\" />;\n\n  useEffect(() => {\n    if (showPopover) {\n      return registerTooltip(() => {\n        setShowPopover(false);\n      });\n    }\n  }, [showPopover]);\n\n  return (\n    <>\n      <Item\n        isLast={isLast}\n        onFocus={() => {\n          setShowPopover(true);\n        }}\n        onBlur={() => setShowPopover(false)}\n        onMouseEnter={() => {\n          setShowPopover(true);\n        }}\n        onMouseLeave={() => setShowPopover(false)}\n        anchorAttributes={anchorAttributes}\n        {...(isLast ? { tabIndex: 0 } : {})}\n      >\n        <FunnelBreadcrumbItem ref={textRef} text={item.text} last={isLast} />\n      </Item>\n      {showPopover && popoverContent}\n    </>\n  );\n};\n\ntype ItemProps = React.HTMLAttributes<HTMLElement> & {\n  anchorAttributes: React.AnchorHTMLAttributes<HTMLAnchorElement>;\n  isLast: boolean;\n};\nconst Item = ({ anchorAttributes, children, isLast, ...itemAttributes }: ItemProps) =>\n  isLast ? (\n    <span className={styles.anchor} {...itemAttributes}>\n      {children}\n    </span>\n  ) : (\n    <a className={styles.anchor} {...itemAttributes} {...anchorAttributes}>\n      {children}\n    </a>\n  );\n\nexport function BreadcrumbItem<T extends BreadcrumbGroupProps.Item>({\n  item,\n  onClick,\n  onFollow,\n  isLast = false,\n  isGhost = false,\n  isTruncated = false,\n}: BreadcrumbItemProps<T>) {\n  const preventDefault = (event: React.MouseEvent) => event.preventDefault();\n  const onClickHandler = (event: React.MouseEvent) => {\n    if (isPlainLeftClick(event)) {\n      fireCancelableEvent(onFollow, getEventDetail(item), event);\n    }\n    fireCancelableEvent(onClick, getEventDetail(item), event);\n  };\n\n  const anchorAttributes: React.AnchorHTMLAttributes<HTMLAnchorElement> = {\n    href: item.href || '#',\n    onClick: isLast ? preventDefault : onClickHandler,\n  };\n  if (isGhost) {\n    anchorAttributes.tabIndex = -1;\n  }\n\n  return (\n    <div className={clsx(!isGhost && styles.breadcrumb, isGhost && styles['ghost-breadcrumb'], isLast && styles.last)}>\n      {isTruncated && !isGhost ? (\n        <BreadcrumbItemWithPopover item={item} isLast={isLast} anchorAttributes={anchorAttributes} />\n      ) : (\n        <Item isLast={isLast} anchorAttributes={anchorAttributes}>\n          <FunnelBreadcrumbItem text={item.text} last={isLast} ghost={isGhost} />\n        </Item>\n      )}\n      {!isLast ? (\n        <span className={styles.icon}>\n          <InternalIcon name=\"angle-right\" />\n        </span>\n      ) : null}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}