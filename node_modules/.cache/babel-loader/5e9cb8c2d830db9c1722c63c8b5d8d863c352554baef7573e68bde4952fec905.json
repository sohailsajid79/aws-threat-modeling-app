{"ast":null,"code":"import { __rest } from \"tslib\";\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useCallback, useImperativeHandle, useRef } from 'react';\nimport clsx from 'clsx';\nimport { useContainerQuery } from '@cloudscape-design/component-toolkit';\nimport { warnOnce } from '@cloudscape-design/component-toolkit/internal';\nimport { getAnalyticsMetadataAttribute } from '@cloudscape-design/component-toolkit/internal/analytics-metadata';\nimport InternalContainer from '../container/internal';\nimport { useFunnelSubStep } from '../internal/analytics/hooks/use-funnel';\nimport { getAnalyticsMetadataProps, getBaseProps } from '../internal/base-component';\nimport LiveRegion from '../internal/components/live-region';\nimport { getVisualContextClassname } from '../internal/components/visual-context';\nimport { CollectionLabelContext } from '../internal/context/collection-label-context';\nimport { LinkDefaultVariantContext } from '../internal/context/link-default-variant-context';\nimport { TableComponentsContext } from '../internal/context/table-component-context';\nimport { fireNonCancelableEvent } from '../internal/events';\nimport { useComponentAnalytics } from '../internal/hooks/use-component-analytics';\nimport { useMergeRefs } from '../internal/hooks/use-merge-refs';\nimport { useMobile } from '../internal/hooks/use-mobile';\nimport useMouseDownTarget from '../internal/hooks/use-mouse-down-target';\nimport { usePerformanceMarks } from '../internal/hooks/use-performance-marks';\nimport { usePrevious } from '../internal/hooks/use-previous';\nimport { useScrollSync } from '../internal/hooks/use-scroll-sync';\nimport { useTableInteractionMetrics } from '../internal/hooks/use-table-interaction-metrics';\nimport { useVisualRefresh } from '../internal/hooks/use-visual-mode';\nimport { isDevelopment } from '../internal/is-development';\nimport { TableBodyCell } from './body-cell';\nimport { TableTdElement } from './body-cell/td-element';\nimport { checkColumnWidths } from './column-widths-utils';\nimport { useExpandableTableProps } from './expandable-rows/expandable-rows-utils';\nimport { NoDataCell } from './no-data-cell';\nimport { ItemsLoader } from './progressive-loading/items-loader';\nimport { useProgressiveLoadingProps } from './progressive-loading/progressive-loading-utils';\nimport { ResizeTracker } from './resizer';\nimport { focusMarkers, SelectionControl, useSelection, useSelectionFocusMove } from './selection';\nimport { useStickyColumns } from './sticky-columns';\nimport StickyHeader from './sticky-header';\nimport { StickyScrollbar } from './sticky-scrollbar';\nimport { getTableRoleProps, getTableRowRoleProps, getTableWrapperRoleProps, GridNavigationProvider } from './table-role';\nimport Thead from './thead';\nimport ToolsHeader from './tools-header';\nimport { useCellEditing } from './use-cell-editing';\nimport { ColumnWidthsProvider, DEFAULT_COLUMN_WIDTH } from './use-column-widths';\nimport { useRowEvents } from './use-row-events';\nimport useTableFocusNavigation from './use-table-focus-navigation';\nimport { checkSortingState, getColumnKey, getItemKey, getVisibleColumnDefinitions, toContainerVariant } from './utils';\nimport buttonStyles from '../button/styles.css.js';\nimport headerStyles from '../header/styles.css.js';\nimport styles from './styles.css.js';\nconst GRID_NAVIGATION_PAGE_SIZE = 10;\nconst SELECTION_COLUMN_WIDTH = 54;\nconst selectionColumnId = Symbol('selection-column-id');\nexport const InternalTableAsSubstep = React.forwardRef((props, ref) => {\n  const {\n    funnelSubStepProps\n  } = useFunnelSubStep();\n  const tableProps = Object.assign(Object.assign({}, props), {\n    __funnelSubStepProps: funnelSubStepProps\n  });\n  return React.createElement(InternalTable, Object.assign({}, tableProps, {\n    ref: ref\n  }));\n});\nconst InternalTable = React.forwardRef((_a, ref) => {\n  var _b, _c, _d;\n  var {\n      header,\n      footer,\n      empty,\n      filter,\n      pagination,\n      preferences,\n      items,\n      columnDefinitions,\n      trackBy,\n      loading,\n      loadingText,\n      selectionType,\n      selectedItems,\n      isItemDisabled,\n      ariaLabels,\n      onSelectionChange,\n      onSortingChange,\n      sortingColumn,\n      sortingDescending,\n      sortingDisabled,\n      visibleColumns,\n      stickyHeader,\n      stickyHeaderVerticalOffset,\n      onRowClick,\n      onRowContextMenu,\n      wrapLines,\n      stripedRows,\n      contentDensity,\n      submitEdit,\n      onEditCancel,\n      resizableColumns,\n      onColumnWidthsChange,\n      variant,\n      __internalRootRef,\n      totalItemsCount,\n      firstIndex,\n      renderAriaLive,\n      stickyColumns,\n      columnDisplay,\n      enableKeyboardNavigation,\n      expandableRows,\n      getLoadingStatus,\n      renderLoaderPending,\n      renderLoaderLoading,\n      renderLoaderError,\n      __funnelSubStepProps\n    } = _a,\n    rest = __rest(_a, [\"header\", \"footer\", \"empty\", \"filter\", \"pagination\", \"preferences\", \"items\", \"columnDefinitions\", \"trackBy\", \"loading\", \"loadingText\", \"selectionType\", \"selectedItems\", \"isItemDisabled\", \"ariaLabels\", \"onSelectionChange\", \"onSortingChange\", \"sortingColumn\", \"sortingDescending\", \"sortingDisabled\", \"visibleColumns\", \"stickyHeader\", \"stickyHeaderVerticalOffset\", \"onRowClick\", \"onRowContextMenu\", \"wrapLines\", \"stripedRows\", \"contentDensity\", \"submitEdit\", \"onEditCancel\", \"resizableColumns\", \"onColumnWidthsChange\", \"variant\", \"__internalRootRef\", \"totalItemsCount\", \"firstIndex\", \"renderAriaLive\", \"stickyColumns\", \"columnDisplay\", \"enableKeyboardNavigation\", \"expandableRows\", \"getLoadingStatus\", \"renderLoaderPending\", \"renderLoaderLoading\", \"renderLoaderError\", \"__funnelSubStepProps\"]);\n  // Keyboard navigation defaults to `true` for tables with expandable rows.\n  if (expandableRows && enableKeyboardNavigation === undefined) {\n    enableKeyboardNavigation = true;\n  }\n  const baseProps = getBaseProps(rest);\n  const prevStickyHeader = usePrevious(stickyHeader);\n  if (prevStickyHeader !== undefined && !!stickyHeader !== !!prevStickyHeader) {\n    warnOnce('Table', `\\`stickyHeader\\` has changed from \"${prevStickyHeader}\" to \"${stickyHeader}\". It is not recommended to change the value of this property during the component lifecycle. Please set it to either \"true\" or \"false\" unconditionally.`);\n  }\n  const isMobile = useMobile();\n  const {\n    isExpandable,\n    allItems,\n    getExpandableItemProps\n  } = useExpandableTableProps({\n    items,\n    expandableRows,\n    trackBy,\n    ariaLabels\n  });\n  const {\n    allRows\n  } = useProgressiveLoadingProps({\n    items: allItems,\n    getLoadingStatus,\n    getExpandableItemProps\n  });\n  const [containerWidth, wrapperMeasureRef] = useContainerQuery(rect => rect.contentBoxWidth);\n  const wrapperMeasureRefObject = useRef(null);\n  const wrapperMeasureMergedRef = useMergeRefs(wrapperMeasureRef, wrapperMeasureRefObject);\n  const [tableWidth, tableMeasureRef] = useContainerQuery(rect => rect.contentBoxWidth);\n  const tableRefObject = useRef(null);\n  const secondaryWrapperRef = React.useRef(null);\n  const theadRef = useRef(null);\n  const stickyHeaderRef = React.useRef(null);\n  const scrollbarRef = React.useRef(null);\n  const _e = useCellEditing({\n      onCancel: onEditCancel,\n      onSubmit: submitEdit\n    }),\n    {\n      cancelEdit\n    } = _e,\n    cellEditing = __rest(_e, [\"cancelEdit\"]);\n  const paginationRef = useRef({});\n  const filterRef = useRef({});\n  /* istanbul ignore next: performance marks do not work in JSDOM */\n  const getHeaderText = () => {\n    var _a, _b, _c, _d;\n    return (_c = (_b = (_a = toolsHeaderPerformanceMarkRef.current) === null || _a === void 0 ? void 0 : _a.querySelector(`.${headerStyles['heading-text']}`)) === null || _b === void 0 ? void 0 : _b.innerText) !== null && _c !== void 0 ? _c : (_d = toolsHeaderPerformanceMarkRef.current) === null || _d === void 0 ? void 0 : _d.innerText;\n  };\n  const getPatternIdentifier = () => {\n    var _a;\n    const hasActions = !!((_a = toolsHeaderPerformanceMarkRef.current) === null || _a === void 0 ? void 0 : _a.querySelector(`.${headerStyles.actions} .${buttonStyles.button}`));\n    if (hasActions) {\n      return 'table-with-actions';\n    }\n    return '';\n  };\n  const performanceMarkAttributes = usePerformanceMarks('table', true, tableRefObject, () => ({\n    loading: loading !== null && loading !== void 0 ? loading : false,\n    header: getHeaderText()\n  }), [loading]);\n  const analyticsMetadata = getAnalyticsMetadataProps(rest);\n  const {\n    attributes: componentAnalyticsAttributes\n  } = useComponentAnalytics('table', tableRefObject, () => {\n    var _a;\n    return {\n      variant,\n      flowType: (_a = rest.analyticsMetadata) === null || _a === void 0 ? void 0 : _a.flowType,\n      instanceIdentifier: analyticsMetadata === null || analyticsMetadata === void 0 ? void 0 : analyticsMetadata.instanceIdentifier,\n      taskName: getHeaderText(),\n      patternIdentifier: getPatternIdentifier()\n    };\n  });\n  const interactionMetadata = () => {\n    const filterData = filterRef.current;\n    const paginationData = paginationRef.current;\n    return JSON.stringify({\n      filterData,\n      paginationData,\n      sortingColumn: sortingColumn === null || sortingColumn === void 0 ? void 0 : sortingColumn.sortingField,\n      sortingOrder: sortingColumn ? sortingDescending ? 'Descending' : 'Ascending' : undefined\n    });\n  };\n  const {\n    setLastUserAction\n  } = useTableInteractionMetrics({\n    loading,\n    instanceIdentifier: analyticsMetadata === null || analyticsMetadata === void 0 ? void 0 : analyticsMetadata.instanceIdentifier,\n    itemCount: items.length,\n    getComponentIdentifier: getHeaderText,\n    interactionMetadata\n  });\n  useImperativeHandle(ref, () => {\n    var _a;\n    return {\n      scrollToTop: ((_a = stickyHeaderRef.current) === null || _a === void 0 ? void 0 : _a.scrollToTop) || (() => undefined),\n      cancelEdit\n    };\n  }, [cancelEdit]);\n  const wrapperRefObject = useRef(null);\n  const handleScroll = useScrollSync([wrapperRefObject, scrollbarRef, secondaryWrapperRef]);\n  const {\n    moveFocusDown,\n    moveFocusUp,\n    moveFocus\n  } = useSelectionFocusMove(selectionType, allItems.length);\n  const {\n    onRowClickHandler,\n    onRowContextMenuHandler\n  } = useRowEvents({\n    onRowClick,\n    onRowContextMenu\n  });\n  const visibleColumnDefinitions = getVisibleColumnDefinitions({\n    columnDefinitions,\n    columnDisplay,\n    visibleColumns\n  });\n  const {\n    isItemSelected,\n    getSelectAllProps,\n    getItemSelectionProps\n  } = useSelection({\n    items: allItems,\n    trackBy,\n    selectedItems,\n    selectionType,\n    isItemDisabled,\n    onSelectionChange,\n    ariaLabels,\n    loading\n  });\n  const isRowSelected = row => row.type === 'data' && isItemSelected(row.item);\n  if (isDevelopment) {\n    if (resizableColumns) {\n      checkColumnWidths(columnDefinitions);\n    }\n    if (sortingColumn === null || sortingColumn === void 0 ? void 0 : sortingColumn.sortingComparator) {\n      checkSortingState(columnDefinitions, sortingColumn.sortingComparator);\n    }\n  }\n  const isVisualRefresh = useVisualRefresh();\n  const computedVariant = isVisualRefresh ? variant : ['embedded', 'full-page'].indexOf(variant) > -1 ? 'container' : variant;\n  const hasHeader = !!(header || filter || pagination || preferences);\n  const hasSelection = !!selectionType;\n  const hasFooterPagination = isMobile && variant === 'full-page' && !!pagination;\n  const hasFooter = !!footer || hasFooterPagination;\n  const headerIdRef = useRef(undefined);\n  const isLabelledByHeader = !(ariaLabels === null || ariaLabels === void 0 ? void 0 : ariaLabels.tableLabel) && !!header;\n  const ariaLabelledby = isLabelledByHeader && headerIdRef.current ? headerIdRef.current : undefined;\n  const setHeaderRef = useCallback(id => {\n    headerIdRef.current = id;\n  }, []);\n  const visibleColumnWidthsWithSelection = [];\n  const visibleColumnIdsWithSelection = [];\n  if (hasSelection) {\n    visibleColumnWidthsWithSelection.push({\n      id: selectionColumnId,\n      width: SELECTION_COLUMN_WIDTH\n    });\n    visibleColumnIdsWithSelection.push(selectionColumnId);\n  }\n  for (let columnIndex = 0; columnIndex < visibleColumnDefinitions.length; columnIndex++) {\n    const columnId = getColumnKey(visibleColumnDefinitions[columnIndex], columnIndex);\n    visibleColumnWidthsWithSelection.push(Object.assign(Object.assign({}, visibleColumnDefinitions[columnIndex]), {\n      id: columnId\n    }));\n    visibleColumnIdsWithSelection.push(columnId);\n  }\n  const stickyState = useStickyColumns({\n    visibleColumns: visibleColumnIdsWithSelection,\n    stickyColumnsFirst: ((_b = stickyColumns === null || stickyColumns === void 0 ? void 0 : stickyColumns.first) !== null && _b !== void 0 ? _b : 0) + ((stickyColumns === null || stickyColumns === void 0 ? void 0 : stickyColumns.first) && hasSelection ? 1 : 0),\n    stickyColumnsLast: (stickyColumns === null || stickyColumns === void 0 ? void 0 : stickyColumns.last) || 0\n  });\n  const hasStickyColumns = !!(((_c = stickyColumns === null || stickyColumns === void 0 ? void 0 : stickyColumns.first) !== null && _c !== void 0 ? _c : 0) + ((_d = stickyColumns === null || stickyColumns === void 0 ? void 0 : stickyColumns.last) !== null && _d !== void 0 ? _d : 0) > 0);\n  const hasEditableCells = !!columnDefinitions.find(col => col.editConfig);\n  let tableRole = 'table';\n  if (isExpandable) {\n    tableRole = 'treegrid';\n  } else if (enableKeyboardNavigation) {\n    tableRole = 'grid';\n  } else if (hasEditableCells) {\n    tableRole = 'grid-default';\n  }\n  const theadProps = {\n    selectionType,\n    getSelectAllProps,\n    columnDefinitions: visibleColumnDefinitions,\n    variant: computedVariant,\n    wrapLines,\n    resizableColumns,\n    sortingColumn,\n    sortingDisabled,\n    sortingDescending,\n    onSortingChange,\n    onFocusMove: moveFocus,\n    onResizeFinish(newWidth) {\n      const widthsDetail = columnDefinitions.map((column, index) => newWidth.get(getColumnKey(column, index)) || column.width || DEFAULT_COLUMN_WIDTH);\n      const widthsChanged = widthsDetail.some((width, index) => columnDefinitions[index].width !== width);\n      if (widthsChanged) {\n        fireNonCancelableEvent(onColumnWidthsChange, {\n          widths: widthsDetail\n        });\n      }\n    },\n    singleSelectionHeaderAriaLabel: ariaLabels === null || ariaLabels === void 0 ? void 0 : ariaLabels.selectionGroupLabel,\n    resizerRoleDescription: ariaLabels === null || ariaLabels === void 0 ? void 0 : ariaLabels.resizerRoleDescription,\n    stripedRows,\n    stickyState,\n    selectionColumnId,\n    tableRole,\n    isExpandable,\n    setLastUserAction\n  };\n  const wrapperRef = useMergeRefs(wrapperRefObject, stickyState.refs.wrapper);\n  const tableRef = useMergeRefs(tableMeasureRef, tableRefObject, stickyState.refs.table);\n  const wrapperProps = getTableWrapperRoleProps({\n    tableRole,\n    isScrollable: !!(tableWidth && containerWidth && tableWidth > containerWidth),\n    ariaLabel: ariaLabels === null || ariaLabels === void 0 ? void 0 : ariaLabels.tableLabel,\n    ariaLabelledby\n  });\n  const getMouseDownTarget = useMouseDownTarget();\n  useTableFocusNavigation({\n    enableKeyboardNavigation,\n    selectionType,\n    tableRoot: tableRefObject,\n    columnDefinitions: visibleColumnDefinitions,\n    numRows: allRows === null || allRows === void 0 ? void 0 : allRows.length\n  });\n  const toolsHeaderPerformanceMarkRef = useRef(null);\n  // If is mobile, we take into consideration the AppLayout's mobile bar and we subtract the tools wrapper height so only the table header is sticky\n  const [toolsHeaderHeight, toolsHeaderWrapperMeasureRef] = useContainerQuery(rect => rect.borderBoxHeight);\n  const toolsHeaderWrapper = useMergeRefs(toolsHeaderPerformanceMarkRef, toolsHeaderWrapperMeasureRef);\n  const colIndexOffset = selectionType ? 1 : 0;\n  const totalColumnsCount = visibleColumnDefinitions.length + colIndexOffset;\n  return React.createElement(LinkDefaultVariantContext.Provider, {\n    value: {\n      defaultVariant: 'primary'\n    }\n  }, React.createElement(TableComponentsContext.Provider, {\n    value: {\n      paginationRef,\n      filterRef\n    }\n  }, React.createElement(ColumnWidthsProvider, {\n    visibleColumns: visibleColumnWidthsWithSelection,\n    resizableColumns: resizableColumns,\n    containerRef: wrapperMeasureRefObject\n  }, React.createElement(InternalContainer, Object.assign({}, baseProps, {\n    __internalRootRef: __internalRootRef,\n    className: clsx(baseProps.className, styles.root),\n    __funnelSubStepProps: __funnelSubStepProps,\n    __fullPage: variant === 'full-page',\n    header: React.createElement(React.Fragment, null, hasHeader && React.createElement(\"div\", null, React.createElement(\"div\", {\n      ref: toolsHeaderWrapper,\n      className: clsx(styles['header-controls'], styles[`variant-${computedVariant}`])\n    }, React.createElement(CollectionLabelContext.Provider, {\n      value: {\n        assignId: setHeaderRef\n      }\n    }, React.createElement(ToolsHeader, {\n      header: header,\n      filter: filter,\n      pagination: pagination,\n      preferences: preferences,\n      setLastUserAction: setLastUserAction\n    })))), stickyHeader && React.createElement(StickyHeader, {\n      ref: stickyHeaderRef,\n      variant: computedVariant,\n      theadProps: theadProps,\n      wrapperRef: wrapperRefObject,\n      theadRef: theadRef,\n      secondaryWrapperRef: secondaryWrapperRef,\n      tableRef: tableRefObject,\n      onScroll: handleScroll,\n      tableHasHeader: hasHeader,\n      contentDensity: contentDensity,\n      tableRole: tableRole\n    })),\n    disableHeaderPaddings: true,\n    disableContentPaddings: true,\n    variant: toContainerVariant(computedVariant),\n    __disableFooterPaddings: true,\n    __disableFooterDivider: true,\n    __disableStickyMobile: false,\n    footer: hasFooter ? React.createElement(\"div\", {\n      className: clsx(styles['footer-wrapper'], styles[`variant-${computedVariant}`])\n    }, React.createElement(\"div\", {\n      className: clsx(styles.footer, hasFooterPagination && styles['footer-with-pagination'])\n    }, footer && React.createElement(\"span\", null, footer), hasFooterPagination && React.createElement(\"div\", {\n      className: styles['footer-pagination']\n    }, pagination))) : null,\n    __stickyHeader: stickyHeader,\n    __mobileStickyOffset: toolsHeaderHeight !== null && toolsHeaderHeight !== void 0 ? toolsHeaderHeight : 0,\n    __stickyOffset: stickyHeaderVerticalOffset\n  }, focusMarkers.root), React.createElement(\"div\", Object.assign({\n    ref: wrapperRef,\n    className: clsx(styles.wrapper, styles[`variant-${computedVariant}`], {\n      [styles['has-footer']]: hasFooter,\n      [styles['has-header']]: hasHeader\n    }),\n    style: stickyState.style.wrapper,\n    onScroll: handleScroll\n  }, wrapperProps), React.createElement(\"div\", {\n    className: styles['wrapper-content-measure'],\n    ref: wrapperMeasureMergedRef\n  }), !!renderAriaLive && !!firstIndex && React.createElement(LiveRegion, null, React.createElement(\"span\", null, renderAriaLive({\n    firstIndex,\n    lastIndex: firstIndex + items.length - 1,\n    visibleItemsCount: allItems.length,\n    totalItemsCount\n  }))), React.createElement(GridNavigationProvider, {\n    keyboardNavigation: !!enableKeyboardNavigation,\n    pageSize: GRID_NAVIGATION_PAGE_SIZE,\n    getTable: () => tableRefObject.current\n  }, React.createElement(\"table\", Object.assign({}, performanceMarkAttributes, componentAnalyticsAttributes, {\n    ref: tableRef,\n    className: clsx(styles.table, resizableColumns && styles['table-layout-fixed'], contentDensity === 'compact' && getVisualContextClassname('compact-table'))\n  }, getTableRoleProps({\n    tableRole,\n    totalItemsCount,\n    totalColumnsCount: totalColumnsCount,\n    ariaLabel: ariaLabels === null || ariaLabels === void 0 ? void 0 : ariaLabels.tableLabel,\n    ariaLabelledby\n  })), React.createElement(Thead, Object.assign({\n    ref: theadRef,\n    hidden: stickyHeader,\n    onFocusedComponentChange: focusId => {\n      var _a;\n      return (_a = stickyHeaderRef.current) === null || _a === void 0 ? void 0 : _a.setFocus(focusId);\n    }\n  }, theadProps)), React.createElement(\"tbody\", null, loading || allItems.length === 0 ? React.createElement(\"tr\", null, React.createElement(NoDataCell, {\n    totalColumnsCount: totalColumnsCount,\n    hasFooter: hasFooter,\n    loading: loading,\n    loadingText: loadingText,\n    empty: empty,\n    tableRef: tableRefObject,\n    containerRef: wrapperMeasureRefObject\n  })) : allRows.map((row, rowIndex) => {\n    const isFirstRow = rowIndex === 0;\n    const isLastRow = rowIndex === allRows.length - 1;\n    const expandableProps = row.type === 'data' ? getExpandableItemProps(row.item) : undefined;\n    const rowRoleProps = getTableRowRoleProps(Object.assign({\n      tableRole,\n      firstIndex,\n      rowIndex,\n      level: row.type === 'loader' ? row.level : undefined\n    }, expandableProps));\n    const getTableItemKey = item => getItemKey(trackBy, item, rowIndex);\n    const sharedCellProps = {\n      isVisualRefresh,\n      isFirstRow,\n      isLastRow,\n      isSelected: hasSelection && isRowSelected(row),\n      isPrevSelected: hasSelection && !isFirstRow && isRowSelected(allRows[rowIndex - 1]),\n      isNextSelected: hasSelection && !isLastRow && isRowSelected(allRows[rowIndex + 1]),\n      isEvenRow: rowIndex % 2 === 0,\n      stripedRows,\n      hasSelection,\n      hasFooter,\n      stickyState,\n      tableRole\n    };\n    if (row.type === 'data') {\n      return React.createElement(\"tr\", Object.assign({\n        key: getTableItemKey(row.item),\n        className: clsx(styles.row, sharedCellProps.isSelected && styles['row-selected']),\n        onFocus: ({\n          currentTarget\n        }) => {\n          var _a;\n          // When an element inside table row receives focus we want to adjust the scroll.\n          // However, that behaviour is unwanted when the focus is received as result of a click\n          // as it causes the click to never reach the target element.\n          if (!currentTarget.contains(getMouseDownTarget())) {\n            (_a = stickyHeaderRef.current) === null || _a === void 0 ? void 0 : _a.scrollToRow(currentTarget);\n          }\n        }\n      }, focusMarkers.item, {\n        onClick: onRowClickHandler && onRowClickHandler.bind(null, rowIndex, row.item),\n        onContextMenu: onRowContextMenuHandler && onRowContextMenuHandler.bind(null, rowIndex, row.item)\n      }, rowRoleProps), getItemSelectionProps && React.createElement(TableTdElement, Object.assign({}, sharedCellProps, {\n        className: styles['selection-control'],\n        wrapLines: false,\n        columnId: selectionColumnId,\n        colIndex: 0\n      }), React.createElement(SelectionControl, Object.assign({\n        onFocusDown: moveFocusDown,\n        onFocusUp: moveFocusUp\n      }, getItemSelectionProps(row.item), {\n        rowIndex: rowIndex,\n        itemKey: `${getTableItemKey(row.item)}`\n      }))), visibleColumnDefinitions.map((column, colIndex) => {\n        var _a;\n        const isEditing = cellEditing.checkEditing({\n          rowIndex,\n          colIndex\n        });\n        const successfulEdit = cellEditing.checkLastSuccessfulEdit({\n          rowIndex,\n          colIndex\n        });\n        const isEditable = !!column.editConfig && !cellEditing.isLoading;\n        const cellExpandableProps = isExpandable && colIndex === 0 ? expandableProps : undefined;\n        const analyticsMetadata = {\n          component: {\n            innerContext: {\n              position: `${rowIndex + 1},${colIndex + 1}`,\n              columnId: column.id ? `${column.id}` : '',\n              columnLabel: {\n                selector: `table thead tr th:nth-child(${colIndex + (selectionType ? 2 : 1)})`,\n                root: 'component'\n              },\n              item: `${getTableItemKey(row.item)}`\n            }\n          }\n        };\n        return React.createElement(TableBodyCell, Object.assign({\n          key: getColumnKey(column, colIndex)\n        }, sharedCellProps, {\n          style: resizableColumns ? {} : {\n            width: column.width,\n            minWidth: column.minWidth,\n            maxWidth: column.maxWidth\n          },\n          ariaLabels: ariaLabels,\n          column: column,\n          item: row.item,\n          wrapLines: wrapLines,\n          isEditable: isEditable,\n          isEditing: isEditing,\n          isRowHeader: column.isRowHeader,\n          successfulEdit: successfulEdit,\n          resizableColumns: resizableColumns,\n          onEditStart: () => cellEditing.startEdit({\n            rowIndex,\n            colIndex\n          }),\n          onEditEnd: editCancelled => cellEditing.completeEdit({\n            rowIndex,\n            colIndex\n          }, editCancelled),\n          submitEdit: cellEditing.submitEdit,\n          columnId: (_a = column.id) !== null && _a !== void 0 ? _a : colIndex,\n          colIndex: colIndex + colIndexOffset,\n          verticalAlign: column.verticalAlign\n        }, cellExpandableProps, getAnalyticsMetadataAttribute(analyticsMetadata)));\n      }));\n    }\n    return React.createElement(\"tr\", Object.assign({\n      key: (row.item ? getTableItemKey(row.item) : 'root-' + rowIndex) + '-' + row.from,\n      className: styles.row\n    }, rowRoleProps), getItemSelectionProps && React.createElement(TableTdElement, Object.assign({}, sharedCellProps, {\n      className: styles['selection-control'],\n      wrapLines: false,\n      columnId: selectionColumnId,\n      colIndex: 0\n    }), null), visibleColumnDefinitions.map((column, colIndex) => {\n      var _a;\n      return React.createElement(TableTdElement, Object.assign({\n        key: getColumnKey(column, colIndex)\n      }, sharedCellProps, {\n        wrapLines: false,\n        columnId: (_a = column.id) !== null && _a !== void 0 ? _a : colIndex,\n        colIndex: colIndex + colIndexOffset,\n        isRowHeader: colIndex === 0,\n        level: row.level\n      }), colIndex === 0 ? React.createElement(ItemsLoader, {\n        item: row.item,\n        loadingStatus: row.status,\n        renderLoaderPending: renderLoaderPending,\n        renderLoaderLoading: renderLoaderLoading,\n        renderLoaderError: renderLoaderError,\n        trackBy: trackBy\n      }) : null);\n    }));\n  })))), resizableColumns && React.createElement(ResizeTracker, null)), React.createElement(StickyScrollbar, {\n    ref: scrollbarRef,\n    wrapperRef: wrapperRefObject,\n    tableRef: tableRefObject,\n    onScroll: handleScroll,\n    hasStickyColumns: hasStickyColumns\n  })))));\n});\nexport default InternalTable;","map":{"version":3,"names":["React","useCallback","useImperativeHandle","useRef","clsx","useContainerQuery","warnOnce","getAnalyticsMetadataAttribute","InternalContainer","useFunnelSubStep","getAnalyticsMetadataProps","getBaseProps","LiveRegion","getVisualContextClassname","CollectionLabelContext","LinkDefaultVariantContext","TableComponentsContext","fireNonCancelableEvent","useComponentAnalytics","useMergeRefs","useMobile","useMouseDownTarget","usePerformanceMarks","usePrevious","useScrollSync","useTableInteractionMetrics","useVisualRefresh","isDevelopment","TableBodyCell","TableTdElement","checkColumnWidths","useExpandableTableProps","NoDataCell","ItemsLoader","useProgressiveLoadingProps","ResizeTracker","focusMarkers","SelectionControl","useSelection","useSelectionFocusMove","useStickyColumns","StickyHeader","StickyScrollbar","getTableRoleProps","getTableRowRoleProps","getTableWrapperRoleProps","GridNavigationProvider","Thead","ToolsHeader","useCellEditing","ColumnWidthsProvider","DEFAULT_COLUMN_WIDTH","useRowEvents","useTableFocusNavigation","checkSortingState","getColumnKey","getItemKey","getVisibleColumnDefinitions","toContainerVariant","buttonStyles","headerStyles","styles","GRID_NAVIGATION_PAGE_SIZE","SELECTION_COLUMN_WIDTH","selectionColumnId","Symbol","InternalTableAsSubstep","forwardRef","props","ref","funnelSubStepProps","tableProps","Object","assign","__funnelSubStepProps","createElement","InternalTable","_a","header","footer","empty","filter","pagination","preferences","items","columnDefinitions","trackBy","loading","loadingText","selectionType","selectedItems","isItemDisabled","ariaLabels","onSelectionChange","onSortingChange","sortingColumn","sortingDescending","sortingDisabled","visibleColumns","stickyHeader","stickyHeaderVerticalOffset","onRowClick","onRowContextMenu","wrapLines","stripedRows","contentDensity","submitEdit","onEditCancel","resizableColumns","onColumnWidthsChange","variant","__internalRootRef","totalItemsCount","firstIndex","renderAriaLive","stickyColumns","columnDisplay","enableKeyboardNavigation","expandableRows","getLoadingStatus","renderLoaderPending","renderLoaderLoading","renderLoaderError","rest","__rest","undefined","baseProps","prevStickyHeader","isMobile","isExpandable","allItems","getExpandableItemProps","allRows","containerWidth","wrapperMeasureRef","rect","contentBoxWidth","wrapperMeasureRefObject","wrapperMeasureMergedRef","tableWidth","tableMeasureRef","tableRefObject","secondaryWrapperRef","theadRef","stickyHeaderRef","scrollbarRef","_e","onCancel","onSubmit","cancelEdit","cellEditing","paginationRef","filterRef","getHeaderText","_c","_b","toolsHeaderPerformanceMarkRef","current","querySelector","innerText","_d","getPatternIdentifier","hasActions","actions","button","performanceMarkAttributes","analyticsMetadata","attributes","componentAnalyticsAttributes","flowType","instanceIdentifier","taskName","patternIdentifier","interactionMetadata","filterData","paginationData","JSON","stringify","sortingField","sortingOrder","setLastUserAction","itemCount","length","getComponentIdentifier","scrollToTop","wrapperRefObject","handleScroll","moveFocusDown","moveFocusUp","moveFocus","onRowClickHandler","onRowContextMenuHandler","visibleColumnDefinitions","isItemSelected","getSelectAllProps","getItemSelectionProps","isRowSelected","row","type","item","sortingComparator","isVisualRefresh","computedVariant","indexOf","hasHeader","hasSelection","hasFooterPagination","hasFooter","headerIdRef","isLabelledByHeader","tableLabel","ariaLabelledby","setHeaderRef","id","visibleColumnWidthsWithSelection","visibleColumnIdsWithSelection","push","width","columnIndex","columnId","stickyState","stickyColumnsFirst","first","stickyColumnsLast","last","hasStickyColumns","hasEditableCells","find","col","editConfig","tableRole","theadProps","onFocusMove","onResizeFinish","newWidth","widthsDetail","map","column","index","get","widthsChanged","some","widths","singleSelectionHeaderAriaLabel","selectionGroupLabel","resizerRoleDescription","wrapperRef","refs","wrapper","tableRef","table","wrapperProps","isScrollable","ariaLabel","getMouseDownTarget","tableRoot","numRows","toolsHeaderHeight","toolsHeaderWrapperMeasureRef","borderBoxHeight","toolsHeaderWrapper","colIndexOffset","totalColumnsCount","Provider","value","defaultVariant","containerRef","className","root","__fullPage","Fragment","assignId","onScroll","tableHasHeader","disableHeaderPaddings","disableContentPaddings","__disableFooterPaddings","__disableFooterDivider","__disableStickyMobile","__stickyHeader","__mobileStickyOffset","__stickyOffset","style","lastIndex","visibleItemsCount","keyboardNavigation","pageSize","getTable","hidden","onFocusedComponentChange","focusId","setFocus","rowIndex","isFirstRow","isLastRow","expandableProps","rowRoleProps","level","getTableItemKey","sharedCellProps","isSelected","isPrevSelected","isNextSelected","isEvenRow","key","onFocus","currentTarget","contains","scrollToRow","onClick","bind","onContextMenu","colIndex","onFocusDown","onFocusUp","itemKey","isEditing","checkEditing","successfulEdit","checkLastSuccessfulEdit","isEditable","isLoading","cellExpandableProps","component","innerContext","position","columnLabel","selector","minWidth","maxWidth","isRowHeader","onEditStart","startEdit","onEditEnd","editCancelled","completeEdit","verticalAlign","from","loadingStatus","status"],"sources":["/Users/sohailsajid/Desktop/threat-modeling-app/node_modules/src/table/internal.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useCallback, useImperativeHandle, useRef } from 'react';\nimport clsx from 'clsx';\n\nimport { useContainerQuery } from '@cloudscape-design/component-toolkit';\nimport { warnOnce } from '@cloudscape-design/component-toolkit/internal';\nimport {\n  GeneratedAnalyticsMetadataFragment,\n  getAnalyticsMetadataAttribute,\n} from '@cloudscape-design/component-toolkit/internal/analytics-metadata';\n\nimport InternalContainer, { InternalContainerProps } from '../container/internal';\nimport { useFunnelSubStep } from '../internal/analytics/hooks/use-funnel';\nimport { getAnalyticsMetadataProps, getBaseProps } from '../internal/base-component';\nimport LiveRegion from '../internal/components/live-region';\nimport { getVisualContextClassname } from '../internal/components/visual-context';\nimport { CollectionLabelContext } from '../internal/context/collection-label-context';\nimport { LinkDefaultVariantContext } from '../internal/context/link-default-variant-context';\nimport { FilterRef, PaginationRef, TableComponentsContext } from '../internal/context/table-component-context';\nimport { fireNonCancelableEvent } from '../internal/events';\nimport { InternalBaseComponentProps } from '../internal/hooks/use-base-component';\nimport { useComponentAnalytics } from '../internal/hooks/use-component-analytics';\nimport { useMergeRefs } from '../internal/hooks/use-merge-refs';\nimport { useMobile } from '../internal/hooks/use-mobile';\nimport useMouseDownTarget from '../internal/hooks/use-mouse-down-target';\nimport { usePerformanceMarks } from '../internal/hooks/use-performance-marks';\nimport { usePrevious } from '../internal/hooks/use-previous';\nimport { useScrollSync } from '../internal/hooks/use-scroll-sync';\nimport { useTableInteractionMetrics } from '../internal/hooks/use-table-interaction-metrics';\nimport { useVisualRefresh } from '../internal/hooks/use-visual-mode';\nimport { isDevelopment } from '../internal/is-development';\nimport { SomeRequired } from '../internal/types';\nimport { GeneratedAnalyticsMetadataTableComponent } from './analytics-metadata/interfaces';\nimport { TableBodyCell } from './body-cell';\nimport { TableTdElement } from './body-cell/td-element';\nimport { checkColumnWidths } from './column-widths-utils';\nimport { useExpandableTableProps } from './expandable-rows/expandable-rows-utils';\nimport { TableForwardRefType, TableProps, TableRow } from './interfaces';\nimport { NoDataCell } from './no-data-cell';\nimport { ItemsLoader } from './progressive-loading/items-loader';\nimport { useProgressiveLoadingProps } from './progressive-loading/progressive-loading-utils';\nimport { ResizeTracker } from './resizer';\nimport { focusMarkers, SelectionControl, useSelection, useSelectionFocusMove } from './selection';\nimport { useStickyColumns } from './sticky-columns';\nimport StickyHeader, { StickyHeaderRef } from './sticky-header';\nimport { StickyScrollbar } from './sticky-scrollbar';\nimport {\n  getTableRoleProps,\n  getTableRowRoleProps,\n  getTableWrapperRoleProps,\n  GridNavigationProvider,\n  TableRole,\n} from './table-role';\nimport Thead, { TheadProps } from './thead';\nimport ToolsHeader from './tools-header';\nimport { useCellEditing } from './use-cell-editing';\nimport { ColumnWidthDefinition, ColumnWidthsProvider, DEFAULT_COLUMN_WIDTH } from './use-column-widths';\nimport { useRowEvents } from './use-row-events';\nimport useTableFocusNavigation from './use-table-focus-navigation';\nimport { checkSortingState, getColumnKey, getItemKey, getVisibleColumnDefinitions, toContainerVariant } from './utils';\n\nimport buttonStyles from '../button/styles.css.js';\nimport headerStyles from '../header/styles.css.js';\nimport styles from './styles.css.js';\n\nconst GRID_NAVIGATION_PAGE_SIZE = 10;\nconst SELECTION_COLUMN_WIDTH = 54;\nconst selectionColumnId = Symbol('selection-column-id');\n\ntype InternalTableProps<T> = SomeRequired<TableProps<T>, 'items' | 'selectedItems' | 'variant' | 'firstIndex'> &\n  InternalBaseComponentProps & {\n    __funnelSubStepProps?: InternalContainerProps['__funnelSubStepProps'];\n  };\n\nexport const InternalTableAsSubstep = React.forwardRef(\n  <T,>(props: InternalTableProps<T>, ref: React.Ref<TableProps.Ref>) => {\n    const { funnelSubStepProps } = useFunnelSubStep();\n\n    const tableProps: InternalTableProps<T> = {\n      ...props,\n      __funnelSubStepProps: funnelSubStepProps,\n    };\n\n    return <InternalTable {...tableProps} ref={ref} />;\n  }\n) as TableForwardRefType;\n\nconst InternalTable = React.forwardRef(\n  <T,>(\n    {\n      header,\n      footer,\n      empty,\n      filter,\n      pagination,\n      preferences,\n      items,\n      columnDefinitions,\n      trackBy,\n      loading,\n      loadingText,\n      selectionType,\n      selectedItems,\n      isItemDisabled,\n      ariaLabels,\n      onSelectionChange,\n      onSortingChange,\n      sortingColumn,\n      sortingDescending,\n      sortingDisabled,\n      visibleColumns,\n      stickyHeader,\n      stickyHeaderVerticalOffset,\n      onRowClick,\n      onRowContextMenu,\n      wrapLines,\n      stripedRows,\n      contentDensity,\n      submitEdit,\n      onEditCancel,\n      resizableColumns,\n      onColumnWidthsChange,\n      variant,\n      __internalRootRef,\n      totalItemsCount,\n      firstIndex,\n      renderAriaLive,\n      stickyColumns,\n      columnDisplay,\n      enableKeyboardNavigation,\n      expandableRows,\n      getLoadingStatus,\n      renderLoaderPending,\n      renderLoaderLoading,\n      renderLoaderError,\n      __funnelSubStepProps,\n      ...rest\n    }: InternalTableProps<T>,\n    ref: React.Ref<TableProps.Ref>\n  ) => {\n    // Keyboard navigation defaults to `true` for tables with expandable rows.\n    if (expandableRows && enableKeyboardNavigation === undefined) {\n      enableKeyboardNavigation = true;\n    }\n\n    const baseProps = getBaseProps(rest);\n\n    const prevStickyHeader = usePrevious(stickyHeader);\n    if (prevStickyHeader !== undefined && !!stickyHeader !== !!prevStickyHeader) {\n      warnOnce(\n        'Table',\n        `\\`stickyHeader\\` has changed from \"${prevStickyHeader}\" to \"${stickyHeader}\". It is not recommended to change the value of this property during the component lifecycle. Please set it to either \"true\" or \"false\" unconditionally.`\n      );\n    }\n\n    const isMobile = useMobile();\n\n    const { isExpandable, allItems, getExpandableItemProps } = useExpandableTableProps({\n      items,\n      expandableRows,\n      trackBy,\n      ariaLabels,\n    });\n    const { allRows } = useProgressiveLoadingProps({\n      items: allItems,\n      getLoadingStatus,\n      getExpandableItemProps,\n    });\n\n    const [containerWidth, wrapperMeasureRef] = useContainerQuery<number>(rect => rect.contentBoxWidth);\n    const wrapperMeasureRefObject = useRef(null);\n    const wrapperMeasureMergedRef = useMergeRefs(wrapperMeasureRef, wrapperMeasureRefObject);\n\n    const [tableWidth, tableMeasureRef] = useContainerQuery<number>(rect => rect.contentBoxWidth);\n    const tableRefObject = useRef(null);\n\n    const secondaryWrapperRef = React.useRef<HTMLDivElement>(null);\n    const theadRef = useRef<HTMLTableRowElement>(null);\n    const stickyHeaderRef = React.useRef<StickyHeaderRef>(null);\n    const scrollbarRef = React.useRef<HTMLDivElement>(null);\n    const { cancelEdit, ...cellEditing } = useCellEditing({ onCancel: onEditCancel, onSubmit: submitEdit });\n    const paginationRef = useRef<PaginationRef>({});\n    const filterRef = useRef<FilterRef>({});\n    /* istanbul ignore next: performance marks do not work in JSDOM */\n    const getHeaderText = () =>\n      toolsHeaderPerformanceMarkRef.current?.querySelector<HTMLElement>(`.${headerStyles['heading-text']}`)\n        ?.innerText ?? toolsHeaderPerformanceMarkRef.current?.innerText;\n    const getPatternIdentifier = () => {\n      const hasActions = !!toolsHeaderPerformanceMarkRef.current?.querySelector<HTMLElement>(\n        `.${headerStyles.actions} .${buttonStyles.button}`\n      );\n\n      if (hasActions) {\n        return 'table-with-actions';\n      }\n\n      return '';\n    };\n\n    const performanceMarkAttributes = usePerformanceMarks(\n      'table',\n      true,\n      tableRefObject,\n      () => ({\n        loading: loading ?? false,\n        header: getHeaderText(),\n      }),\n      [loading]\n    );\n\n    const analyticsMetadata = getAnalyticsMetadataProps(rest);\n    const { attributes: componentAnalyticsAttributes } = useComponentAnalytics('table', tableRefObject, () => ({\n      variant,\n      flowType: rest.analyticsMetadata?.flowType,\n      instanceIdentifier: analyticsMetadata?.instanceIdentifier,\n      taskName: getHeaderText(),\n      patternIdentifier: getPatternIdentifier(),\n    }));\n\n    const interactionMetadata = () => {\n      const filterData = filterRef.current;\n      const paginationData = paginationRef.current;\n      return JSON.stringify({\n        filterData,\n        paginationData,\n        sortingColumn: sortingColumn?.sortingField,\n        sortingOrder: sortingColumn ? (sortingDescending ? 'Descending' : 'Ascending') : undefined,\n      });\n    };\n\n    const { setLastUserAction } = useTableInteractionMetrics({\n      loading,\n      instanceIdentifier: analyticsMetadata?.instanceIdentifier,\n      itemCount: items.length,\n      getComponentIdentifier: getHeaderText,\n      interactionMetadata,\n    });\n\n    useImperativeHandle(\n      ref,\n      () => ({\n        scrollToTop: stickyHeaderRef.current?.scrollToTop || (() => undefined),\n        cancelEdit,\n      }),\n      [cancelEdit]\n    );\n\n    const wrapperRefObject = useRef(null);\n    const handleScroll = useScrollSync([wrapperRefObject, scrollbarRef, secondaryWrapperRef]);\n\n    const { moveFocusDown, moveFocusUp, moveFocus } = useSelectionFocusMove(selectionType, allItems.length);\n    const { onRowClickHandler, onRowContextMenuHandler } = useRowEvents({ onRowClick, onRowContextMenu });\n\n    const visibleColumnDefinitions = getVisibleColumnDefinitions({\n      columnDefinitions,\n      columnDisplay,\n      visibleColumns,\n    });\n\n    const { isItemSelected, getSelectAllProps, getItemSelectionProps } = useSelection({\n      items: allItems,\n      trackBy,\n      selectedItems,\n      selectionType,\n      isItemDisabled,\n      onSelectionChange,\n      ariaLabels,\n      loading,\n    });\n    const isRowSelected = (row: TableRow<T>) => row.type === 'data' && isItemSelected(row.item);\n\n    if (isDevelopment) {\n      if (resizableColumns) {\n        checkColumnWidths(columnDefinitions);\n      }\n      if (sortingColumn?.sortingComparator) {\n        checkSortingState(columnDefinitions, sortingColumn.sortingComparator);\n      }\n    }\n\n    const isVisualRefresh = useVisualRefresh();\n    const computedVariant = isVisualRefresh\n      ? variant\n      : ['embedded', 'full-page'].indexOf(variant) > -1\n        ? 'container'\n        : variant;\n    const hasHeader = !!(header || filter || pagination || preferences);\n    const hasSelection = !!selectionType;\n    const hasFooterPagination = isMobile && variant === 'full-page' && !!pagination;\n    const hasFooter = !!footer || hasFooterPagination;\n\n    const headerIdRef = useRef<string | undefined>(undefined);\n    const isLabelledByHeader = !ariaLabels?.tableLabel && !!header;\n    const ariaLabelledby = isLabelledByHeader && headerIdRef.current ? headerIdRef.current : undefined;\n    const setHeaderRef = useCallback((id: string) => {\n      headerIdRef.current = id;\n    }, []);\n\n    const visibleColumnWidthsWithSelection: ColumnWidthDefinition[] = [];\n    const visibleColumnIdsWithSelection: PropertyKey[] = [];\n    if (hasSelection) {\n      visibleColumnWidthsWithSelection.push({ id: selectionColumnId, width: SELECTION_COLUMN_WIDTH });\n      visibleColumnIdsWithSelection.push(selectionColumnId);\n    }\n    for (let columnIndex = 0; columnIndex < visibleColumnDefinitions.length; columnIndex++) {\n      const columnId = getColumnKey(visibleColumnDefinitions[columnIndex], columnIndex);\n      visibleColumnWidthsWithSelection.push({ ...visibleColumnDefinitions[columnIndex], id: columnId });\n      visibleColumnIdsWithSelection.push(columnId);\n    }\n\n    const stickyState = useStickyColumns({\n      visibleColumns: visibleColumnIdsWithSelection,\n      stickyColumnsFirst: (stickyColumns?.first ?? 0) + (stickyColumns?.first && hasSelection ? 1 : 0),\n      stickyColumnsLast: stickyColumns?.last || 0,\n    });\n\n    const hasStickyColumns = !!((stickyColumns?.first ?? 0) + (stickyColumns?.last ?? 0) > 0);\n    const hasEditableCells = !!columnDefinitions.find(col => col.editConfig);\n\n    let tableRole: TableRole = 'table';\n    if (isExpandable) {\n      tableRole = 'treegrid';\n    } else if (enableKeyboardNavigation) {\n      tableRole = 'grid';\n    } else if (hasEditableCells) {\n      tableRole = 'grid-default';\n    }\n\n    const theadProps: TheadProps = {\n      selectionType,\n      getSelectAllProps,\n      columnDefinitions: visibleColumnDefinitions,\n      variant: computedVariant,\n      wrapLines,\n      resizableColumns,\n      sortingColumn,\n      sortingDisabled,\n      sortingDescending,\n      onSortingChange,\n      onFocusMove: moveFocus,\n      onResizeFinish(newWidth) {\n        const widthsDetail = columnDefinitions.map(\n          (column, index) =>\n            newWidth.get(getColumnKey(column, index)) || (column.width as number) || DEFAULT_COLUMN_WIDTH\n        );\n        const widthsChanged = widthsDetail.some((width, index) => columnDefinitions[index].width !== width);\n        if (widthsChanged) {\n          fireNonCancelableEvent(onColumnWidthsChange, { widths: widthsDetail });\n        }\n      },\n      singleSelectionHeaderAriaLabel: ariaLabels?.selectionGroupLabel,\n      resizerRoleDescription: ariaLabels?.resizerRoleDescription,\n      stripedRows,\n      stickyState,\n      selectionColumnId,\n      tableRole,\n      isExpandable,\n      setLastUserAction,\n    };\n\n    const wrapperRef = useMergeRefs(wrapperRefObject, stickyState.refs.wrapper);\n    const tableRef = useMergeRefs(tableMeasureRef, tableRefObject, stickyState.refs.table);\n\n    const wrapperProps = getTableWrapperRoleProps({\n      tableRole,\n      isScrollable: !!(tableWidth && containerWidth && tableWidth > containerWidth),\n      ariaLabel: ariaLabels?.tableLabel,\n      ariaLabelledby,\n    });\n\n    const getMouseDownTarget = useMouseDownTarget();\n\n    useTableFocusNavigation({\n      enableKeyboardNavigation,\n      selectionType,\n      tableRoot: tableRefObject,\n      columnDefinitions: visibleColumnDefinitions,\n      numRows: allRows?.length,\n    });\n    const toolsHeaderPerformanceMarkRef = useRef<HTMLDivElement>(null);\n    // If is mobile, we take into consideration the AppLayout's mobile bar and we subtract the tools wrapper height so only the table header is sticky\n    const [toolsHeaderHeight, toolsHeaderWrapperMeasureRef] = useContainerQuery(rect => rect.borderBoxHeight);\n    const toolsHeaderWrapper = useMergeRefs(toolsHeaderPerformanceMarkRef, toolsHeaderWrapperMeasureRef);\n\n    const colIndexOffset = selectionType ? 1 : 0;\n    const totalColumnsCount = visibleColumnDefinitions.length + colIndexOffset;\n\n    return (\n      <LinkDefaultVariantContext.Provider value={{ defaultVariant: 'primary' }}>\n        <TableComponentsContext.Provider value={{ paginationRef, filterRef }}>\n          <ColumnWidthsProvider\n            visibleColumns={visibleColumnWidthsWithSelection}\n            resizableColumns={resizableColumns}\n            containerRef={wrapperMeasureRefObject}\n          >\n            <InternalContainer\n              {...baseProps}\n              __internalRootRef={__internalRootRef}\n              className={clsx(baseProps.className, styles.root)}\n              __funnelSubStepProps={__funnelSubStepProps}\n              __fullPage={variant === 'full-page'}\n              header={\n                <>\n                  {hasHeader && (\n                    <div>\n                      <div\n                        ref={toolsHeaderWrapper}\n                        className={clsx(styles['header-controls'], styles[`variant-${computedVariant}`])}\n                      >\n                        <CollectionLabelContext.Provider value={{ assignId: setHeaderRef }}>\n                          <ToolsHeader\n                            header={header}\n                            filter={filter}\n                            pagination={pagination}\n                            preferences={preferences}\n                            setLastUserAction={setLastUserAction}\n                          />\n                        </CollectionLabelContext.Provider>\n                      </div>\n                    </div>\n                  )}\n                  {stickyHeader && (\n                    <StickyHeader\n                      ref={stickyHeaderRef}\n                      variant={computedVariant}\n                      theadProps={theadProps}\n                      wrapperRef={wrapperRefObject}\n                      theadRef={theadRef}\n                      secondaryWrapperRef={secondaryWrapperRef}\n                      tableRef={tableRefObject}\n                      onScroll={handleScroll}\n                      tableHasHeader={hasHeader}\n                      contentDensity={contentDensity}\n                      tableRole={tableRole}\n                    />\n                  )}\n                </>\n              }\n              disableHeaderPaddings={true}\n              disableContentPaddings={true}\n              variant={toContainerVariant(computedVariant)}\n              __disableFooterPaddings={true}\n              __disableFooterDivider={true}\n              __disableStickyMobile={false}\n              footer={\n                hasFooter ? (\n                  <div className={clsx(styles['footer-wrapper'], styles[`variant-${computedVariant}`])}>\n                    <div className={clsx(styles.footer, hasFooterPagination && styles['footer-with-pagination'])}>\n                      {footer && <span>{footer}</span>}\n                      {hasFooterPagination && <div className={styles['footer-pagination']}>{pagination}</div>}\n                    </div>\n                  </div>\n                ) : null\n              }\n              __stickyHeader={stickyHeader}\n              __mobileStickyOffset={toolsHeaderHeight ?? 0}\n              __stickyOffset={stickyHeaderVerticalOffset}\n              {...focusMarkers.root}\n            >\n              <div\n                ref={wrapperRef}\n                className={clsx(styles.wrapper, styles[`variant-${computedVariant}`], {\n                  [styles['has-footer']]: hasFooter,\n                  [styles['has-header']]: hasHeader,\n                })}\n                style={stickyState.style.wrapper}\n                onScroll={handleScroll}\n                {...wrapperProps}\n              >\n                <div className={styles['wrapper-content-measure']} ref={wrapperMeasureMergedRef}></div>\n                {!!renderAriaLive && !!firstIndex && (\n                  <LiveRegion>\n                    <span>\n                      {renderAriaLive({\n                        firstIndex,\n                        lastIndex: firstIndex + items.length - 1,\n                        visibleItemsCount: allItems.length,\n                        totalItemsCount,\n                      })}\n                    </span>\n                  </LiveRegion>\n                )}\n                <GridNavigationProvider\n                  keyboardNavigation={!!enableKeyboardNavigation}\n                  pageSize={GRID_NAVIGATION_PAGE_SIZE}\n                  getTable={() => tableRefObject.current}\n                >\n                  <table\n                    {...performanceMarkAttributes}\n                    {...componentAnalyticsAttributes}\n                    ref={tableRef}\n                    className={clsx(\n                      styles.table,\n                      resizableColumns && styles['table-layout-fixed'],\n                      contentDensity === 'compact' && getVisualContextClassname('compact-table')\n                    )}\n                    {...getTableRoleProps({\n                      tableRole,\n                      totalItemsCount,\n                      totalColumnsCount: totalColumnsCount,\n                      ariaLabel: ariaLabels?.tableLabel,\n                      ariaLabelledby,\n                    })}\n                  >\n                    <Thead\n                      ref={theadRef}\n                      hidden={stickyHeader}\n                      onFocusedComponentChange={focusId => stickyHeaderRef.current?.setFocus(focusId)}\n                      {...theadProps}\n                    />\n                    <tbody>\n                      {loading || allItems.length === 0 ? (\n                        <tr>\n                          <NoDataCell\n                            totalColumnsCount={totalColumnsCount}\n                            hasFooter={hasFooter}\n                            loading={loading}\n                            loadingText={loadingText}\n                            empty={empty}\n                            tableRef={tableRefObject}\n                            containerRef={wrapperMeasureRefObject}\n                          />\n                        </tr>\n                      ) : (\n                        allRows.map((row, rowIndex) => {\n                          const isFirstRow = rowIndex === 0;\n                          const isLastRow = rowIndex === allRows.length - 1;\n                          const expandableProps = row.type === 'data' ? getExpandableItemProps(row.item) : undefined;\n                          const rowRoleProps = getTableRowRoleProps({\n                            tableRole,\n                            firstIndex,\n                            rowIndex,\n                            level: row.type === 'loader' ? row.level : undefined,\n                            ...expandableProps,\n                          });\n                          const getTableItemKey = (item: T) => getItemKey(trackBy, item, rowIndex);\n                          const sharedCellProps = {\n                            isVisualRefresh,\n                            isFirstRow,\n                            isLastRow,\n                            isSelected: hasSelection && isRowSelected(row),\n                            isPrevSelected: hasSelection && !isFirstRow && isRowSelected(allRows[rowIndex - 1]),\n                            isNextSelected: hasSelection && !isLastRow && isRowSelected(allRows[rowIndex + 1]),\n                            isEvenRow: rowIndex % 2 === 0,\n                            stripedRows,\n                            hasSelection,\n                            hasFooter,\n                            stickyState,\n                            tableRole,\n                          };\n                          if (row.type === 'data') {\n                            return (\n                              <tr\n                                key={getTableItemKey(row.item)}\n                                className={clsx(styles.row, sharedCellProps.isSelected && styles['row-selected'])}\n                                onFocus={({ currentTarget }) => {\n                                  // When an element inside table row receives focus we want to adjust the scroll.\n                                  // However, that behaviour is unwanted when the focus is received as result of a click\n                                  // as it causes the click to never reach the target element.\n                                  if (!currentTarget.contains(getMouseDownTarget())) {\n                                    stickyHeaderRef.current?.scrollToRow(currentTarget);\n                                  }\n                                }}\n                                {...focusMarkers.item}\n                                onClick={onRowClickHandler && onRowClickHandler.bind(null, rowIndex, row.item)}\n                                onContextMenu={\n                                  onRowContextMenuHandler && onRowContextMenuHandler.bind(null, rowIndex, row.item)\n                                }\n                                {...rowRoleProps}\n                              >\n                                {getItemSelectionProps && (\n                                  <TableTdElement\n                                    {...sharedCellProps}\n                                    className={styles['selection-control']}\n                                    wrapLines={false}\n                                    columnId={selectionColumnId}\n                                    colIndex={0}\n                                  >\n                                    <SelectionControl\n                                      onFocusDown={moveFocusDown}\n                                      onFocusUp={moveFocusUp}\n                                      {...getItemSelectionProps(row.item)}\n                                      rowIndex={rowIndex}\n                                      itemKey={`${getTableItemKey(row.item)}`}\n                                    />\n                                  </TableTdElement>\n                                )}\n\n                                {visibleColumnDefinitions.map((column, colIndex) => {\n                                  const isEditing = cellEditing.checkEditing({ rowIndex, colIndex });\n                                  const successfulEdit = cellEditing.checkLastSuccessfulEdit({ rowIndex, colIndex });\n                                  const isEditable = !!column.editConfig && !cellEditing.isLoading;\n                                  const cellExpandableProps =\n                                    isExpandable && colIndex === 0 ? expandableProps : undefined;\n\n                                  const analyticsMetadata: GeneratedAnalyticsMetadataFragment = {\n                                    component: {\n                                      innerContext: {\n                                        position: `${rowIndex + 1},${colIndex + 1}`,\n                                        columnId: column.id ? `${column.id}` : '',\n                                        columnLabel: {\n                                          selector: `table thead tr th:nth-child(${colIndex + (selectionType ? 2 : 1)})`,\n                                          root: 'component',\n                                        },\n                                        item: `${getTableItemKey(row.item)}`,\n                                      } as GeneratedAnalyticsMetadataTableComponent['innerContext'],\n                                    },\n                                  };\n\n                                  return (\n                                    <TableBodyCell\n                                      key={getColumnKey(column, colIndex)}\n                                      {...sharedCellProps}\n                                      style={\n                                        resizableColumns\n                                          ? {}\n                                          : {\n                                              width: column.width,\n                                              minWidth: column.minWidth,\n                                              maxWidth: column.maxWidth,\n                                            }\n                                      }\n                                      ariaLabels={ariaLabels}\n                                      column={column}\n                                      item={row.item}\n                                      wrapLines={wrapLines}\n                                      isEditable={isEditable}\n                                      isEditing={isEditing}\n                                      isRowHeader={column.isRowHeader}\n                                      successfulEdit={successfulEdit}\n                                      resizableColumns={resizableColumns}\n                                      onEditStart={() => cellEditing.startEdit({ rowIndex, colIndex })}\n                                      onEditEnd={editCancelled =>\n                                        cellEditing.completeEdit({ rowIndex, colIndex }, editCancelled)\n                                      }\n                                      submitEdit={cellEditing.submitEdit}\n                                      columnId={column.id ?? colIndex}\n                                      colIndex={colIndex + colIndexOffset}\n                                      verticalAlign={column.verticalAlign}\n                                      {...cellExpandableProps}\n                                      {...getAnalyticsMetadataAttribute(analyticsMetadata)}\n                                    />\n                                  );\n                                })}\n                              </tr>\n                            );\n                          }\n                          return (\n                            <tr\n                              key={(row.item ? getTableItemKey(row.item) : 'root-' + rowIndex) + '-' + row.from}\n                              className={styles.row}\n                              {...rowRoleProps}\n                            >\n                              {getItemSelectionProps && (\n                                <TableTdElement\n                                  {...sharedCellProps}\n                                  className={styles['selection-control']}\n                                  wrapLines={false}\n                                  columnId={selectionColumnId}\n                                  colIndex={0}\n                                >\n                                  {null}\n                                </TableTdElement>\n                              )}\n                              {visibleColumnDefinitions.map((column, colIndex) => (\n                                <TableTdElement\n                                  key={getColumnKey(column, colIndex)}\n                                  {...sharedCellProps}\n                                  wrapLines={false}\n                                  columnId={column.id ?? colIndex}\n                                  colIndex={colIndex + colIndexOffset}\n                                  isRowHeader={colIndex === 0}\n                                  level={row.level}\n                                >\n                                  {colIndex === 0 ? (\n                                    <ItemsLoader\n                                      item={row.item}\n                                      loadingStatus={row.status}\n                                      renderLoaderPending={renderLoaderPending}\n                                      renderLoaderLoading={renderLoaderLoading}\n                                      renderLoaderError={renderLoaderError}\n                                      trackBy={trackBy}\n                                    />\n                                  ) : null}\n                                </TableTdElement>\n                              ))}\n                            </tr>\n                          );\n                        })\n                      )}\n                    </tbody>\n                  </table>\n                </GridNavigationProvider>\n\n                {resizableColumns && <ResizeTracker />}\n              </div>\n\n              <StickyScrollbar\n                ref={scrollbarRef}\n                wrapperRef={wrapperRefObject}\n                tableRef={tableRefObject}\n                onScroll={handleScroll}\n                hasStickyColumns={hasStickyColumns}\n              />\n            </InternalContainer>\n          </ColumnWidthsProvider>\n        </TableComponentsContext.Provider>\n      </LinkDefaultVariantContext.Provider>\n    );\n  }\n) as TableForwardRefType;\n\nexport default InternalTable;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}