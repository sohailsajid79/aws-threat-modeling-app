{"ast":null,"code":"import { __rest } from \"tslib\";\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useLayoutEffect, useState } from 'react';\nimport InternalInput from '../../../input/internal';\nimport { getBaseProps } from '../../base-component';\nimport { useFormFieldContext } from '../../context/form-field-context';\nimport { fireCancelableEvent, fireNonCancelableEvent } from '../../events';\nimport { useMergeRefs } from '../../hooks/use-merge-refs';\nimport useMask from './use-mask';\nimport MaskFormat from './utils/mask-format';\nconst MaskedInput = React.forwardRef((_a, ref) => {\n  var {\n      value,\n      onBlur,\n      onChange,\n      onKeyDown,\n      mask,\n      autofix = false,\n      disableAutocompleteOnBlur = false\n    } = _a,\n    rest = __rest(_a, [\"value\", \"onBlur\", \"onChange\", \"onKeyDown\", \"mask\", \"autofix\", \"disableAutocompleteOnBlur\"]);\n  const baseProps = getBaseProps(rest);\n  const formFieldContext = useFormFieldContext(rest);\n  const inputRef = React.useRef(null);\n  const [cursorPosition, setCursorPosition] = useState(null);\n  useLayoutEffect(() => {\n    var _a;\n    if (cursorPosition !== null) {\n      (_a = inputRef.current) === null || _a === void 0 ? void 0 : _a.setSelectionRange(cursorPosition, cursorPosition);\n    }\n  }, [cursorPosition, inputRef]);\n  const _b = useMask({\n      format: new MaskFormat(mask),\n      value,\n      inputRef,\n      autofix,\n      disableAutocompleteOnBlur,\n      onChange: value => !rest.readOnly && fireNonCancelableEvent(onChange, {\n        value\n      }),\n      onKeyDown: event => !rest.readOnly && onKeyDown && fireCancelableEvent(onKeyDown, event.detail, event),\n      onBlur: () => fireNonCancelableEvent(onBlur),\n      setPosition: setCursorPosition\n    }),\n    {\n      onPaste\n    } = _b,\n    maskProps = __rest(_b, [\"onPaste\"]);\n  const inputProps = Object.assign(Object.assign(Object.assign(Object.assign({}, rest), baseProps), formFieldContext), maskProps);\n  const mergedRef = useMergeRefs(ref, inputRef);\n  return React.createElement(InternalInput, Object.assign({}, inputProps, {\n    ref: mergedRef,\n    __nativeAttributes: {\n      onPaste\n    }\n  }));\n});\nexport { useMask };\nexport default MaskedInput;","map":{"version":3,"names":["React","useLayoutEffect","useState","InternalInput","getBaseProps","useFormFieldContext","fireCancelableEvent","fireNonCancelableEvent","useMergeRefs","useMask","MaskFormat","MaskedInput","forwardRef","_a","ref","value","onBlur","onChange","onKeyDown","mask","autofix","disableAutocompleteOnBlur","rest","__rest","baseProps","formFieldContext","inputRef","useRef","cursorPosition","setCursorPosition","current","setSelectionRange","_b","format","readOnly","event","detail","setPosition","onPaste","maskProps","inputProps","Object","assign","mergedRef","createElement","__nativeAttributes"],"sources":["/Users/sohailsajid/Desktop/threat-modeling-app/node_modules/src/internal/components/masked-input/index.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { Ref, useLayoutEffect, useState } from 'react';\n\nimport InternalInput from '../../../input/internal';\nimport { getBaseProps } from '../../base-component';\nimport { useFormFieldContext } from '../../context/form-field-context';\nimport { fireCancelableEvent, fireNonCancelableEvent } from '../../events';\nimport { useMergeRefs } from '../../hooks/use-merge-refs';\nimport { MaskedInputProps } from './interfaces';\nimport useMask from './use-mask';\nimport MaskFormat from './utils/mask-format';\n\nconst MaskedInput = React.forwardRef(\n  (\n    {\n      value,\n      onBlur,\n      onChange,\n      onKeyDown,\n      mask,\n      autofix = false,\n      disableAutocompleteOnBlur = false,\n      ...rest\n    }: MaskedInputProps,\n    ref: Ref<MaskedInputProps.Ref>\n  ) => {\n    const baseProps = getBaseProps(rest);\n    const formFieldContext = useFormFieldContext(rest);\n    const inputRef = React.useRef<HTMLInputElement>(null);\n    const [cursorPosition, setCursorPosition] = useState<number | null>(null);\n\n    useLayoutEffect(() => {\n      if (cursorPosition !== null) {\n        inputRef.current?.setSelectionRange(cursorPosition, cursorPosition);\n      }\n    }, [cursorPosition, inputRef]);\n\n    const { onPaste, ...maskProps } = useMask({\n      format: new MaskFormat(mask),\n      value,\n      inputRef,\n      autofix,\n      disableAutocompleteOnBlur,\n      onChange: (value: string) => !rest.readOnly && fireNonCancelableEvent(onChange, { value }),\n      onKeyDown: (event: CustomEvent) =>\n        !rest.readOnly && onKeyDown && fireCancelableEvent(onKeyDown, event.detail, event),\n      onBlur: () => fireNonCancelableEvent(onBlur),\n      setPosition: setCursorPosition,\n    });\n\n    const inputProps = { ...rest, ...baseProps, ...formFieldContext, ...maskProps };\n    const mergedRef = useMergeRefs(ref, inputRef);\n    return (\n      <InternalInput\n        {...inputProps}\n        ref={mergedRef}\n        __nativeAttributes={{\n          onPaste,\n        }}\n      />\n    );\n  }\n);\n\nexport { MaskedInputProps, useMask };\nexport default MaskedInput;\n"],"mappings":";AAAA;AACA;AACA,OAAOA,KAAK,IAASC,eAAe,EAAEC,QAAQ,QAAQ,OAAO;AAE7D,OAAOC,aAAa,MAAM,yBAAyB;AACnD,SAASC,YAAY,QAAQ,sBAAsB;AACnD,SAASC,mBAAmB,QAAQ,kCAAkC;AACtE,SAASC,mBAAmB,EAAEC,sBAAsB,QAAQ,cAAc;AAC1E,SAASC,YAAY,QAAQ,4BAA4B;AAEzD,OAAOC,OAAO,MAAM,YAAY;AAChC,OAAOC,UAAU,MAAM,qBAAqB;AAE5C,MAAMC,WAAW,GAAGX,KAAK,CAACY,UAAU,CAClC,CACEC,EASmB,EACnBC,GAA8B,KAC5B;MAXF;MACEC,KAAK;MACLC,MAAM;MACNC,QAAQ;MACRC,SAAS;MACTC,IAAI;MACJC,OAAO,GAAG,KAAK;MACfC,yBAAyB,GAAG;IAAK,IAAAR,EAEhB;IADdS,IAAI,GAAAC,MAAA,CAAAV,EAAA,EART,4FASC,CADQ;EAIT,MAAMW,SAAS,GAAGpB,YAAY,CAACkB,IAAI,CAAC;EACpC,MAAMG,gBAAgB,GAAGpB,mBAAmB,CAACiB,IAAI,CAAC;EAClD,MAAMI,QAAQ,GAAG1B,KAAK,CAAC2B,MAAM,CAAmB,IAAI,CAAC;EACrD,MAAM,CAACC,cAAc,EAAEC,iBAAiB,CAAC,GAAG3B,QAAQ,CAAgB,IAAI,CAAC;EAEzED,eAAe,CAAC,MAAK;;IACnB,IAAI2B,cAAc,KAAK,IAAI,EAAE;MAC3B,CAAAf,EAAA,GAAAa,QAAQ,CAACI,OAAO,cAAAjB,EAAA,uBAAAA,EAAA,CAAEkB,iBAAiB,CAACH,cAAc,EAAEA,cAAc,CAAC;;EAEvE,CAAC,EAAE,CAACA,cAAc,EAAEF,QAAQ,CAAC,CAAC;EAE9B,MAAMM,EAAA,GAA4BvB,OAAO,CAAC;MACxCwB,MAAM,EAAE,IAAIvB,UAAU,CAACS,IAAI,CAAC;MAC5BJ,KAAK;MACLW,QAAQ;MACRN,OAAO;MACPC,yBAAyB;MACzBJ,QAAQ,EAAGF,KAAa,IAAK,CAACO,IAAI,CAACY,QAAQ,IAAI3B,sBAAsB,CAACU,QAAQ,EAAE;QAAEF;MAAK,CAAE,CAAC;MAC1FG,SAAS,EAAGiB,KAAkB,IAC5B,CAACb,IAAI,CAACY,QAAQ,IAAIhB,SAAS,IAAIZ,mBAAmB,CAACY,SAAS,EAAEiB,KAAK,CAACC,MAAM,EAAED,KAAK,CAAC;MACpFnB,MAAM,EAAEA,CAAA,KAAMT,sBAAsB,CAACS,MAAM,CAAC;MAC5CqB,WAAW,EAAER;KACd,CAAC;IAXI;MAAES;IAAO,IAAAN,EAWb;IAXkBO,SAAS,GAAAhB,MAAA,CAAAS,EAAA,EAAvB,WAAyB,CAW7B;EAEF,MAAMQ,UAAU,GAAAC,MAAA,CAAAC,MAAA,CAAAD,MAAA,CAAAC,MAAA,CAAAD,MAAA,CAAAC,MAAA,CAAAD,MAAA,CAAAC,MAAA,KAAQpB,IAAI,GAAKE,SAAS,GAAKC,gBAAgB,GAAKc,SAAS,CAAE;EAC/E,MAAMI,SAAS,GAAGnC,YAAY,CAACM,GAAG,EAAEY,QAAQ,CAAC;EAC7C,OACE1B,KAAA,CAAA4C,aAAA,CAACzC,aAAa,EAAAsC,MAAA,CAAAC,MAAA,KACRF,UAAU;IACd1B,GAAG,EAAE6B,SAAS;IACdE,kBAAkB,EAAE;MAClBP;;EACD,GACD;AAEN,CAAC,CACF;AAED,SAA2B7B,OAAO;AAClC,eAAeE,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}