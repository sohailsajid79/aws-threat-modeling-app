{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect, useRef } from 'react';\nimport FocusLock from '../../../../internal/components/focus-lock';\nimport { useUniqueId } from '../../../../internal/hooks/use-unique-id';\nimport Header from '../header';\nimport { UtilityMenuItem } from '../menu-item';\nimport styles from '../../../styles.css.js';\nconst UtilitiesView = _ref => {\n  let {\n    headerText,\n    dismissIconAriaLabel,\n    onClose,\n    items = [],\n    focusIndex\n  } = _ref;\n  const headerId = useUniqueId('overflow-menu-header');\n  const ref = useRef(null);\n  useEffect(() => {\n    var _a;\n    // A focus index is used to set the focus back to the submenu trigger\n    // returning from a submenu.\n    if (typeof focusIndex === 'number') {\n      (_a = ref.current) === null || _a === void 0 ? void 0 : _a.focus();\n    }\n  }, [focusIndex]);\n  return React.createElement(FocusLock, {\n    autoFocus: true\n  }, React.createElement(Header, {\n    dismissIconAriaLabel: dismissIconAriaLabel,\n    onClose: onClose\n  }, React.createElement(\"span\", {\n    id: headerId\n  }, headerText)), React.createElement(\"ul\", {\n    className: styles['overflow-menu-list'],\n    \"aria-labelledby\": headerId\n  }, items.map((utility, index) => React.createElement(UtilityMenuItem, Object.assign({\n    key: index,\n    index: index,\n    ref: index === focusIndex ? ref : undefined,\n    onClose: onClose\n  }, utility)))));\n};\nexport default UtilitiesView;","map":{"version":3,"names":["React","useEffect","useRef","FocusLock","useUniqueId","Header","UtilityMenuItem","styles","UtilitiesView","_ref","headerText","dismissIconAriaLabel","onClose","items","focusIndex","headerId","ref","_a","current","focus","createElement","autoFocus","id","className","map","utility","index","Object","assign","key","undefined"],"sources":["/Users/sohailsajid/Desktop/threat-modeling-app/node_modules/src/top-navigation/parts/overflow-menu/views/utilities.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect, useRef } from 'react';\n\nimport FocusLock from '../../../../internal/components/focus-lock';\nimport { useUniqueId } from '../../../../internal/hooks/use-unique-id';\nimport { TopNavigationProps } from '../../../interfaces';\nimport { View } from '..';\nimport Header from '../header';\nimport { UtilityMenuItem } from '../menu-item';\n\nimport styles from '../../../styles.css.js';\n\ninterface UtilitiesViewProps extends View {\n  items: TopNavigationProps['utilities'];\n  focusIndex?: number;\n}\n\nconst UtilitiesView = ({ headerText, dismissIconAriaLabel, onClose, items = [], focusIndex }: UtilitiesViewProps) => {\n  const headerId = useUniqueId('overflow-menu-header');\n  const ref = useRef<HTMLAnchorElement & HTMLButtonElement>(null);\n\n  useEffect(() => {\n    // A focus index is used to set the focus back to the submenu trigger\n    // returning from a submenu.\n    if (typeof focusIndex === 'number') {\n      ref.current?.focus();\n    }\n  }, [focusIndex]);\n\n  return (\n    <FocusLock autoFocus={true}>\n      <Header dismissIconAriaLabel={dismissIconAriaLabel} onClose={onClose}>\n        <span id={headerId}>{headerText}</span>\n      </Header>\n      <ul className={styles['overflow-menu-list']} aria-labelledby={headerId}>\n        {items.map((utility, index) => (\n          <UtilityMenuItem\n            key={index}\n            index={index}\n            ref={index === focusIndex ? ref : undefined}\n            onClose={onClose}\n            {...utility}\n          />\n        ))}\n      </ul>\n    </FocusLock>\n  );\n};\n\nexport default UtilitiesView;\n"],"mappings":"AAAA;AACA;AACA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAEhD,OAAOC,SAAS,MAAM,4CAA4C;AAClE,SAASC,WAAW,QAAQ,0CAA0C;AAGtE,OAAOC,MAAM,MAAM,WAAW;AAC9B,SAASC,eAAe,QAAQ,cAAc;AAE9C,OAAOC,MAAM,MAAM,wBAAwB;AAO3C,MAAMC,aAAa,GAAGC,IAAA,IAA8F;EAAA,IAA7F;IAAEC,UAAU;IAAEC,oBAAoB;IAAEC,OAAO;IAAEC,KAAK,GAAG,EAAE;IAAEC;EAAU,CAAsB,GAAAL,IAAA;EAC9G,MAAMM,QAAQ,GAAGX,WAAW,CAAC,sBAAsB,CAAC;EACpD,MAAMY,GAAG,GAAGd,MAAM,CAAwC,IAAI,CAAC;EAE/DD,SAAS,CAAC,MAAK;;IACb;IACA;IACA,IAAI,OAAOa,UAAU,KAAK,QAAQ,EAAE;MAClC,CAAAG,EAAA,GAAAD,GAAG,CAACE,OAAO,cAAAD,EAAA,uBAAAA,EAAA,CAAEE,KAAK,EAAE;;EAExB,CAAC,EAAE,CAACL,UAAU,CAAC,CAAC;EAEhB,OACEd,KAAA,CAAAoB,aAAA,CAACjB,SAAS;IAACkB,SAAS,EAAE;EAAI,GACxBrB,KAAA,CAAAoB,aAAA,CAACf,MAAM;IAACM,oBAAoB,EAAEA,oBAAoB;IAAEC,OAAO,EAAEA;EAAO,GAClEZ,KAAA,CAAAoB,aAAA;IAAME,EAAE,EAAEP;EAAQ,GAAGL,UAAU,CAAQ,CAChC,EACTV,KAAA,CAAAoB,aAAA;IAAIG,SAAS,EAAEhB,MAAM,CAAC,oBAAoB,CAAC;IAAA,mBAAmBQ;EAAQ,GACnEF,KAAK,CAACW,GAAG,CAAC,CAACC,OAAO,EAAEC,KAAK,KACxB1B,KAAA,CAAAoB,aAAA,CAACd,eAAe,EAAAqB,MAAA,CAAAC,MAAA;IACdC,GAAG,EAAEH,KAAK;IACVA,KAAK,EAAEA,KAAK;IACZV,GAAG,EAAEU,KAAK,KAAKZ,UAAU,GAAGE,GAAG,GAAGc,SAAS;IAC3ClB,OAAO,EAAEA;EAAO,GACZa,OAAO,EAEd,CAAC,CACC,CACK;AAEhB,CAAC;AAED,eAAejB,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}