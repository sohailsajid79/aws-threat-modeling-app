{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nconst stateToAriaSort = {\n  sortable: 'none',\n  ascending: 'ascending',\n  descending: 'descending'\n};\nconst getAriaSort = sortingState => stateToAriaSort[sortingState];\n// Depending on its content the table can have different semantic representation which includes the\n// ARIA role of the table component (\"table\", \"grid\", \"treegrid\") but also roles and other semantic attributes\n// of the child elements. The TableRole helper encapsulates table's semantic structure.\nexport function getTableRoleProps(options) {\n  const nativeProps = {};\n  // Browsers have weird mechanism to guess whether it's a data table or a layout table.\n  // If we state explicitly, they get it always correctly even with low number of rows.\n  nativeProps.role = options.tableRole === 'grid-default' ? 'grid' : options.tableRole;\n  nativeProps['aria-label'] = options.ariaLabel;\n  nativeProps['aria-labelledby'] = options.ariaLabelledby;\n  // Incrementing the total count by one to account for the header row.\n  nativeProps['aria-rowcount'] = typeof options.totalItemsCount === 'number' ? options.totalItemsCount + 1 : -1;\n  if (options.tableRole === 'grid' || options.tableRole === 'treegrid') {\n    nativeProps['aria-colcount'] = options.totalColumnsCount;\n  }\n  // Make table component programmatically focusable to attach focusin/focusout for keyboard navigation.\n  if (options.tableRole === 'grid' || options.tableRole === 'treegrid') {\n    nativeProps.tabIndex = -1;\n  }\n  return nativeProps;\n}\nexport function getTableWrapperRoleProps(options) {\n  const nativeProps = {};\n  // When the table is scrollable, the wrapper is made focusable so that keyboard users can scroll it horizontally with arrow keys.\n  if (options.isScrollable) {\n    nativeProps.role = 'region';\n    nativeProps.tabIndex = 0;\n    nativeProps['aria-label'] = options.ariaLabel;\n    nativeProps['aria-labelledby'] = options.ariaLabelledby;\n  }\n  return nativeProps;\n}\nexport function getTableHeaderRowRoleProps(options) {\n  const nativeProps = {};\n  // For grids headers are treated similar to data rows and are indexed accordingly.\n  if (options.tableRole === 'grid' || options.tableRole === 'grid-default' || options.tableRole === 'treegrid') {\n    nativeProps['aria-rowindex'] = 1;\n  }\n  return nativeProps;\n}\nexport function getTableRowRoleProps(options) {\n  const nativeProps = {};\n  // The data cell indices are incremented by 1 to account for the header cells.\n  if (options.tableRole === 'grid' || options.tableRole === 'treegrid') {\n    nativeProps['aria-rowindex'] = (options.firstIndex || 1) + options.rowIndex + 1;\n  }\n  // For tables indices are only added when the first index is not 0 (not the first page/frame).\n  else if (options.firstIndex !== undefined) {\n    nativeProps['aria-rowindex'] = options.firstIndex + options.rowIndex + 1;\n  }\n  if (options.tableRole === 'treegrid' && options.level && options.level !== 0) {\n    nativeProps['aria-level'] = options.level;\n  }\n  if (options.tableRole === 'treegrid' && options.setSize) {\n    nativeProps['aria-setsize'] = options.setSize;\n  }\n  if (options.tableRole === 'treegrid' && options.posInSet) {\n    nativeProps['aria-posinset'] = options.posInSet;\n  }\n  return nativeProps;\n}\nexport function getTableColHeaderRoleProps(options) {\n  const nativeProps = {};\n  nativeProps.scope = 'col';\n  if (options.tableRole === 'grid' || options.tableRole === 'treegrid') {\n    nativeProps['aria-colindex'] = options.colIndex + 1;\n  }\n  if (options.sortingStatus) {\n    nativeProps['aria-sort'] = getAriaSort(options.sortingStatus);\n  }\n  return nativeProps;\n}\nexport function getTableCellRoleProps(options) {\n  const nativeProps = {};\n  if (options.tableRole === 'grid' || options.tableRole === 'treegrid') {\n    nativeProps['aria-colindex'] = options.colIndex + 1;\n  }\n  if (options.isRowHeader) {\n    nativeProps.scope = 'row';\n  }\n  return nativeProps;\n}","map":{"version":3,"names":["stateToAriaSort","sortable","ascending","descending","getAriaSort","sortingState","getTableRoleProps","options","nativeProps","role","tableRole","ariaLabel","ariaLabelledby","totalItemsCount","totalColumnsCount","tabIndex","getTableWrapperRoleProps","isScrollable","getTableHeaderRowRoleProps","getTableRowRoleProps","firstIndex","rowIndex","undefined","level","setSize","posInSet","getTableColHeaderRoleProps","scope","colIndex","sortingStatus","getTableCellRoleProps","isRowHeader"],"sources":["/Users/sohailsajid/Desktop/threat-modeling-app/node_modules/src/table/table-role/table-role-helper.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { TableRole } from './interfaces';\n\ntype SortingStatus = 'sortable' | 'ascending' | 'descending';\n\nconst stateToAriaSort = {\n  sortable: 'none',\n  ascending: 'ascending',\n  descending: 'descending',\n} as const;\nconst getAriaSort = (sortingState: SortingStatus) => stateToAriaSort[sortingState];\n\n// Depending on its content the table can have different semantic representation which includes the\n// ARIA role of the table component (\"table\", \"grid\", \"treegrid\") but also roles and other semantic attributes\n// of the child elements. The TableRole helper encapsulates table's semantic structure.\n\nexport function getTableRoleProps(options: {\n  tableRole: TableRole;\n  ariaLabel?: string;\n  ariaLabelledby?: string;\n  totalItemsCount?: number;\n  totalColumnsCount?: number;\n}): React.TableHTMLAttributes<HTMLTableElement> {\n  const nativeProps: React.TableHTMLAttributes<HTMLTableElement> = {};\n\n  // Browsers have weird mechanism to guess whether it's a data table or a layout table.\n  // If we state explicitly, they get it always correctly even with low number of rows.\n  nativeProps.role = options.tableRole === 'grid-default' ? 'grid' : options.tableRole;\n\n  nativeProps['aria-label'] = options.ariaLabel;\n  nativeProps['aria-labelledby'] = options.ariaLabelledby;\n\n  // Incrementing the total count by one to account for the header row.\n  nativeProps['aria-rowcount'] = typeof options.totalItemsCount === 'number' ? options.totalItemsCount + 1 : -1;\n\n  if (options.tableRole === 'grid' || options.tableRole === 'treegrid') {\n    nativeProps['aria-colcount'] = options.totalColumnsCount;\n  }\n\n  // Make table component programmatically focusable to attach focusin/focusout for keyboard navigation.\n  if (options.tableRole === 'grid' || options.tableRole === 'treegrid') {\n    nativeProps.tabIndex = -1;\n  }\n\n  return nativeProps;\n}\n\nexport function getTableWrapperRoleProps(options: {\n  tableRole: TableRole;\n  isScrollable: boolean;\n  ariaLabel?: string;\n  ariaLabelledby?: string;\n}) {\n  const nativeProps: React.HTMLAttributes<HTMLDivElement> = {};\n\n  // When the table is scrollable, the wrapper is made focusable so that keyboard users can scroll it horizontally with arrow keys.\n  if (options.isScrollable) {\n    nativeProps.role = 'region';\n    nativeProps.tabIndex = 0;\n    nativeProps['aria-label'] = options.ariaLabel;\n    nativeProps['aria-labelledby'] = options.ariaLabelledby;\n  }\n\n  return nativeProps;\n}\n\nexport function getTableHeaderRowRoleProps(options: { tableRole: TableRole }) {\n  const nativeProps: React.HTMLAttributes<HTMLTableRowElement> = {};\n\n  // For grids headers are treated similar to data rows and are indexed accordingly.\n  if (options.tableRole === 'grid' || options.tableRole === 'grid-default' || options.tableRole === 'treegrid') {\n    nativeProps['aria-rowindex'] = 1;\n  }\n\n  return nativeProps;\n}\n\nexport function getTableRowRoleProps(options: {\n  tableRole: TableRole;\n  rowIndex: number;\n  firstIndex?: number;\n  level?: number;\n  setSize?: number;\n  posInSet?: number;\n}) {\n  const nativeProps: React.HTMLAttributes<HTMLTableRowElement> = {};\n\n  // The data cell indices are incremented by 1 to account for the header cells.\n  if (options.tableRole === 'grid' || options.tableRole === 'treegrid') {\n    nativeProps['aria-rowindex'] = (options.firstIndex || 1) + options.rowIndex + 1;\n  }\n  // For tables indices are only added when the first index is not 0 (not the first page/frame).\n  else if (options.firstIndex !== undefined) {\n    nativeProps['aria-rowindex'] = options.firstIndex + options.rowIndex + 1;\n  }\n  if (options.tableRole === 'treegrid' && options.level && options.level !== 0) {\n    nativeProps['aria-level'] = options.level;\n  }\n  if (options.tableRole === 'treegrid' && options.setSize) {\n    nativeProps['aria-setsize'] = options.setSize;\n  }\n  if (options.tableRole === 'treegrid' && options.posInSet) {\n    nativeProps['aria-posinset'] = options.posInSet;\n  }\n\n  return nativeProps;\n}\n\nexport function getTableColHeaderRoleProps(options: {\n  tableRole: TableRole;\n  colIndex: number;\n  sortingStatus?: SortingStatus;\n}) {\n  const nativeProps: React.ThHTMLAttributes<HTMLTableCellElement> = {};\n\n  nativeProps.scope = 'col';\n\n  if (options.tableRole === 'grid' || options.tableRole === 'treegrid') {\n    nativeProps['aria-colindex'] = options.colIndex + 1;\n  }\n\n  if (options.sortingStatus) {\n    nativeProps['aria-sort'] = getAriaSort(options.sortingStatus);\n  }\n\n  return nativeProps;\n}\n\nexport function getTableCellRoleProps(options: { tableRole: TableRole; colIndex: number; isRowHeader?: boolean }) {\n  const nativeProps: React.TdHTMLAttributes<HTMLTableCellElement> = {};\n\n  if (options.tableRole === 'grid' || options.tableRole === 'treegrid') {\n    nativeProps['aria-colindex'] = options.colIndex + 1;\n  }\n\n  if (options.isRowHeader) {\n    nativeProps.scope = 'row';\n  }\n\n  return nativeProps;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}