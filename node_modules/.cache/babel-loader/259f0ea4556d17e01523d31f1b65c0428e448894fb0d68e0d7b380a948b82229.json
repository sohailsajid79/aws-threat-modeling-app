{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useRef } from 'react';\nimport { processItems, processSelectedItems, itemsAreEqual } from './operations/index.js';\nimport { createSyncProps } from './utils.js';\nimport { useCollectionState } from './use-collection-state.js';\nexport function useCollection(allItems, options) {\n  var collectionRef = useRef(null);\n  var _a = useCollectionState(options, collectionRef),\n    state = _a[0],\n    actions = _a[1];\n  var _b = processItems(allItems, state, options),\n    items = _b.items,\n    allPageItems = _b.allPageItems,\n    pagesCount = _b.pagesCount,\n    filteredItemsCount = _b.filteredItemsCount,\n    actualPageIndex = _b.actualPageIndex,\n    itemsTree = _b.itemsTree;\n  var expandedItemsSet = new Set();\n  if (options.expandableRows) {\n    for (var _i = 0, _c = state.expandedItems; _i < _c.length; _i++) {\n      var item = _c[_i];\n      expandedItemsSet.add(options.expandableRows.getId(item));\n    }\n  }\n  var visibleItems = items;\n  if (options.expandableRows) {\n    var flatItems_1 = new Array();\n    var getId_1 = options.expandableRows.getId;\n    var traverse_1 = function (items) {\n      for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n        var item = items_1[_i];\n        flatItems_1.push(item);\n        if (expandedItemsSet.has(getId_1(item))) {\n          traverse_1(itemsTree.getChildren(item));\n        }\n      }\n    };\n    traverse_1(items);\n    visibleItems = flatItems_1;\n  }\n  // Removing selected items that are no longer present in items unless keepSelection=true.\n  if (options.selection && !options.selection.keepSelection) {\n    var newSelectedItems = processSelectedItems(visibleItems, state.selectedItems, options.selection.trackBy);\n    if (!itemsAreEqual(newSelectedItems, state.selectedItems, options.selection.trackBy)) {\n      // This is a recommended pattern for how to handle the state, dependent on the incoming props\n      // https://reactjs.org/docs/hooks-faq.html#how-do-i-implement-getderivedstatefromprops\n      actions.setSelectedItems(newSelectedItems);\n    }\n  }\n  // Removing expanded items that are no longer present in items.\n  if (options.expandableRows) {\n    var newExpandedItems = visibleItems.filter(function (item) {\n      return expandedItemsSet.has(options.expandableRows.getId(item));\n    });\n    if (!itemsAreEqual(newExpandedItems, state.expandedItems, options.expandableRows.getId)) {\n      actions.setExpandedItems(newExpandedItems);\n    }\n  }\n  return __assign({\n    items: items,\n    allPageItems: allPageItems,\n    filteredItemsCount: filteredItemsCount,\n    actions: actions\n  }, createSyncProps(options, state, actions, collectionRef, {\n    actualPageIndex: actualPageIndex,\n    pagesCount: pagesCount,\n    allItems: allItems,\n    allPageItems: allPageItems,\n    itemsTree: itemsTree\n  }));\n}","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","useRef","processItems","processSelectedItems","itemsAreEqual","createSyncProps","useCollectionState","useCollection","allItems","options","collectionRef","_a","state","actions","_b","items","allPageItems","pagesCount","filteredItemsCount","actualPageIndex","itemsTree","expandedItemsSet","Set","expandableRows","_i","_c","expandedItems","item","add","getId","visibleItems","flatItems_1","Array","getId_1","traverse_1","items_1","push","has","getChildren","selection","keepSelection","newSelectedItems","selectedItems","trackBy","setSelectedItems","newExpandedItems","filter","setExpandedItems"],"sources":["/Users/sohailsajid/Desktop/threat-modeling-app/node_modules/@cloudscape-design/collection-hooks/mjs/use-collection.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useRef } from 'react';\nimport { processItems, processSelectedItems, itemsAreEqual } from './operations/index.js';\nimport { createSyncProps } from './utils.js';\nimport { useCollectionState } from './use-collection-state.js';\nexport function useCollection(allItems, options) {\n    var collectionRef = useRef(null);\n    var _a = useCollectionState(options, collectionRef), state = _a[0], actions = _a[1];\n    var _b = processItems(allItems, state, options), items = _b.items, allPageItems = _b.allPageItems, pagesCount = _b.pagesCount, filteredItemsCount = _b.filteredItemsCount, actualPageIndex = _b.actualPageIndex, itemsTree = _b.itemsTree;\n    var expandedItemsSet = new Set();\n    if (options.expandableRows) {\n        for (var _i = 0, _c = state.expandedItems; _i < _c.length; _i++) {\n            var item = _c[_i];\n            expandedItemsSet.add(options.expandableRows.getId(item));\n        }\n    }\n    var visibleItems = items;\n    if (options.expandableRows) {\n        var flatItems_1 = new Array();\n        var getId_1 = options.expandableRows.getId;\n        var traverse_1 = function (items) {\n            for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n                var item = items_1[_i];\n                flatItems_1.push(item);\n                if (expandedItemsSet.has(getId_1(item))) {\n                    traverse_1(itemsTree.getChildren(item));\n                }\n            }\n        };\n        traverse_1(items);\n        visibleItems = flatItems_1;\n    }\n    // Removing selected items that are no longer present in items unless keepSelection=true.\n    if (options.selection && !options.selection.keepSelection) {\n        var newSelectedItems = processSelectedItems(visibleItems, state.selectedItems, options.selection.trackBy);\n        if (!itemsAreEqual(newSelectedItems, state.selectedItems, options.selection.trackBy)) {\n            // This is a recommended pattern for how to handle the state, dependent on the incoming props\n            // https://reactjs.org/docs/hooks-faq.html#how-do-i-implement-getderivedstatefromprops\n            actions.setSelectedItems(newSelectedItems);\n        }\n    }\n    // Removing expanded items that are no longer present in items.\n    if (options.expandableRows) {\n        var newExpandedItems = visibleItems.filter(function (item) { return expandedItemsSet.has(options.expandableRows.getId(item)); });\n        if (!itemsAreEqual(newExpandedItems, state.expandedItems, options.expandableRows.getId)) {\n            actions.setExpandedItems(newExpandedItems);\n        }\n    }\n    return __assign({ items: items, allPageItems: allPageItems, filteredItemsCount: filteredItemsCount, actions: actions }, createSyncProps(options, state, actions, collectionRef, {\n        actualPageIndex: actualPageIndex,\n        pagesCount: pagesCount,\n        allItems: allItems,\n        allPageItems: allPageItems,\n        itemsTree: itemsTree,\n    }));\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}