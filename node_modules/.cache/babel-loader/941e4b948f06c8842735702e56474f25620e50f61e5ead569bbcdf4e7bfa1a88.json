{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\nimport { findUpUntil } from '@cloudscape-design/component-toolkit/dom';\nimport { getAnalyticsMetadataAttribute } from '@cloudscape-design/component-toolkit/internal/analytics-metadata';\nimport ScreenreaderOnly from '../internal/components/screenreader-only';\nimport { fireNonCancelableEvent } from '../internal/events';\nimport { useVisualRefresh } from '../internal/hooks/use-visual-mode';\nimport { TableHeaderCell } from './header-cell';\nimport { TableThElement } from './header-cell/th-element';\nimport { Divider } from './resizer';\nimport { focusMarkers, SelectionControl } from './selection';\nimport { getTableHeaderRowRoleProps } from './table-role';\nimport { useColumnWidths } from './use-column-widths';\nimport { getColumnKey } from './utils';\nimport headerCellStyles from './header-cell/styles.css.js';\nimport styles from './styles.css.js';\nconst Thead = React.forwardRef(({\n  selectionType,\n  getSelectAllProps,\n  columnDefinitions,\n  sortingColumn,\n  sortingDisabled,\n  sortingDescending,\n  resizableColumns,\n  variant,\n  wrapLines,\n  onFocusMove,\n  onSortingChange,\n  onResizeFinish,\n  singleSelectionHeaderAriaLabel,\n  stripedRows,\n  sticky = false,\n  hidden = false,\n  stuck = false,\n  stickyState,\n  selectionColumnId,\n  focusedComponent,\n  onFocusedComponentChange,\n  tableRole,\n  resizerRoleDescription,\n  isExpandable,\n  setLastUserAction\n}, outerRef) => {\n  const isVisualRefresh = useVisualRefresh();\n  const headerCellClass = clsx(headerCellStyles['header-cell'], headerCellStyles[`header-cell-variant-${variant}`], sticky && headerCellStyles['header-cell-sticky'], stuck && headerCellStyles['header-cell-stuck'], stripedRows && headerCellStyles['has-striped-rows'], isVisualRefresh && headerCellStyles['is-visual-refresh']);\n  const selectionCellClass = clsx(styles['selection-control'], styles['selection-control-header'], isVisualRefresh && styles['is-visual-refresh']);\n  const {\n    getColumnStyles,\n    columnWidths,\n    updateColumn,\n    setCell\n  } = useColumnWidths();\n  return React.createElement(\"thead\", {\n    className: clsx(!hidden && styles['thead-active'])\n  }, React.createElement(\"tr\", Object.assign({}, focusMarkers.all, {\n    ref: outerRef,\n    \"aria-rowindex\": 1\n  }, getTableHeaderRowRoleProps({\n    tableRole\n  }), {\n    onFocus: event => {\n      var _a;\n      const focusControlElement = findUpUntil(event.target, element => !!element.getAttribute('data-focus-id'));\n      const focusId = (_a = focusControlElement === null || focusControlElement === void 0 ? void 0 : focusControlElement.getAttribute('data-focus-id')) !== null && _a !== void 0 ? _a : null;\n      onFocusedComponentChange === null || onFocusedComponentChange === void 0 ? void 0 : onFocusedComponentChange(focusId);\n    },\n    onBlur: () => onFocusedComponentChange === null || onFocusedComponentChange === void 0 ? void 0 : onFocusedComponentChange(null)\n  }), selectionType ? React.createElement(TableThElement, Object.assign({\n    className: clsx(headerCellClass, selectionCellClass, hidden && headerCellStyles['header-cell-hidden']),\n    hidden: hidden,\n    tableRole: tableRole,\n    colIndex: 0,\n    focusedComponent: focusedComponent,\n    columnId: selectionColumnId,\n    stickyState: stickyState\n  }, getAnalyticsMetadataAttribute({\n    action: 'selectAll'\n  })), getSelectAllProps ? React.createElement(SelectionControl, Object.assign({\n    onFocusDown: event => {\n      onFocusMove(event.target, -1, +1);\n    },\n    focusedComponent: focusedComponent\n  }, getSelectAllProps(), sticky ? {\n    tabIndex: -1\n  } : {})) : React.createElement(ScreenreaderOnly, null, singleSelectionHeaderAriaLabel), React.createElement(Divider, {\n    className: styles['resize-divider']\n  })) : null, columnDefinitions.map((column, colIndex) => {\n    const columnId = getColumnKey(column, colIndex);\n    return React.createElement(TableHeaderCell, {\n      key: columnId,\n      style: getColumnStyles(sticky, columnId),\n      className: headerCellClass,\n      tabIndex: sticky ? -1 : 0,\n      focusedComponent: focusedComponent,\n      column: column,\n      activeSortingColumn: sortingColumn,\n      sortingDescending: sortingDescending,\n      sortingDisabled: sortingDisabled,\n      wrapLines: wrapLines,\n      hidden: hidden,\n      colIndex: selectionType ? colIndex + 1 : colIndex,\n      columnId: columnId,\n      updateColumn: updateColumn,\n      onResizeFinish: () => onResizeFinish(columnWidths),\n      resizableColumns: resizableColumns,\n      onClick: detail => {\n        setLastUserAction('sorting');\n        fireNonCancelableEvent(onSortingChange, detail);\n      },\n      isEditable: !!column.editConfig,\n      stickyState: stickyState,\n      cellRef: node => setCell(sticky, columnId, node),\n      tableRole: tableRole,\n      resizerRoleDescription: resizerRoleDescription,\n      // Expandable option is only applicable to the first data column of the table.\n      // When present, the header content receives extra padding to match the first offset in the data cells.\n      isExpandable: colIndex === 0 && isExpandable,\n      hasDynamicContent: hidden && !resizableColumns && column.hasDynamicContent\n    });\n  })));\n});\nexport default Thead;","map":{"version":3,"names":["React","clsx","findUpUntil","getAnalyticsMetadataAttribute","ScreenreaderOnly","fireNonCancelableEvent","useVisualRefresh","TableHeaderCell","TableThElement","Divider","focusMarkers","SelectionControl","getTableHeaderRowRoleProps","useColumnWidths","getColumnKey","headerCellStyles","styles","Thead","forwardRef","selectionType","getSelectAllProps","columnDefinitions","sortingColumn","sortingDisabled","sortingDescending","resizableColumns","variant","wrapLines","onFocusMove","onSortingChange","onResizeFinish","singleSelectionHeaderAriaLabel","stripedRows","sticky","hidden","stuck","stickyState","selectionColumnId","focusedComponent","onFocusedComponentChange","tableRole","resizerRoleDescription","isExpandable","setLastUserAction","outerRef","isVisualRefresh","headerCellClass","selectionCellClass","getColumnStyles","columnWidths","updateColumn","setCell","createElement","className","Object","assign","all","ref","onFocus","event","focusControlElement","target","element","getAttribute","focusId","_a","onBlur","colIndex","columnId","action","onFocusDown","tabIndex","map","column","key","style","activeSortingColumn","onClick","detail","isEditable","editConfig","cellRef","node","hasDynamicContent"],"sources":["/Users/sohailsajid/Desktop/threat-modeling-app/node_modules/src/table/thead.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\n\nimport { findUpUntil } from '@cloudscape-design/component-toolkit/dom';\nimport { getAnalyticsMetadataAttribute } from '@cloudscape-design/component-toolkit/internal/analytics-metadata';\n\nimport ScreenreaderOnly from '../internal/components/screenreader-only';\nimport { fireNonCancelableEvent, NonCancelableEventHandler } from '../internal/events';\nimport { useVisualRefresh } from '../internal/hooks/use-visual-mode';\nimport { GeneratedAnalyticsMetadataTableSelectAll } from './analytics-metadata/interfaces';\nimport { TableHeaderCell } from './header-cell';\nimport { TableThElement } from './header-cell/th-element';\nimport { TableProps } from './interfaces';\nimport { Divider } from './resizer';\nimport { focusMarkers, SelectionControl, SelectionProps } from './selection';\nimport { StickyColumnsModel } from './sticky-columns';\nimport { getTableHeaderRowRoleProps, TableRole } from './table-role';\nimport { useColumnWidths } from './use-column-widths';\nimport { getColumnKey } from './utils';\n\nimport headerCellStyles from './header-cell/styles.css.js';\nimport styles from './styles.css.js';\n\nexport interface TheadProps {\n  selectionType: TableProps.SelectionType | undefined;\n  columnDefinitions: ReadonlyArray<TableProps.ColumnDefinition<any>>;\n  sortingColumn: TableProps.SortingColumn<any> | undefined;\n  sortingDescending: boolean | undefined;\n  sortingDisabled: boolean | undefined;\n  variant: TableProps.Variant;\n  wrapLines: boolean | undefined;\n  resizableColumns: boolean | undefined;\n  getSelectAllProps?: () => SelectionProps;\n  onFocusMove: ((sourceElement: HTMLElement, fromIndex: number, direction: -1 | 1) => void) | undefined;\n  onResizeFinish: (newWidths: Map<PropertyKey, number>) => void;\n  onSortingChange: NonCancelableEventHandler<TableProps.SortingState<any>> | undefined;\n  sticky?: boolean;\n  hidden?: boolean;\n  stuck?: boolean;\n  singleSelectionHeaderAriaLabel?: string;\n  resizerRoleDescription?: string;\n  stripedRows?: boolean;\n  stickyState: StickyColumnsModel;\n  selectionColumnId: PropertyKey;\n  focusedComponent?: null | string;\n  onFocusedComponentChange?: (focusId: null | string) => void;\n  tableRole: TableRole;\n  isExpandable?: boolean;\n  setLastUserAction: (name: string) => void;\n}\n\nconst Thead = React.forwardRef(\n  (\n    {\n      selectionType,\n      getSelectAllProps,\n      columnDefinitions,\n      sortingColumn,\n      sortingDisabled,\n      sortingDescending,\n      resizableColumns,\n      variant,\n      wrapLines,\n      onFocusMove,\n      onSortingChange,\n      onResizeFinish,\n      singleSelectionHeaderAriaLabel,\n      stripedRows,\n      sticky = false,\n      hidden = false,\n      stuck = false,\n      stickyState,\n      selectionColumnId,\n      focusedComponent,\n      onFocusedComponentChange,\n      tableRole,\n      resizerRoleDescription,\n      isExpandable,\n      setLastUserAction,\n    }: TheadProps,\n    outerRef: React.Ref<HTMLTableRowElement>\n  ) => {\n    const isVisualRefresh = useVisualRefresh();\n\n    const headerCellClass = clsx(\n      headerCellStyles['header-cell'],\n      headerCellStyles[`header-cell-variant-${variant}`],\n      sticky && headerCellStyles['header-cell-sticky'],\n      stuck && headerCellStyles['header-cell-stuck'],\n      stripedRows && headerCellStyles['has-striped-rows'],\n      isVisualRefresh && headerCellStyles['is-visual-refresh']\n    );\n\n    const selectionCellClass = clsx(\n      styles['selection-control'],\n      styles['selection-control-header'],\n      isVisualRefresh && styles['is-visual-refresh']\n    );\n\n    const { getColumnStyles, columnWidths, updateColumn, setCell } = useColumnWidths();\n\n    return (\n      <thead className={clsx(!hidden && styles['thead-active'])}>\n        <tr\n          {...focusMarkers.all}\n          ref={outerRef}\n          aria-rowindex={1}\n          {...getTableHeaderRowRoleProps({ tableRole })}\n          onFocus={event => {\n            const focusControlElement = findUpUntil(event.target, element => !!element.getAttribute('data-focus-id'));\n            const focusId = focusControlElement?.getAttribute('data-focus-id') ?? null;\n            onFocusedComponentChange?.(focusId);\n          }}\n          onBlur={() => onFocusedComponentChange?.(null)}\n        >\n          {selectionType ? (\n            <TableThElement\n              className={clsx(headerCellClass, selectionCellClass, hidden && headerCellStyles['header-cell-hidden'])}\n              hidden={hidden}\n              tableRole={tableRole}\n              colIndex={0}\n              focusedComponent={focusedComponent}\n              columnId={selectionColumnId}\n              stickyState={stickyState}\n              {...getAnalyticsMetadataAttribute({\n                action: 'selectAll',\n              } as Partial<GeneratedAnalyticsMetadataTableSelectAll>)}\n            >\n              {getSelectAllProps ? (\n                <SelectionControl\n                  onFocusDown={event => {\n                    onFocusMove!(event.target as HTMLElement, -1, +1);\n                  }}\n                  focusedComponent={focusedComponent}\n                  {...getSelectAllProps()}\n                  {...(sticky ? { tabIndex: -1 } : {})}\n                />\n              ) : (\n                <ScreenreaderOnly>{singleSelectionHeaderAriaLabel}</ScreenreaderOnly>\n              )}\n              <Divider className={styles['resize-divider']} />\n            </TableThElement>\n          ) : null}\n\n          {columnDefinitions.map((column, colIndex) => {\n            const columnId = getColumnKey(column, colIndex);\n            return (\n              <TableHeaderCell\n                key={columnId}\n                style={getColumnStyles(sticky, columnId)}\n                className={headerCellClass}\n                tabIndex={sticky ? -1 : 0}\n                focusedComponent={focusedComponent}\n                column={column}\n                activeSortingColumn={sortingColumn}\n                sortingDescending={sortingDescending}\n                sortingDisabled={sortingDisabled}\n                wrapLines={wrapLines}\n                hidden={hidden}\n                colIndex={selectionType ? colIndex + 1 : colIndex}\n                columnId={columnId}\n                updateColumn={updateColumn}\n                onResizeFinish={() => onResizeFinish(columnWidths)}\n                resizableColumns={resizableColumns}\n                onClick={detail => {\n                  setLastUserAction('sorting');\n                  fireNonCancelableEvent(onSortingChange, detail);\n                }}\n                isEditable={!!column.editConfig}\n                stickyState={stickyState}\n                cellRef={node => setCell(sticky, columnId, node)}\n                tableRole={tableRole}\n                resizerRoleDescription={resizerRoleDescription}\n                // Expandable option is only applicable to the first data column of the table.\n                // When present, the header content receives extra padding to match the first offset in the data cells.\n                isExpandable={colIndex === 0 && isExpandable}\n                hasDynamicContent={hidden && !resizableColumns && column.hasDynamicContent}\n              />\n            );\n          })}\n        </tr>\n      </thead>\n    );\n  }\n);\n\nexport default Thead;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}