{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useRef, useState } from 'react';\nimport clsx from 'clsx';\nimport InternalIcon from '../icon/internal';\nimport Tooltip from '../internal/components/tooltip';\nimport useHiddenDescription from '../internal/hooks/use-hidden-description';\nimport { useMergeRefs } from '../internal/hooks/use-merge-refs';\nimport styles from './styles.css.js';\nexport const Segment = React.forwardRef(({\n  disabled,\n  disabledReason,\n  text,\n  iconName,\n  iconAlt,\n  iconUrl,\n  iconSvg,\n  isActive,\n  onClick,\n  onKeyDown,\n  tabIndex,\n  id\n}, ref) => {\n  const buttonRef = useRef(null);\n  const [showTooltip, setShowTooltip] = useState(false);\n  const isDisabledWithReason = disabled && !!disabledReason;\n  const {\n    targetProps,\n    descriptionEl\n  } = useHiddenDescription(disabledReason);\n  return React.createElement(\"button\", Object.assign({\n    className: clsx(styles.segment, {\n      [styles.disabled]: !!disabled\n    }, {\n      [styles.selected]: isActive\n    }),\n    ref: useMergeRefs(ref, buttonRef),\n    onClick: onClick,\n    onKeyDown: onKeyDown,\n    disabled: disabled && !disabledReason,\n    \"aria-disabled\": isDisabledWithReason ? 'true' : undefined,\n    type: \"button\",\n    tabIndex: tabIndex,\n    \"aria-pressed\": isActive ? 'true' : 'false',\n    \"aria-label\": !text ? iconAlt : undefined,\n    onFocus: isDisabledWithReason ? () => setShowTooltip(true) : undefined,\n    onBlur: isDisabledWithReason ? () => setShowTooltip(false) : undefined,\n    onMouseEnter: isDisabledWithReason ? () => setShowTooltip(true) : undefined,\n    onMouseLeave: isDisabledWithReason ? () => setShowTooltip(false) : undefined\n  }, isDisabledWithReason ? targetProps : {}, {\n    \"data-testid\": id\n  }), (iconName || iconUrl || iconSvg) && React.createElement(InternalIcon, {\n    className: clsx(styles.icon, text ? styles['with-text'] : styles['with-no-text']),\n    name: iconName,\n    url: iconUrl,\n    svg: iconSvg,\n    alt: iconAlt,\n    variant: disabled ? 'disabled' : 'normal'\n  }), React.createElement(\"span\", null, text), isDisabledWithReason && React.createElement(React.Fragment, null, descriptionEl, showTooltip && React.createElement(Tooltip, {\n    className: styles['disabled-reason-tooltip'],\n    trackRef: buttonRef,\n    value: disabledReason\n  })));\n});","map":{"version":3,"names":["React","useRef","useState","clsx","InternalIcon","Tooltip","useHiddenDescription","useMergeRefs","styles","Segment","forwardRef","disabled","disabledReason","text","iconName","iconAlt","iconUrl","iconSvg","isActive","onClick","onKeyDown","tabIndex","id","ref","buttonRef","showTooltip","setShowTooltip","isDisabledWithReason","targetProps","descriptionEl","createElement","Object","assign","className","segment","selected","undefined","type","onFocus","onBlur","onMouseEnter","onMouseLeave","icon","name","url","svg","alt","variant","Fragment","trackRef","value"],"sources":["/Users/sohailsajid/Desktop/threat-modeling-app/node_modules/src/segmented-control/segment.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useRef, useState } from 'react';\nimport clsx from 'clsx';\n\nimport InternalIcon from '../icon/internal';\nimport Tooltip from '../internal/components/tooltip';\nimport useHiddenDescription from '../internal/hooks/use-hidden-description';\nimport { useMergeRefs } from '../internal/hooks/use-merge-refs';\nimport { SegmentedControlProps } from './interfaces';\n\nimport styles from './styles.css.js';\n\nexport interface SegmentProps extends SegmentedControlProps.Option {\n  onClick: (event: React.MouseEvent<HTMLButtonElement>) => void;\n  onKeyDown: (event: React.KeyboardEvent<HTMLButtonElement>) => void;\n  isActive: boolean;\n  tabIndex: number;\n}\n\nexport const Segment = React.forwardRef(\n  (\n    {\n      disabled,\n      disabledReason,\n      text,\n      iconName,\n      iconAlt,\n      iconUrl,\n      iconSvg,\n      isActive,\n      onClick,\n      onKeyDown,\n      tabIndex,\n      id,\n    }: SegmentProps,\n    ref: React.Ref<HTMLButtonElement>\n  ) => {\n    const buttonRef = useRef<HTMLElement>(null);\n    const [showTooltip, setShowTooltip] = useState(false);\n    const isDisabledWithReason = disabled && !!disabledReason;\n\n    const { targetProps, descriptionEl } = useHiddenDescription(disabledReason);\n\n    return (\n      <button\n        className={clsx(styles.segment, { [styles.disabled]: !!disabled }, { [styles.selected]: isActive })}\n        ref={useMergeRefs(ref, buttonRef)}\n        onClick={onClick}\n        onKeyDown={onKeyDown}\n        disabled={disabled && !disabledReason}\n        aria-disabled={isDisabledWithReason ? 'true' : undefined}\n        type=\"button\"\n        tabIndex={tabIndex}\n        aria-pressed={isActive ? 'true' : 'false'}\n        aria-label={!text ? iconAlt : undefined}\n        onFocus={isDisabledWithReason ? () => setShowTooltip(true) : undefined}\n        onBlur={isDisabledWithReason ? () => setShowTooltip(false) : undefined}\n        onMouseEnter={isDisabledWithReason ? () => setShowTooltip(true) : undefined}\n        onMouseLeave={isDisabledWithReason ? () => setShowTooltip(false) : undefined}\n        {...(isDisabledWithReason ? targetProps : {})}\n        data-testid={id}\n      >\n        {(iconName || iconUrl || iconSvg) && (\n          <InternalIcon\n            className={clsx(styles.icon, text ? styles['with-text'] : styles['with-no-text'])}\n            name={iconName}\n            url={iconUrl}\n            svg={iconSvg}\n            alt={iconAlt}\n            variant={disabled ? 'disabled' : 'normal'}\n          />\n        )}\n        <span>{text}</span>\n\n        {isDisabledWithReason && (\n          <>\n            {descriptionEl}\n            {showTooltip && (\n              <Tooltip className={styles['disabled-reason-tooltip']} trackRef={buttonRef} value={disabledReason!} />\n            )}\n          </>\n        )}\n      </button>\n    );\n  }\n);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}