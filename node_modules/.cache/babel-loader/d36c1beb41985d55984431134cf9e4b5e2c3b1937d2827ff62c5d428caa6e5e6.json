{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useRef, useState } from 'react';\nimport { useReducedMotion } from '@cloudscape-design/component-toolkit/internal';\nimport Portal from '../internal/components/portal';\nimport { usePortalModeClasses } from '../internal/hooks/use-portal-mode-classes';\nimport Arrow from '../popover/arrow';\nimport PopoverBody from '../popover/body';\nimport PopoverContainer from '../popover/container';\nconst DEFAULT_OPEN_TIMEOUT_IN_MS = 120;\nexport default function Tooltip({\n  children,\n  content,\n  position = 'right',\n  className\n}) {\n  const ref = useRef(null);\n  const isReducedMotion = useReducedMotion(ref);\n  const {\n    open,\n    triggerProps\n  } = useTooltipOpen(isReducedMotion ? 0 : DEFAULT_OPEN_TIMEOUT_IN_MS);\n  const portalClasses = usePortalModeClasses(ref);\n  return React.createElement(\"span\", Object.assign({\n    ref: ref\n  }, triggerProps, {\n    className: className\n  }), children, open && React.createElement(Portal, null, React.createElement(\"span\", {\n    className: portalClasses\n  }, React.createElement(PopoverContainer, {\n    size: \"small\",\n    fixedWidth: false,\n    position: position,\n    trackRef: ref,\n    arrow: position => React.createElement(Arrow, {\n      position: position\n    }),\n    renderWithPortal: true,\n    zIndex: 7000\n  }, React.createElement(PopoverBody, {\n    dismissButton: false,\n    dismissAriaLabel: undefined,\n    header: null,\n    onDismiss: () => {},\n    overflowVisible: \"both\"\n  }, React.createElement(\"span\", {\n    \"data-testid\": \"button-dropdown-disabled-reason\",\n    role: \"tooltip\"\n  }, content))))));\n}\nfunction useTooltipOpen(timeout) {\n  const handle = useRef();\n  const [isOpen, setIsOpen] = useState(false);\n  const close = () => {\n    clearTimeout(handle.current);\n    setIsOpen(false);\n  };\n  const open = () => setIsOpen(true);\n  const openDelayed = () => {\n    handle.current = setTimeout(open, timeout);\n  };\n  const onKeyDown = e => {\n    if (isOpen && isEscape(e.key)) {\n      e.preventDefault();\n      e.stopPropagation();\n      close();\n    }\n  };\n  const onFocus = openDelayed;\n  const onBlur = close;\n  return {\n    open: isOpen,\n    triggerProps: {\n      onBlur,\n      onFocus,\n      onKeyDown\n    }\n  };\n}\nconst isEscape = key => key === 'Escape' || key === 'Esc';","map":{"version":3,"names":["React","useRef","useState","useReducedMotion","Portal","usePortalModeClasses","Arrow","PopoverBody","PopoverContainer","DEFAULT_OPEN_TIMEOUT_IN_MS","Tooltip","children","content","position","className","ref","isReducedMotion","open","triggerProps","useTooltipOpen","portalClasses","createElement","Object","assign","size","fixedWidth","trackRef","arrow","renderWithPortal","zIndex","dismissButton","dismissAriaLabel","undefined","header","onDismiss","overflowVisible","role","timeout","handle","isOpen","setIsOpen","close","clearTimeout","current","openDelayed","setTimeout","onKeyDown","e","isEscape","key","preventDefault","stopPropagation","onFocus","onBlur"],"sources":["/Users/sohailsajid/Desktop/threat-modeling-app/node_modules/src/button-dropdown/tooltip.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { KeyboardEventHandler, useRef, useState } from 'react';\n\nimport { useReducedMotion } from '@cloudscape-design/component-toolkit/internal';\n\nimport Portal from '../internal/components/portal';\nimport { usePortalModeClasses } from '../internal/hooks/use-portal-mode-classes';\nimport Arrow from '../popover/arrow';\nimport PopoverBody from '../popover/body';\nimport PopoverContainer from '../popover/container';\n\nexport interface TooltipProps {\n  children?: React.ReactNode;\n  content?: React.ReactNode;\n  position?: 'top' | 'right' | 'bottom' | 'left';\n  className?: string;\n}\n\nconst DEFAULT_OPEN_TIMEOUT_IN_MS = 120;\n\nexport default function Tooltip({ children, content, position = 'right', className }: TooltipProps) {\n  const ref = useRef<HTMLSpanElement | null>(null);\n  const isReducedMotion = useReducedMotion(ref);\n  const { open, triggerProps } = useTooltipOpen(isReducedMotion ? 0 : DEFAULT_OPEN_TIMEOUT_IN_MS);\n  const portalClasses = usePortalModeClasses(ref);\n\n  return (\n    <span ref={ref} {...triggerProps} className={className}>\n      {children}\n      {open && (\n        <Portal>\n          <span className={portalClasses}>\n            <PopoverContainer\n              size=\"small\"\n              fixedWidth={false}\n              position={position}\n              trackRef={ref}\n              arrow={position => <Arrow position={position} />}\n              renderWithPortal={true}\n              zIndex={7000}\n            >\n              <PopoverBody\n                dismissButton={false}\n                dismissAriaLabel={undefined}\n                header={null}\n                onDismiss={() => {}}\n                overflowVisible=\"both\"\n              >\n                <span data-testid=\"button-dropdown-disabled-reason\" role=\"tooltip\">\n                  {content}\n                </span>\n              </PopoverBody>\n            </PopoverContainer>\n          </span>\n        </Portal>\n      )}\n    </span>\n  );\n}\n\nfunction useTooltipOpen(timeout: number) {\n  const handle = useRef<number>();\n  const [isOpen, setIsOpen] = useState(false);\n\n  const close = () => {\n    clearTimeout(handle.current);\n    setIsOpen(false);\n  };\n  const open = () => setIsOpen(true);\n  const openDelayed = () => {\n    handle.current = setTimeout(open, timeout);\n  };\n  const onKeyDown: KeyboardEventHandler = e => {\n    if (isOpen && isEscape(e.key)) {\n      e.preventDefault();\n      e.stopPropagation();\n      close();\n    }\n  };\n\n  const onFocus = openDelayed;\n  const onBlur = close;\n\n  return {\n    open: isOpen,\n    triggerProps: {\n      onBlur,\n      onFocus,\n      onKeyDown,\n    },\n  };\n}\n\nconst isEscape = (key: string) => key === 'Escape' || key === 'Esc';\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}