{"ast":null,"code":"import { __rest } from \"tslib\";\nexport const flattenOptions = options => {\n  const parentMap = new Map();\n  const flatOptions = options.reduce((acc, option) => {\n    if ('options' in option) {\n      const {\n          options\n        } = option,\n        rest = __rest(option, [\"options\"]);\n      const parentDropdownOption = {\n        type: 'parent',\n        option\n      };\n      const allOptionsDisabled = options.every(option => option.disabled);\n      if (option.disabled || allOptionsDisabled) {\n        parentDropdownOption.disabled = true;\n      }\n      acc.push(parentDropdownOption);\n      options.forEach(child => {\n        const childDropdownOption = {\n          type: 'child',\n          option: child\n        };\n        if (rest.disabled || child.disabled) {\n          childDropdownOption.disabled = true;\n        }\n        acc.push(childDropdownOption);\n        parentMap.set(childDropdownOption, parentDropdownOption);\n      });\n    } else {\n      const dropdownOption = {\n        option\n      };\n      if (option.disabled) {\n        dropdownOption.disabled = true;\n      }\n      acc.push(dropdownOption);\n    }\n    return acc;\n  }, []);\n  return {\n    flatOptions,\n    parentMap\n  };\n};","map":{"version":3,"names":["flattenOptions","options","parentMap","Map","flatOptions","reduce","acc","option","rest","__rest","parentDropdownOption","type","allOptionsDisabled","every","disabled","push","forEach","child","childDropdownOption","set","dropdownOption"],"sources":["/Users/sohailsajid/Desktop/threat-modeling-app/node_modules/src/internal/components/option/utils/flatten-options.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { DropdownOption, OptionDefinition, OptionGroup } from '../interfaces';\n\nexport const flattenOptions = (options: ReadonlyArray<OptionDefinition | OptionGroup>) => {\n  const parentMap = new Map<DropdownOption, DropdownOption>();\n\n  const flatOptions = options.reduce<DropdownOption[]>((acc, option) => {\n    if ('options' in option) {\n      const { options, ...rest } = option;\n      const parentDropdownOption: DropdownOption = { type: 'parent', option };\n      const allOptionsDisabled = options.every(option => option.disabled);\n      if (option.disabled || allOptionsDisabled) {\n        parentDropdownOption.disabled = true;\n      }\n      acc.push(parentDropdownOption);\n      options.forEach(child => {\n        const childDropdownOption: DropdownOption = { type: 'child', option: child };\n        if (rest.disabled || child.disabled) {\n          childDropdownOption.disabled = true;\n        }\n        acc.push(childDropdownOption);\n        parentMap.set(childDropdownOption, parentDropdownOption);\n      });\n    } else {\n      const dropdownOption: DropdownOption = { option };\n      if (option.disabled) {\n        dropdownOption.disabled = true;\n      }\n      acc.push(dropdownOption);\n    }\n\n    return acc;\n  }, []);\n\n  return {\n    flatOptions,\n    parentMap,\n  };\n};\n"],"mappings":";AAIA,OAAO,MAAMA,cAAc,GAAIC,OAAsD,IAAI;EACvF,MAAMC,SAAS,GAAG,IAAIC,GAAG,EAAkC;EAE3D,MAAMC,WAAW,GAAGH,OAAO,CAACI,MAAM,CAAmB,CAACC,GAAG,EAAEC,MAAM,KAAI;IACnE,IAAI,SAAS,IAAIA,MAAM,EAAE;MACvB,MAAM;UAAEN;QAAO,IAAcM,MAAM;QAAfC,IAAI,GAAAC,MAAA,CAAKF,MAAM,EAA7B,WAAoB,CAAS;MACnC,MAAMG,oBAAoB,GAAmB;QAAEC,IAAI,EAAE,QAAQ;QAAEJ;MAAM,CAAE;MACvE,MAAMK,kBAAkB,GAAGX,OAAO,CAACY,KAAK,CAACN,MAAM,IAAIA,MAAM,CAACO,QAAQ,CAAC;MACnE,IAAIP,MAAM,CAACO,QAAQ,IAAIF,kBAAkB,EAAE;QACzCF,oBAAoB,CAACI,QAAQ,GAAG,IAAI;;MAEtCR,GAAG,CAACS,IAAI,CAACL,oBAAoB,CAAC;MAC9BT,OAAO,CAACe,OAAO,CAACC,KAAK,IAAG;QACtB,MAAMC,mBAAmB,GAAmB;UAAEP,IAAI,EAAE,OAAO;UAAEJ,MAAM,EAAEU;QAAK,CAAE;QAC5E,IAAIT,IAAI,CAACM,QAAQ,IAAIG,KAAK,CAACH,QAAQ,EAAE;UACnCI,mBAAmB,CAACJ,QAAQ,GAAG,IAAI;;QAErCR,GAAG,CAACS,IAAI,CAACG,mBAAmB,CAAC;QAC7BhB,SAAS,CAACiB,GAAG,CAACD,mBAAmB,EAAER,oBAAoB,CAAC;MAC1D,CAAC,CAAC;KACH,MAAM;MACL,MAAMU,cAAc,GAAmB;QAAEb;MAAM,CAAE;MACjD,IAAIA,MAAM,CAACO,QAAQ,EAAE;QACnBM,cAAc,CAACN,QAAQ,GAAG,IAAI;;MAEhCR,GAAG,CAACS,IAAI,CAACK,cAAc,CAAC;;IAG1B,OAAOd,GAAG;EACZ,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO;IACLF,WAAW;IACXF;GACD;AACH,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}