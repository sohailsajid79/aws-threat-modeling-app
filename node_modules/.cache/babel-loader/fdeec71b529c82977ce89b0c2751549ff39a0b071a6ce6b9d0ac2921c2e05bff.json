{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useEffect, useState } from 'react';\nimport { findUpUntil } from '../../dom';\nimport { createSingletonHandler } from '../singleton-handler';\nimport { useStableCallback } from '../stable-callback';\nimport { isDevelopment } from '../is-development';\nimport { warnOnce } from '../logging';\nimport { awsuiVisualRefreshFlag, getGlobal } from '../global-flags';\nexport function isMotionDisabled(element) {\n  var _a, _b;\n  return !!findUpUntil(element, node => node.classList.contains('awsui-motion-disabled')) || ((_b = (_a = window.matchMedia) === null || _a === void 0 ? void 0 : _a.call(window, '(prefers-reduced-motion: reduce)').matches) !== null && _b !== void 0 ? _b : false);\n}\n// Note that this hook doesn't take into consideration @media print (unlike the dark mode CSS),\n// due to challenges with cross-browser implementations of media/print state change listeners.\n// This means that components using this hook will render in dark mode even when printing.\nexport function useCurrentMode(elementRef) {\n  const [value, setValue] = useState('light');\n  useMutationObserver(elementRef, node => {\n    const darkModeParent = findUpUntil(node, node => node.classList.contains('awsui-polaris-dark-mode') || node.classList.contains('awsui-dark-mode'));\n    setValue(darkModeParent ? 'dark' : 'light');\n  });\n  return value;\n}\nexport function useDensityMode(elementRef) {\n  const [value, setValue] = useState('comfortable');\n  useMutationObserver(elementRef, node => {\n    const compactModeParent = findUpUntil(node, node => node.classList.contains('awsui-polaris-compact-mode') || node.classList.contains('awsui-compact-mode'));\n    setValue(compactModeParent ? 'compact' : 'comfortable');\n  });\n  return value;\n}\nexport function useReducedMotion(elementRef) {\n  const [value, setValue] = useState(false);\n  useMutationObserver(elementRef, node => {\n    setValue(isMotionDisabled(node));\n  });\n  return value;\n}\nconst useMutationSingleton = createSingletonHandler(handler => {\n  const observer = new MutationObserver(() => handler());\n  observer.observe(document.body, {\n    attributes: true,\n    subtree: true\n  });\n  return () => observer.disconnect();\n});\nfunction useMutationObserver(elementRef, onChange) {\n  const handler = useStableCallback(() => {\n    if (elementRef.current) {\n      onChange(elementRef.current);\n    }\n  });\n  useMutationSingleton(handler);\n  useEffect(() => {\n    handler();\n  }, [handler]);\n}\n// We expect VR is to be set only once and before the application is rendered.\nlet visualRefreshState = undefined;\n// for testing\nexport function clearVisualRefreshState() {\n  visualRefreshState = undefined;\n}\nfunction detectVisualRefreshClassName() {\n  return typeof document !== 'undefined' && !!document.querySelector('.awsui-visual-refresh');\n}\nfunction detectVisualRefreshFlag() {\n  var _a, _b;\n  const global = getGlobal();\n  return (_b = (_a = global === null || global === void 0 ? void 0 : global[awsuiVisualRefreshFlag]) === null || _a === void 0 ? void 0 : _a.call(global)) !== null && _b !== void 0 ? _b : false;\n}\nexport function useRuntimeVisualRefresh() {\n  if (visualRefreshState === undefined) {\n    visualRefreshState = detectVisualRefreshClassName();\n    if (!visualRefreshState) {\n      if (detectVisualRefreshFlag()) {\n        visualRefreshState = true;\n        if (typeof document !== 'undefined') {\n          document.body.classList.add('awsui-visual-refresh');\n        }\n      }\n    }\n  }\n  if (isDevelopment) {\n    const newVisualRefreshState = detectVisualRefreshClassName() || detectVisualRefreshFlag();\n    if (newVisualRefreshState !== visualRefreshState) {\n      warnOnce('Visual Refresh', 'Dynamic visual refresh change detected. This is not supported. ' + 'Make sure `awsui-visual-refresh` is attached to the `<body>` element before initial React render');\n    }\n  }\n  return visualRefreshState;\n}","map":{"version":3,"names":["useEffect","useState","findUpUntil","createSingletonHandler","useStableCallback","isDevelopment","warnOnce","awsuiVisualRefreshFlag","getGlobal","isMotionDisabled","element","_a","_b","node","classList","contains","window","matchMedia","call","matches","useCurrentMode","elementRef","value","setValue","useMutationObserver","darkModeParent","useDensityMode","compactModeParent","useReducedMotion","useMutationSingleton","handler","observer","MutationObserver","observe","document","body","attributes","subtree","disconnect","onChange","current","visualRefreshState","undefined","clearVisualRefreshState","detectVisualRefreshClassName","querySelector","detectVisualRefreshFlag","global","useRuntimeVisualRefresh","add","newVisualRefreshState"],"sources":["/Users/sohailsajid/Desktop/threat-modeling-app/node_modules/@cloudscape-design/component-toolkit/internal/visual-mode/index.js"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useEffect, useState } from 'react';\nimport { findUpUntil } from '../../dom';\nimport { createSingletonHandler } from '../singleton-handler';\nimport { useStableCallback } from '../stable-callback';\nimport { isDevelopment } from '../is-development';\nimport { warnOnce } from '../logging';\nimport { awsuiVisualRefreshFlag, getGlobal } from '../global-flags';\nexport function isMotionDisabled(element) {\n    var _a, _b;\n    return (!!findUpUntil(element, node => node.classList.contains('awsui-motion-disabled')) ||\n        ((_b = (_a = window.matchMedia) === null || _a === void 0 ? void 0 : _a.call(window, '(prefers-reduced-motion: reduce)').matches) !== null && _b !== void 0 ? _b : false));\n}\n// Note that this hook doesn't take into consideration @media print (unlike the dark mode CSS),\n// due to challenges with cross-browser implementations of media/print state change listeners.\n// This means that components using this hook will render in dark mode even when printing.\nexport function useCurrentMode(elementRef) {\n    const [value, setValue] = useState('light');\n    useMutationObserver(elementRef, node => {\n        const darkModeParent = findUpUntil(node, node => node.classList.contains('awsui-polaris-dark-mode') || node.classList.contains('awsui-dark-mode'));\n        setValue(darkModeParent ? 'dark' : 'light');\n    });\n    return value;\n}\nexport function useDensityMode(elementRef) {\n    const [value, setValue] = useState('comfortable');\n    useMutationObserver(elementRef, node => {\n        const compactModeParent = findUpUntil(node, node => node.classList.contains('awsui-polaris-compact-mode') || node.classList.contains('awsui-compact-mode'));\n        setValue(compactModeParent ? 'compact' : 'comfortable');\n    });\n    return value;\n}\nexport function useReducedMotion(elementRef) {\n    const [value, setValue] = useState(false);\n    useMutationObserver(elementRef, node => {\n        setValue(isMotionDisabled(node));\n    });\n    return value;\n}\nconst useMutationSingleton = createSingletonHandler(handler => {\n    const observer = new MutationObserver(() => handler());\n    observer.observe(document.body, { attributes: true, subtree: true });\n    return () => observer.disconnect();\n});\nfunction useMutationObserver(elementRef, onChange) {\n    const handler = useStableCallback(() => {\n        if (elementRef.current) {\n            onChange(elementRef.current);\n        }\n    });\n    useMutationSingleton(handler);\n    useEffect(() => {\n        handler();\n    }, [handler]);\n}\n// We expect VR is to be set only once and before the application is rendered.\nlet visualRefreshState = undefined;\n// for testing\nexport function clearVisualRefreshState() {\n    visualRefreshState = undefined;\n}\nfunction detectVisualRefreshClassName() {\n    return typeof document !== 'undefined' && !!document.querySelector('.awsui-visual-refresh');\n}\nfunction detectVisualRefreshFlag() {\n    var _a, _b;\n    const global = getGlobal();\n    return (_b = (_a = global === null || global === void 0 ? void 0 : global[awsuiVisualRefreshFlag]) === null || _a === void 0 ? void 0 : _a.call(global)) !== null && _b !== void 0 ? _b : false;\n}\nexport function useRuntimeVisualRefresh() {\n    if (visualRefreshState === undefined) {\n        visualRefreshState = detectVisualRefreshClassName();\n        if (!visualRefreshState) {\n            if (detectVisualRefreshFlag()) {\n                visualRefreshState = true;\n                if (typeof document !== 'undefined') {\n                    document.body.classList.add('awsui-visual-refresh');\n                }\n            }\n        }\n    }\n    if (isDevelopment) {\n        const newVisualRefreshState = detectVisualRefreshClassName() || detectVisualRefreshFlag();\n        if (newVisualRefreshState !== visualRefreshState) {\n            warnOnce('Visual Refresh', 'Dynamic visual refresh change detected. This is not supported. ' +\n                'Make sure `awsui-visual-refresh` is attached to the `<body>` element before initial React render');\n        }\n    }\n    return visualRefreshState;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}