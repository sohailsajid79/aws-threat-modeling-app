{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport { useUniqueId } from '../internal/hooks/use-unique-id';\nimport InternalSpaceBetween from '../space-between/internal';\nimport InternalToggle from '../toggle/internal';\nimport { getAnalyticsInnerContextAttribute } from './analytics-metadata/utils';\nimport styles from './styles.css.js';\nconst isVisible = (id, visibleIds) => visibleIds.indexOf(id) !== -1;\nconst className = suffix => ({\n  className: styles[`visible-content-${suffix}`]\n});\nexport default function VisibleContentPreference({\n  title,\n  options,\n  value = [],\n  onChange\n}) {\n  const idPrefix = useUniqueId('visible-content');\n  const flatOptionsIds = options.reduce((ids, group) => [...ids, ...group.options.reduce((groupIds, option) => [...groupIds, option.id], [])], []);\n  const onToggle = id => {\n    if (!isVisible(id, value)) {\n      onChange([...value, id].sort((firstId, secondId) => flatOptionsIds.indexOf(firstId) - flatOptionsIds.indexOf(secondId)));\n    } else {\n      onChange(value.filter(currentId => currentId !== id));\n    }\n  };\n  const selectionOption = (option, optionGroupIndex, optionIndex) => {\n    const labelId = `${idPrefix}-${optionGroupIndex}-${optionIndex}`;\n    return React.createElement(\"div\", Object.assign({\n      key: optionIndex\n    }, className('option')), React.createElement(\"label\", Object.assign({}, className('option-label'), {\n      htmlFor: labelId\n    }), option.label), React.createElement(\"div\", Object.assign({}, className('toggle')), React.createElement(InternalToggle, {\n      checked: isVisible(option.id, value),\n      onChange: () => onToggle(option.id),\n      disabled: option.editable === false,\n      controlId: labelId\n    })));\n  };\n  const outerGroupLabelId = `${idPrefix}-outer`;\n  return React.createElement(\"div\", Object.assign({\n    className: styles['visible-content']\n  }, getAnalyticsInnerContextAttribute('visibleContent')), React.createElement(\"h3\", Object.assign({}, className('title'), {\n    id: outerGroupLabelId\n  }), title), React.createElement(InternalSpaceBetween, Object.assign({}, className('groups'), {\n    size: \"xs\"\n  }), options.map((optionGroup, optionGroupIndex) => {\n    const groupLabelId = `${idPrefix}-${optionGroupIndex}`;\n    return React.createElement(\"div\", Object.assign({\n      key: optionGroupIndex\n    }, className('group'), {\n      role: \"group\",\n      \"aria-labelledby\": `${outerGroupLabelId} ${groupLabelId}`\n    }), React.createElement(\"div\", Object.assign({}, className('group-label'), {\n      id: groupLabelId\n    }), optionGroup.label), React.createElement(\"div\", null, optionGroup.options.map((option, optionIndex) => selectionOption(option, optionGroupIndex, optionIndex))));\n  })));\n}","map":{"version":3,"names":["React","useUniqueId","InternalSpaceBetween","InternalToggle","getAnalyticsInnerContextAttribute","styles","isVisible","id","visibleIds","indexOf","className","suffix","VisibleContentPreference","title","options","value","onChange","idPrefix","flatOptionsIds","reduce","ids","group","groupIds","option","onToggle","sort","firstId","secondId","filter","currentId","selectionOption","optionGroupIndex","optionIndex","labelId","createElement","Object","assign","key","htmlFor","label","checked","disabled","editable","controlId","outerGroupLabelId","size","map","optionGroup","groupLabelId","role"],"sources":["/Users/sohailsajid/Desktop/threat-modeling-app/node_modules/src/collection-preferences/visible-content.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\n\nimport { useUniqueId } from '../internal/hooks/use-unique-id';\nimport InternalSpaceBetween from '../space-between/internal';\nimport InternalToggle from '../toggle/internal';\nimport { getAnalyticsInnerContextAttribute } from './analytics-metadata/utils';\nimport { CollectionPreferencesProps } from './interfaces';\n\nimport styles from './styles.css.js';\n\nconst isVisible = (id: string, visibleIds: ReadonlyArray<string>) => visibleIds.indexOf(id) !== -1;\n\ninterface ClassNameProps {\n  className: string;\n}\nconst className = (suffix: string): ClassNameProps => ({\n  className: styles[`visible-content-${suffix}`],\n});\n\ninterface VisibleContentPreferenceProps extends CollectionPreferencesProps.VisibleContentPreference {\n  onChange: (value: ReadonlyArray<string>) => void;\n  value?: ReadonlyArray<string>;\n}\n\nexport default function VisibleContentPreference({\n  title,\n  options,\n  value = [],\n  onChange,\n}: VisibleContentPreferenceProps) {\n  const idPrefix = useUniqueId('visible-content');\n\n  const flatOptionsIds = options.reduce<string[]>(\n    (ids, group) => [...ids, ...group.options.reduce<string[]>((groupIds, option) => [...groupIds, option.id], [])],\n    []\n  );\n\n  const onToggle = (id: string) => {\n    if (!isVisible(id, value)) {\n      onChange(\n        [...value, id].sort((firstId, secondId) => flatOptionsIds.indexOf(firstId) - flatOptionsIds.indexOf(secondId))\n      );\n    } else {\n      onChange(value.filter(currentId => currentId !== id));\n    }\n  };\n\n  const selectionOption = (\n    option: CollectionPreferencesProps.VisibleContentOption,\n    optionGroupIndex: number,\n    optionIndex: number\n  ) => {\n    const labelId = `${idPrefix}-${optionGroupIndex}-${optionIndex}`;\n    return (\n      <div key={optionIndex} {...className('option')}>\n        <label {...className('option-label')} htmlFor={labelId}>\n          {option.label}\n        </label>\n        <div {...className('toggle')}>\n          <InternalToggle\n            checked={isVisible(option.id, value)}\n            onChange={() => onToggle(option.id)}\n            disabled={option.editable === false}\n            controlId={labelId}\n          />\n        </div>\n      </div>\n    );\n  };\n\n  const outerGroupLabelId = `${idPrefix}-outer`;\n  return (\n    <div className={styles['visible-content']} {...getAnalyticsInnerContextAttribute('visibleContent')}>\n      <h3 {...className('title')} id={outerGroupLabelId}>\n        {title}\n      </h3>\n      <InternalSpaceBetween {...className('groups')} size=\"xs\">\n        {options.map((optionGroup, optionGroupIndex) => {\n          const groupLabelId = `${idPrefix}-${optionGroupIndex}`;\n          return (\n            <div\n              key={optionGroupIndex}\n              {...className('group')}\n              role=\"group\"\n              aria-labelledby={`${outerGroupLabelId} ${groupLabelId}`}\n            >\n              <div {...className('group-label')} id={groupLabelId}>\n                {optionGroup.label}\n              </div>\n              <div>\n                {optionGroup.options.map((option, optionIndex) =>\n                  selectionOption(option, optionGroupIndex, optionIndex)\n                )}\n              </div>\n            </div>\n          );\n        })}\n      </InternalSpaceBetween>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}