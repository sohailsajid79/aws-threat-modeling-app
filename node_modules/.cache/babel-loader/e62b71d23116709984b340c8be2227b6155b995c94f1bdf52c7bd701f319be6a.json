{"ast":null,"code":"import{memo}from'react';import{getBezierPath,BaseEdge,useStore,EdgeLabelRenderer}from'reactflow';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";export const getSpecialPath=(_ref,offset)=>{let{sourceX,sourceY,targetX,targetY}=_ref;const centerX=(sourceX+targetX)/2;const centerY=(sourceY+targetY)/2;return[`M ${sourceX} ${sourceY} Q ${centerX} ${centerY+offset} ${targetX} ${targetY}`,centerX,centerY+offset];};export default/*#__PURE__*/memo(_ref2=>{let{id,source,target,sourceX,sourceY,targetX,targetY,sourcePosition,targetPosition,selected,data,markerEnd}=_ref2;const isBiDirectionEdge=useStore(s=>{const edgeExists=s.edges.some(e=>e.source===target&&e.target===source||e.target===source&&e.source===target);return edgeExists;});const edgePathParams={sourceX,sourceY,sourcePosition,targetX,targetY,targetPosition};let path='';let labelX=0;let labelY=0;if(isBiDirectionEdge){[path,labelX,labelY]=getSpecialPath(edgePathParams,sourceX<targetX?25:-25);}else{[path,labelX,labelY]=getBezierPath(edgePathParams);}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(BaseEdge,{id:id,path:path,markerEnd:markerEnd,style:{strokeWidth:2,zIndex:1,stroke:selected?'#FF0072':'#000'}}),/*#__PURE__*/_jsx(EdgeLabelRenderer,{children:/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',transform:`translate(-50%, -50%) translate(${labelX}px,${labelY}px)`,background:'#ffcc00',padding:10,borderRadius:5,fontSize:12,fontWeight:700,zIndex:2},className:\"nodrag nopan\",children:data.name})})]});});","map":{"version":3,"names":["memo","getBezierPath","BaseEdge","useStore","EdgeLabelRenderer","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","getSpecialPath","_ref","offset","sourceX","sourceY","targetX","targetY","centerX","centerY","_ref2","id","source","target","sourcePosition","targetPosition","selected","data","markerEnd","isBiDirectionEdge","s","edgeExists","edges","some","e","edgePathParams","path","labelX","labelY","children","style","strokeWidth","zIndex","stroke","position","transform","background","padding","borderRadius","fontSize","fontWeight","className","name"],"sources":["/Users/sohailsajid/Desktop/threat-modeling-app/src/components/generic/Flow/Edges/BiDirectionalEdge.tsx"],"sourcesContent":["import { memo } from 'react';\nimport { getBezierPath, BaseEdge, useStore, EdgeProps, ReactFlowState, EdgeLabelRenderer } from 'reactflow';\n\nexport type GetSpecialPathParams = {\n  sourceX: number;\n  sourceY: number;\n  targetX: number;\n  targetY: number;\n};\n\nexport const getSpecialPath = (\n  { sourceX, sourceY, targetX, targetY }: GetSpecialPathParams,\n  offset: number,\n): [path: string, labelX: number, labelY: number] => {\n  const centerX = (sourceX + targetX) / 2;\n  const centerY = (sourceY + targetY) / 2;\n\n  return [`M ${sourceX} ${sourceY} Q ${centerX} ${centerY + offset} ${targetX} ${targetY}`, centerX, centerY + offset];\n};\n\nexport default memo(({\n  id,\n  source,\n  target,\n  sourceX,\n  sourceY,\n  targetX,\n  targetY,\n  sourcePosition,\n  targetPosition,\n  selected,\n  data,\n  markerEnd,\n}: EdgeProps) => {\n  const isBiDirectionEdge = useStore((s: ReactFlowState) => {\n    const edgeExists = s.edges.some(\n      (e) =>\n        (e.source === target && e.target === source) || (e.target === source && e.source === target),\n    );\n\n    return edgeExists;\n  });\n\n  const edgePathParams = {\n    sourceX,\n    sourceY,\n    sourcePosition,\n    targetX,\n    targetY,\n    targetPosition,\n  };\n\n  let path = '';\n  let labelX: number = 0;\n  let labelY: number = 0;\n\n  if (isBiDirectionEdge) {\n    [path, labelX, labelY] = getSpecialPath(edgePathParams, sourceX < targetX ? 25 : -25);\n  } else {\n    [path, labelX, labelY] = getBezierPath(edgePathParams);\n  }\n\n  return (\n    <>\n      <BaseEdge id={id} path={path} markerEnd={markerEnd} style={{\n        strokeWidth: 2,\n        zIndex: 1,\n        stroke: selected ? '#FF0072' : '#000',\n      }} />\n      <EdgeLabelRenderer>\n        <div\n          style={{\n            position: 'absolute',\n            transform: `translate(-50%, -50%) translate(${labelX}px,${labelY}px)`,\n            background: '#ffcc00',\n            padding: 10,\n            borderRadius: 5,\n            fontSize: 12,\n            fontWeight: 700,\n            zIndex: 2,\n          }}\n          className=\"nodrag nopan\"\n        >\n          {data.name}\n        </div>\n      </EdgeLabelRenderer>\n    </>);\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}