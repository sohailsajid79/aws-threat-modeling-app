{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect, useRef } from 'react';\nimport { getBaseProps } from '../internal/base-component';\nimport OptionsList from '../internal/components/options-list';\nimport { scrollElementIntoView } from '../internal/utils/scrollable-containers';\nimport AutosuggestOption from './autosuggest-option';\nimport styles from './styles.css.js';\nexport const getOptionProps = (index, item, filteredItems, highlightedA11yProps, highlightedOption, hasDropdownStatus) => {\n  const nativeAttributes = item === highlightedOption ? highlightedA11yProps : {};\n  const baseOptionProps = getBaseProps(nativeAttributes);\n  const isLastItem = index === filteredItems.length - 1;\n  const isNotEnteredTextItem = filteredItems.length > 1;\n  const padBottom = !hasDropdownStatus && isNotEnteredTextItem && isLastItem;\n  return Object.assign({\n    nativeAttributes,\n    padBottom\n  }, baseOptionProps);\n};\nconst PlainList = _ref => {\n  let {\n    autosuggestItemsState,\n    handleLoadMore,\n    menuProps,\n    highlightedA11yProps,\n    hasDropdownStatus,\n    highlightText,\n    listBottom,\n    screenReaderContent\n  } = _ref;\n  const listRef = useRef(null);\n  useEffect(() => {\n    var _a;\n    const item = (_a = listRef.current) === null || _a === void 0 ? void 0 : _a.querySelector(`[data-mouse-target=\"${autosuggestItemsState.highlightedIndex}\"]`);\n    if (autosuggestItemsState.highlightType.moveFocus && item) {\n      scrollElementIntoView(item);\n    }\n  }, [autosuggestItemsState.highlightType, autosuggestItemsState.highlightedIndex]);\n  return React.createElement(OptionsList, Object.assign({}, menuProps, {\n    onLoadMore: handleLoadMore,\n    open: true,\n    ref: listRef\n  }), autosuggestItemsState.items.map((item, index) => {\n    const optionProps = getOptionProps(index, item, autosuggestItemsState.items, highlightedA11yProps, autosuggestItemsState.highlightedOption, hasDropdownStatus);\n    return React.createElement(AutosuggestOption, Object.assign({\n      highlightText: highlightText,\n      option: item,\n      highlighted: item === autosuggestItemsState.highlightedOption,\n      current: item.value === highlightText,\n      key: index,\n      \"data-mouse-target\": index,\n      screenReaderContent: screenReaderContent,\n      highlightType: autosuggestItemsState.highlightType\n    }, optionProps));\n  }), listBottom ? React.createElement(\"li\", {\n    role: \"option\",\n    className: styles['list-bottom']\n  }, listBottom) : null);\n};\nexport default PlainList;","map":{"version":3,"names":["React","useEffect","useRef","getBaseProps","OptionsList","scrollElementIntoView","AutosuggestOption","styles","getOptionProps","index","item","filteredItems","highlightedA11yProps","highlightedOption","hasDropdownStatus","nativeAttributes","baseOptionProps","isLastItem","length","isNotEnteredTextItem","padBottom","Object","assign","PlainList","_ref","autosuggestItemsState","handleLoadMore","menuProps","highlightText","listBottom","screenReaderContent","listRef","_a","current","querySelector","highlightedIndex","highlightType","moveFocus","createElement","onLoadMore","open","ref","items","map","optionProps","option","highlighted","value","key","role","className"],"sources":["/Users/sohailsajid/Desktop/threat-modeling-app/node_modules/src/autosuggest/plain-list.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect, useRef } from 'react';\n\nimport { getBaseProps } from '../internal/base-component';\nimport OptionsList, { OptionsListProps } from '../internal/components/options-list';\nimport { scrollElementIntoView } from '../internal/utils/scrollable-containers';\nimport AutosuggestOption from './autosuggest-option';\nimport { AutosuggestItem } from './interfaces';\nimport { AutosuggestItemsState } from './options-controller';\n\nimport styles from './styles.css.js';\n\nexport interface ListProps {\n  autosuggestItemsState: AutosuggestItemsState;\n  menuProps: Omit<OptionsListProps, 'children'>;\n  handleLoadMore: () => void;\n  highlightedA11yProps: Record<string, string | number | boolean>;\n  hasDropdownStatus?: boolean;\n  highlightText: string;\n  listBottom?: React.ReactNode;\n  screenReaderContent?: string;\n}\n\nexport const getOptionProps = (\n  index: number,\n  item: AutosuggestItem,\n  filteredItems: readonly AutosuggestItem[],\n  highlightedA11yProps: ListProps['highlightedA11yProps'],\n  highlightedOption?: AutosuggestItem,\n  hasDropdownStatus?: boolean\n) => {\n  const nativeAttributes = item === highlightedOption ? highlightedA11yProps : {};\n  const baseOptionProps = getBaseProps(nativeAttributes);\n  const isLastItem = index === filteredItems.length - 1;\n  const isNotEnteredTextItem = filteredItems.length > 1;\n  const padBottom = !hasDropdownStatus && isNotEnteredTextItem && isLastItem;\n\n  return { nativeAttributes, padBottom, ...baseOptionProps };\n};\n\nconst PlainList = ({\n  autosuggestItemsState,\n  handleLoadMore,\n  menuProps,\n  highlightedA11yProps,\n  hasDropdownStatus,\n  highlightText,\n  listBottom,\n  screenReaderContent,\n}: ListProps) => {\n  const listRef = useRef<HTMLUListElement>(null);\n  useEffect(() => {\n    const item = listRef.current?.querySelector<HTMLElement>(\n      `[data-mouse-target=\"${autosuggestItemsState.highlightedIndex}\"]`\n    );\n    if (autosuggestItemsState.highlightType.moveFocus && item) {\n      scrollElementIntoView(item);\n    }\n  }, [autosuggestItemsState.highlightType, autosuggestItemsState.highlightedIndex]);\n\n  return (\n    <OptionsList {...menuProps} onLoadMore={handleLoadMore} open={true} ref={listRef}>\n      {autosuggestItemsState.items.map((item, index) => {\n        const optionProps = getOptionProps(\n          index,\n          item,\n          autosuggestItemsState.items,\n          highlightedA11yProps,\n          autosuggestItemsState.highlightedOption,\n          hasDropdownStatus\n        );\n\n        return (\n          <AutosuggestOption\n            highlightText={highlightText}\n            option={item}\n            highlighted={item === autosuggestItemsState.highlightedOption}\n            current={item.value === highlightText}\n            key={index}\n            data-mouse-target={index}\n            screenReaderContent={screenReaderContent}\n            highlightType={autosuggestItemsState.highlightType}\n            {...optionProps}\n          />\n        );\n      })}\n      {listBottom ? (\n        <li role=\"option\" className={styles['list-bottom']}>\n          {listBottom}\n        </li>\n      ) : null}\n    </OptionsList>\n  );\n};\n\nexport default PlainList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}