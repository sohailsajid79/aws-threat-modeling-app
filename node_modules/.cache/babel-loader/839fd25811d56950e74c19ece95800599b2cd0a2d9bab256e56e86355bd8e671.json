{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect, useRef, useState } from 'react';\nimport { useStableCallback } from '@cloudscape-design/component-toolkit/internal';\nimport styles from './styles.css.js';\nexport function ResizableBox(_ref) {\n  let {\n    children,\n    height,\n    minHeight,\n    onResize\n  } = _ref;\n  const [dragOffset, setDragOffset] = useState(null);\n  const onResizeStable = useStableCallback(onResize);\n  const containerRef = useRef(null);\n  const onMouseDown = event => {\n    if (event.button !== 0 || !containerRef.current) {\n      return;\n    }\n    const containerBottom = containerRef.current.getBoundingClientRect().bottom;\n    setDragOffset(containerBottom - event.clientY);\n  };\n  useEffect(() => {\n    if (dragOffset === null || !containerRef.current) {\n      return;\n    }\n    const container = containerRef.current;\n    const onMouseMove = event => {\n      const {\n        top\n      } = container.getBoundingClientRect();\n      const cursor = event.clientY;\n      onResizeStable(Math.max(cursor + dragOffset - top, minHeight));\n    };\n    const onMouseUp = () => {\n      setDragOffset(null);\n    };\n    document.body.classList.add(styles['resize-active']);\n    document.addEventListener('mousemove', onMouseMove);\n    document.addEventListener('mouseup', onMouseUp);\n    return () => {\n      document.removeEventListener('mousemove', onMouseMove);\n      document.removeEventListener('mouseup', onMouseUp);\n      document.body.classList.remove(styles['resize-active']);\n    };\n  }, [dragOffset, minHeight, onResizeStable]);\n  return React.createElement(\"div\", {\n    ref: containerRef,\n    className: styles['resizable-box'],\n    style: {\n      height\n    }\n  }, children, React.createElement(\"span\", {\n    className: styles['resizable-box-handle'],\n    onMouseDown: onMouseDown\n  }));\n}","map":{"version":3,"names":["React","useEffect","useRef","useState","useStableCallback","styles","ResizableBox","_ref","children","height","minHeight","onResize","dragOffset","setDragOffset","onResizeStable","containerRef","onMouseDown","event","button","current","containerBottom","getBoundingClientRect","bottom","clientY","container","onMouseMove","top","cursor","Math","max","onMouseUp","document","body","classList","add","addEventListener","removeEventListener","remove","createElement","ref","className","style"],"sources":["/Users/sohailsajid/Desktop/threat-modeling-app/node_modules/src/code-editor/resizable-box/index.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect, useRef, useState } from 'react';\n\nimport { useStableCallback } from '@cloudscape-design/component-toolkit/internal';\n\nimport styles from './styles.css.js';\n\nexport interface ResizeBoxProps {\n  children: React.ReactNode;\n  height: number;\n  minHeight: number;\n  onResize: (newHeight: number) => void;\n}\n\nexport function ResizableBox({ children, height, minHeight, onResize }: ResizeBoxProps) {\n  const [dragOffset, setDragOffset] = useState<null | number>(null);\n  const onResizeStable = useStableCallback(onResize);\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  const onMouseDown: React.MouseEventHandler = event => {\n    if (event.button !== 0 || !containerRef.current) {\n      return;\n    }\n    const containerBottom = containerRef.current.getBoundingClientRect().bottom;\n    setDragOffset(containerBottom - event.clientY);\n  };\n\n  useEffect(() => {\n    if (dragOffset === null || !containerRef.current) {\n      return;\n    }\n    const container = containerRef.current;\n\n    const onMouseMove = (event: MouseEvent) => {\n      const { top } = container.getBoundingClientRect();\n      const cursor = event.clientY;\n      onResizeStable(Math.max(cursor + dragOffset - top, minHeight));\n    };\n    const onMouseUp = () => {\n      setDragOffset(null);\n    };\n    document.body.classList.add(styles['resize-active']);\n    document.addEventListener('mousemove', onMouseMove);\n    document.addEventListener('mouseup', onMouseUp);\n    return () => {\n      document.removeEventListener('mousemove', onMouseMove);\n      document.removeEventListener('mouseup', onMouseUp);\n      document.body.classList.remove(styles['resize-active']);\n    };\n  }, [dragOffset, minHeight, onResizeStable]);\n\n  return (\n    <div ref={containerRef} className={styles['resizable-box']} style={{ height }}>\n      {children}\n      <span className={styles['resizable-box-handle']} onMouseDown={onMouseDown} />\n    </div>\n  );\n}\n"],"mappings":"AAAA;AACA;AACA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAE1D,SAASC,iBAAiB,QAAQ,+CAA+C;AAEjF,OAAOC,MAAM,MAAM,iBAAiB;AASpC,OAAM,SAAUC,YAAYA,CAAAC,IAAA,EAA0D;EAAA,IAAzD;IAAEC,QAAQ;IAAEC,MAAM;IAAEC,SAAS;IAAEC;EAAQ,CAAkB,GAAAJ,IAAA;EACpF,MAAM,CAACK,UAAU,EAAEC,aAAa,CAAC,GAAGV,QAAQ,CAAgB,IAAI,CAAC;EACjE,MAAMW,cAAc,GAAGV,iBAAiB,CAACO,QAAQ,CAAC;EAClD,MAAMI,YAAY,GAAGb,MAAM,CAAiB,IAAI,CAAC;EAEjD,MAAMc,WAAW,GAA4BC,KAAK,IAAG;IACnD,IAAIA,KAAK,CAACC,MAAM,KAAK,CAAC,IAAI,CAACH,YAAY,CAACI,OAAO,EAAE;MAC/C;;IAEF,MAAMC,eAAe,GAAGL,YAAY,CAACI,OAAO,CAACE,qBAAqB,EAAE,CAACC,MAAM;IAC3ET,aAAa,CAACO,eAAe,GAAGH,KAAK,CAACM,OAAO,CAAC;EAChD,CAAC;EAEDtB,SAAS,CAAC,MAAK;IACb,IAAIW,UAAU,KAAK,IAAI,IAAI,CAACG,YAAY,CAACI,OAAO,EAAE;MAChD;;IAEF,MAAMK,SAAS,GAAGT,YAAY,CAACI,OAAO;IAEtC,MAAMM,WAAW,GAAIR,KAAiB,IAAI;MACxC,MAAM;QAAES;MAAG,CAAE,GAAGF,SAAS,CAACH,qBAAqB,EAAE;MACjD,MAAMM,MAAM,GAAGV,KAAK,CAACM,OAAO;MAC5BT,cAAc,CAACc,IAAI,CAACC,GAAG,CAACF,MAAM,GAAGf,UAAU,GAAGc,GAAG,EAAEhB,SAAS,CAAC,CAAC;IAChE,CAAC;IACD,MAAMoB,SAAS,GAAGA,CAAA,KAAK;MACrBjB,aAAa,CAAC,IAAI,CAAC;IACrB,CAAC;IACDkB,QAAQ,CAACC,IAAI,CAACC,SAAS,CAACC,GAAG,CAAC7B,MAAM,CAAC,eAAe,CAAC,CAAC;IACpD0B,QAAQ,CAACI,gBAAgB,CAAC,WAAW,EAAEV,WAAW,CAAC;IACnDM,QAAQ,CAACI,gBAAgB,CAAC,SAAS,EAAEL,SAAS,CAAC;IAC/C,OAAO,MAAK;MACVC,QAAQ,CAACK,mBAAmB,CAAC,WAAW,EAAEX,WAAW,CAAC;MACtDM,QAAQ,CAACK,mBAAmB,CAAC,SAAS,EAAEN,SAAS,CAAC;MAClDC,QAAQ,CAACC,IAAI,CAACC,SAAS,CAACI,MAAM,CAAChC,MAAM,CAAC,eAAe,CAAC,CAAC;IACzD,CAAC;EACH,CAAC,EAAE,CAACO,UAAU,EAAEF,SAAS,EAAEI,cAAc,CAAC,CAAC;EAE3C,OACEd,KAAA,CAAAsC,aAAA;IAAKC,GAAG,EAAExB,YAAY;IAAEyB,SAAS,EAAEnC,MAAM,CAAC,eAAe,CAAC;IAAEoC,KAAK,EAAE;MAAEhC;IAAM;EAAE,GAC1ED,QAAQ,EACTR,KAAA,CAAAsC,aAAA;IAAME,SAAS,EAAEnC,MAAM,CAAC,sBAAsB,CAAC;IAAEW,WAAW,EAAEA;EAAW,EAAI,CACzE;AAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}